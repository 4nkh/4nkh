o: ActiveSupport::Cache::Entry	:@compressedF:@expires_in0:@created_atf1330591924.143766:@value{	I"length:EFi¼ŒI"digest;
F"%9ae5ed3df6612753284ead6296200f60I"source;
FI"¼Œ/*!
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
function blogger(a){var b=document.getElementsByTagName("div");for(var c=0;c<b.length;c++)name=b[c].getAttribute("name"),name=="blog"&&(b[c].id==a?b[c].style.display="block":b[c].style.display="none")}function navnews(a){var b=document.getElementsByTagName("li");for(var c=0;c<b.length;c++)name=b[c].getAttribute("name"),name=="news"&&(b[c].id==a?b[c].style.display="block":b[c].style.display="none")}function showonlyone(a){var b=document.getElementsByTagName("div");for(var c=0;c<b.length;c++)name=b[c].getAttribute("name"),name=="post"&&(b[c].id==a?b[c].style.display="block":b[c].style.display="none");a=="post1"&&(jQuery("#post_model").val("textos"),jQuery("#url_blog_field").hide()),a=="post2"&&(jQuery("#url_blog_field").hide(),jQuery("#post_model").val("images")),a=="post3"&&(jQuery("#url_blog_field").show(),jQuery("#post_model").val("links"),jQuery(".post_url_new").attr("placeholder","Paste your link")),a=="post4"&&(jQuery("#url_blog_field").show(),jQuery("#post_model").val("videos"),jQuery(".post_url_new").attr("placeholder","Paste your YOUTUBE of VIMEO url"))}function globalPageLoad(){hideIPhoneLocationBar(),setMobileMenuButton(),activateMenuItem("current","mn_"),document.documentElement.getElementsByTagName("body")[0].className="loaded "+document.documentElement.getElementsByTagName("body")[0].className}function createHTML5Tags(){var a=["article","aside","footer","header","nav","section"];for(var b=0;b<a.length;b++)document.createElement(a[b])}function activateMenuItem(a,b){var c=document.documentElement.getElementsByTagName("body")[0].className.split(" ");for(var d=0;d<c.length;d++)document.getElementById(b+c[d])&&(document.getElementById(b+c[d]).className=a+" "+document.getElementById(b+c[d]).className)}function hideIPhoneLocationBar(){screen.availWidth<748&&!window.location.hash&&setTimeout(function(){window.scrollTo(0,1)},0)}function setMobileMenuButton(){if(screen.availWidth<748){var a=document.getElementById("mobileMenuButton");a.nav=document.getElementsByTagName("header")[0].getElementsByTagName("nav")[0],a.onclick=function(){/doHide\s/.test(this.className)?(this.className=this.className.replace(/doHide\s/g,""),this.nav.style.height="0"):(this.className="doHide "+this.className,this.nav.style.height=String(this.nav.getElementsByTagName("ul")[0].offsetHeight)+"px")}}}function pageResize(){window.pageWidth||(window.pageWidth={current:null,widths:[768,1024,1280,1600]});var a=window.pageWidth.widths[0];for(var b=window.pageWidth.widths.length-1;b>=0;b--){var c=window.innerWidth;window.innerWidth>=window.pageWidth.widths[b]&&(a=window.pageWidth.widths[b],b=-1)}if(a!=window.pageWidth.current){window.pageWidth.current=a;var d=document.documentElement.getElementsByTagName("body")[0];document.documentElement.getElementsByTagName("body")[0].className=document.documentElement.getElementsByTagName("body")[0].className.replace(/^w[0-9](.*?)\s/gi,""),document.documentElement.getElementsByTagName("body")[0].className="w"+String(window.pageWidth.current)+" "+document.documentElement.getElementsByTagName("body")[0].className}}function createTransitionDelay(a,b){if(screen.availWidth<748)return;b==null&&(b=.05);var c=0,d="",e;for(var f=0;f<a.childNodes.length;f++)e=a.childNodes[f],e.nodeName.toLowerCase()=="li"&&(d=e.attributes.getNamedItem("style")?e.attributes.getNamedItem("style").value+" ":"",d+="-webkit-transition-delay:"+c+"s; ",d+="-moz-transition-delay:"+c+"s; ",d+="-ms-transition-delay:"+c+"s; ",d+="-o-transition-delay:"+c+"s; ",d+="transition-delay:"+c+"s;",e.setAttribute("style",d),c+=.05)}function createPiecesLinks(a){var b=a.getElementsByTagName("li");for(var c=0;c<b.length;c++){var d=b[c],e="|"+d.className.replace(/\s/g,"|")+"|",f=typeof Touch=="object";e.indexOf("|piece|")!=-1?d.getElementsByTagName("a").length>0&&(d.style.cursor="pointer",d.onclick=function(){return window.location.href=this.getElementsByTagName("a")[0].href,!1}):e.indexOf("|social|")!=-1?(d.onclick=function(){var a=document.getElementById("socialMedia");return/shown\s/.test(a.className)?a.className=a.className.replace(/shown\s/gi,"hidden "):(a.className=a.className.replace(/hidden\s/gi,""),a.className="shown "+a.className),!1},document.getElementById("closeSocialMediaButton")&&(document.getElementById("closeSocialMediaButton").onclick=function(){var a=document.getElementById("socialMedia");/shown\s/.test(a.className)?a.className=a.className.replace(/shown\s/gi,"hidden "):(a.className=a.className.replace(/hidden\s/gi,""),a.className="shown "+a.className)})):f&&(d.onclick=function(){})}}function setSectionSubNavs(){var a=document.getElementsByTagName("section")[0].getElementsByTagName("nav");for(var b=0;b<a.length;b++){var c=a[b].getElementsByTagName("a");for(var d=0;d<c.length;d++)c[d].onclick=function(){return scrollToElement(document.getElementById(this.href.substring(this.href.lastIndexOf("#")+1))),!1}}}function scrollToElement(a){if(a){var b=a,c=0;if(b.offsetParent)for(;;){c+=b.offsetTop;if(!b.offsetParent)break;b=b.offsetParent}else b.y&&(c+=b.y);window.elementInterval||(window.elementInterval=new Object);var d=document.body.scrollTop;d==0&&document.documentElement.scrollTop&&(d=document.documentElement.scrollTop),window.elementInterval.speed=c>=d?80:-80,window.elementInterval.finalYPos=c,window.elementInterval.previousPos=null,window.elementInterval.interval=setInterval(function(){var a=document.body.scrollTop;a==0&&document.documentElement.scrollTop&&(a=document.documentElement.scrollTop),window.elementInterval.previousPos!=a?(window.elementInterval.previousPos=a,window.elementInterval.speed>0?a+window.elementInterval.speed<window.elementInterval.finalYPos?window.scrollBy(0,window.elementInterval.speed):(window.scrollTo(0,window.elementInterval.finalYPos),clearInterval(window.elementInterval.interval),window.elementInterval.speed=null,window.elementInterval.interval=null,window.elementInterval.previousPos=null,window.elementInterval=null):window.elementInterval.speed<0&&(a-window.elementInterval.speed>window.elementInterval.finalYPos?window.scrollBy(0,window.elementInterval.speed):(window.scrollTo(0,window.elementInterval.finalYPos),clearInterval(window.elementInterval.interval),window.elementInterval.speed=null,window.elementInterval.interval=null,window.elementInterval.previousPos=null,window.elementInterval=null))):(window.scrollTo(0,window.elementInterval.finalYPos),clearInterval(window.elementInterval.interval),window.elementInterval.speed=null,window.elementInterval.interval=null,window.elementInterval.previousPos=null,window.elementInterval=null)},1)}}function addEvt(a,b,c,d){typeof a=="object"&&(d!=1&&(d=!1),a!=null&&(a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)))}function fileQueueError(a,b,c){try{var d="";b===SWFUpload.errorCode_QUEUE_LIMIT_EXCEEDED&&(d="You have attempted to queue too many files.");if(d!==""){alert(d);return}switch(b){case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:default:alert(c)}}catch(e){this.debug(e)}}function fileDialogComplete(a,b){try{b>0&&this.startUpload()}catch(c){this.debug(c)}}function uploadProgress(a,b){try{var c=Math.ceil(b/a.size*100),d=new FileProgress(a,this.customSettings.upload_target);d.setProgress(c),c===100?(d.setStatus("Processing file..."),d.toggleCancel(!1,this)):(d.setStatus("Uploading..."),d.toggleCancel(!0,this))}catch(e){this.debug(e)}}function uploadSuccess(a,b){try{var c=new FileProgress(a,this.customSettings.upload_target);c.setStatus("Upload Successfull."),c.toggleCancel(!1)}catch(d){this.debug(d)}}function uploadComplete(a){try{if(this.getStats().files_queued>0)this.startUpload();else{var b=new FileProgress(a,this.customSettings.upload_target);b.setComplete(),b.setStatus("All files received."),b.toggleCancel(!1),jQuery.facebox.close(),location.reload(!0)}}catch(c){this.debug(c)}}function uploadError(a,b,c){var d;try{switch(b){case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:try{d=new FileProgress(a,this.customSettings.upload_target),d.setCancelled(),d.setStatus("Cancelled"),d.toggleCancel(!1)}catch(e){this.debug(e)}break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:try{d=new FileProgress(a,this.customSettings.upload_target),d.setCancelled(),d.setStatus("Stopped"),d.toggleCancel(!0)}catch(f){this.debug(f)};case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:break;default:alert(c)}}catch(g){this.debug(g)}}function FileProgress(a,b){this.fileProgressID="divFileProgress",this.fileProgressWrapper=document.getElementById(this.fileProgressID);if(!this.fileProgressWrapper){this.fileProgressWrapper=document.createElement("div"),this.fileProgressWrapper.className="progressWrapper",this.fileProgressWrapper.id=this.fileProgressID,this.fileProgressElement=document.createElement("div"),this.fileProgressElement.className="progressContainer";var c=document.createElement("a");c.className="progressCancel",c.href="#",c.style.visibility="hidden",c.appendChild(document.createTextNode(" "));var d=document.createElement("div");d.className="progressName",d.appendChild(document.createTextNode(a.name));var e=document.createElement("div");e.className="progressBarInProgress";var f=document.createElement("div");f.className="progressBarStatus",f.innerHTML="&nbsp;",this.fileProgressElement.appendChild(c),this.fileProgressElement.appendChild(d),this.fileProgressElement.appendChild(f),this.fileProgressElement.appendChild(e),this.fileProgressWrapper.appendChild(this.fileProgressElement),document.getElementById(b).appendChild(this.fileProgressWrapper),fadeIn(this.fileProgressWrapper,0)}else this.fileProgressElement=this.fileProgressWrapper.firstChild,this.fileProgressElement.childNodes[1].firstChild.nodeValue=a.name;this.height=this.fileProgressWrapper.offsetHeight}function MM_reloadPage(init){if(init==1)with(navigator)appName=="Netscape"&&parseInt(appVersion)==4&&(document.MM_pgW=innerWidth,document.MM_pgH=innerHeight,onresize=MM_reloadPage);else(innerWidth!=document.MM_pgW||innerHeight!=document.MM_pgH)&&location.reload()}function MM_findObj(a,b){var c,d,e;b||(b=document),(c=a.indexOf("?"))>0&&parent.frames.length&&(b=parent.frames[a.substring(c+1)].document,a=a.substring(0,c)),!(e=b[a])&&b.all&&(e=b.all[a]);for(d=0;!e&&d<b.forms.length;d++)e=b.forms[d][a];for(d=0;!e&&b.layers&&d<b.layers.length;d++)e=MM_findObj(a,b.layers[d].document);return!e&&b.getElementById&&(e=b.getElementById(a)),e}function P7_autoLayers(){var b,c,d,e,f=P7_autoLayers.arguments;a=parseInt(f[0]),isNaN(a)&&(a=0);if(!document.p7setc){p7c=new Array,document.p7setc=!0;for(var g=0;g<10;g++)p7c[g]=new Array}for(d=0;d<p7c[a].length;d++)(b=MM_findObj(p7c[a][d]))!=null&&(c=document.layers?b:b.style,c.visibility="hidden");for(d=1;d<f.length;d++)if((b=MM_findObj(f[d]))!=null){c=document.layers?b:b.style,c.visibility="visible",e=!1;for(var h=0;h<p7c[a].length;h++)f[d]==p7c[a][h]&&(e=!0);e||(p7c[a][p7c[a].length++]=f[d])}}function MM_showHideLayers(){var a,b,c,d,e=MM_showHideLayers.arguments;for(a=0;a<e.length-2;a+=3)(d=MM_findObj(e[a]))!=null&&(c=e[a+2],d.style&&(d=d.style,c=c=="show"?"visible":c=="hide"?"hidden":c),d.visibility=c)}function getCookie(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1)return c_start=c_start+a.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))}return""}function setCookie(a,b,c,d,e,f){document.cookie=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")}function showhosting(a,b,c){var d=document.getElementsByTagName("div");for(var e=0;e<d.length;e++){a=d[e].getAttribute("name");if(a=="onglets")if(d[e].id==b){d[e].style.display="block",b=d[e].id;if(c){var f=new Date;f.setTime(f.getTime()+c*24*60*60*1e3);var g="; expires="+f.toGMTString()}else var g="";document.cookie=a+"="+b+g+"; path=/hosting",document.cookie=a+"="+b+g+"; path=/fr/hosting"}else d[e].style.display="none"}}function showseo(a,b,c){var d=document.getElementsByTagName("div");for(var e=0;e<d.length;e++){a=d[e].getAttribute("name");if(a=="seo")if(d[e].id==b){d[e].style.display="block",b=d[e].id;if(c){var f=new Date;f.setTime(f.getTime()+c*24*60*60*1e3);var g="; expires="+f.toGMTString()}else var g="";document.cookie=a+"="+b+g+"; path=/seo/",document.cookie=a+"="+b+g+"; path=/fr/seo/"}else d[e].style.display="none"}}function showbusi(a,b,c){var d=document.getElementsByTagName("div");for(var e=0;e<d.length;e++){a=d[e].getAttribute("name");if(a=="busi")if(d[e].id==b){d[e].style.display="block",b=d[e].id;if(c){var f=new Date;f.setTime(f.getTime()+c*24*60*60*1e3);var g="; expires="+f.toGMTString()}else var g="";document.cookie=a+"="+b+g+"; path=/business/",document.cookie=a+"="+b+g+"; path=/fr/business/"}else d[e].style.display="none"}}function tapeCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/seo/",document.cookie=a+"="+b+f+"; path=/fr/seo/",window.location="/seo/plan",console.log(getCookie("seo"))}function tapefrCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/seo/",document.cookie=a+"="+b+f+"; path=/fr/seo/",window.location="/fr/seo/plan"}function recordCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/hosting/",document.cookie=a+"="+b+f+"; path=/fr/hosting/",window.location="/hosting/plan"}function recordfrCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/hosting/",document.cookie=a+"="+b+f+"; path=/fr/hosting/",window.location="/fr/hosting/plan"}function fillCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/business/",document.cookie=a+"="+b+f+"; path=/fr/business/",window.location="/business/plan"}function fillfrCookie(a,b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=a+"="+b+f+"; path=/business/",document.cookie=a+"="+b+f+"; path=/frbusiness/",window.location="/fr/business/plan"}function preinit(){var a;(a=tinyMCEPopup.getParam("external_link_list_url"))&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(a)+'"></script>')}function changeClass(){var a=document.forms[0];a.classes.value=getSelectValue(a,"classlist")}function init(){tinyMCEPopup.resizeToInnerSize();var a=document.forms[0],b=tinyMCEPopup.editor,c=b.selection.getNode(),d="insert",e;document.getElementById("hrefbrowsercontainer").innerHTML=getBrowserHTML("hrefbrowser","href","file","advlink"),document.getElementById("popupurlbrowsercontainer").innerHTML=getBrowserHTML("popupurlbrowser","popupurl","file","advlink"),document.getElementById("linklisthrefcontainer").innerHTML=getLinkListHTML("linklisthref","href"),document.getElementById("anchorlistcontainer").innerHTML=getAnchorListHTML("anchorlist","href"),document.getElementById("targetlistcontainer").innerHTML=getTargetListHTML("targetlist","target"),e=getLinkListHTML("linklisthref","href"),e==""?document.getElementById("linklisthrefrow").style.display="none":document.getElementById("linklisthrefcontainer").innerHTML=e,isVisible("hrefbrowser")&&(document.getElementById("href").style.width="260px"),isVisible("popupurlbrowser")&&(document.getElementById("popupurl").style.width="180px"),c=b.dom.getParent(c,"A"),c!=null&&c.nodeName=="A"&&(d="update"),a.insert.value=tinyMCEPopup.getLang(d,"Insert",!0),setPopupControlsDisabled(!0);if(d=="update"){var f=b.dom.getAttrib(c,"href"),g=b.dom.getAttrib(c,"onclick");setFormValue("href",f),setFormValue("title",b.dom.getAttrib(c,"title")),setFormValue("id",b.dom.getAttrib(c,"id")),setFormValue("style",b.dom.getAttrib(c,"style")),setFormValue("rel",b.dom.getAttrib(c,"rel")),setFormValue("rev",b.dom.getAttrib(c,"rev")),setFormValue("charset",b.dom.getAttrib(c,"charset")),setFormValue("hreflang",b.dom.getAttrib(c,"hreflang")),setFormValue("dir",b.dom.getAttrib(c,"dir")),setFormValue("lang",b.dom.getAttrib(c,"lang")),setFormValue("tabindex",b.dom.getAttrib(c,"tabindex",typeof c.tabindex!="undefined"?c.tabindex:"")),setFormValue("accesskey",b.dom.getAttrib(c,"accesskey",typeof c.accesskey!="undefined"?c.accesskey:"")),setFormValue("type",b.dom.getAttrib(c,"type")),setFormValue("onfocus",b.dom.getAttrib(c,"onfocus")),setFormValue("onblur",b.dom.getAttrib(c,"onblur")),setFormValue("onclick",g),setFormValue("ondblclick",b.dom.getAttrib(c,"ondblclick")),setFormValue("onmousedown",b.dom.getAttrib(c,"onmousedown")),setFormValue("onmouseup",b.dom.getAttrib(c,"onmouseup")),setFormValue("onmouseover",b.dom.getAttrib(c,"onmouseover")),setFormValue("onmousemove",b.dom.getAttrib(c,"onmousemove")),setFormValue("onmouseout",b.dom.getAttrib(c,"onmouseout")),setFormValue("onkeypress",b.dom.getAttrib(c,"onkeypress")),setFormValue("onkeydown",b.dom.getAttrib(c,"onkeydown")),setFormValue("onkeyup",b.dom.getAttrib(c,"onkeyup")),setFormValue("target",b.dom.getAttrib(c,"target")),setFormValue("classes",b.dom.getAttrib(c,"class")),g!=null&&g.indexOf("window.open")!=-1?parseWindowOpen(g):parseFunction(g),selectByValue(a,"dir",b.dom.getAttrib(c,"dir")),selectByValue(a,"rel",b.dom.getAttrib(c,"rel")),selectByValue(a,"rev",b.dom.getAttrib(c,"rev")),selectByValue(a,"linklisthref",f),f.charAt(0)=="#"&&selectByValue(a,"anchorlist",f),addClassesToList("classlist","advlink_styles"),selectByValue(a,"classlist",b.dom.getAttrib(c,"class"),!0),selectByValue(a,"targetlist",b.dom.getAttrib(c,"target"),!0)}else addClassesToList("classlist","advlink_styles")}function checkPrefix(a){a.value&&Validator.isEmail(a)&&!/^\s*mailto:/i.test(a.value)&&confirm(tinyMCEPopup.getLang("advlink_dlg.is_email"))&&(a.value="mailto:"+a.value),/^\s*www\./i.test(a.value)&&confirm(tinyMCEPopup.getLang("advlink_dlg.is_external"))&&(a.value="http://"+a.value)}function setFormValue(a,b){document.forms[0].elements[a].value=b}function parseWindowOpen(a){var b=document.forms[0];a.indexOf("return false;")!=-1?(b.popupreturn.checked=!0,a=a.replace("return false;","")):b.popupreturn.checked=!1;var c=parseLink(a);if(c!=null){b.ispopup.checked=!0,setPopupControlsDisabled(!1);var d=parseOptions(c.options),e=c.url;b.popupname.value=c.target,b.popupurl.value=e,b.popupwidth.value=getOption(d,"width"),b.popupheight.value=getOption(d,"height"),b.popupleft.value=getOption(d,"left"),b.popuptop.value=getOption(d,"top"),b.popupleft.value.indexOf("screen")!=-1&&(b.popupleft.value="c"),b.popuptop.value.indexOf("screen")!=-1&&(b.popuptop.value="c"),b.popuplocation.checked=getOption(d,"location")=="yes",b.popupscrollbars.checked=getOption(d,"scrollbars")=="yes",b.popupmenubar.checked=getOption(d,"menubar")=="yes",b.popupresizable.checked=getOption(d,"resizable")=="yes",b.popuptoolbar.checked=getOption(d,"toolbar")=="yes",b.popupstatus.checked=getOption(d,"status")=="yes",b.popupdependent.checked=getOption(d,"dependent")=="yes",buildOnClick()}}function parseFunction(a){var b=document.forms[0],c=parseLink(a)}function getOption(a,b){return typeof a[b]=="undefined"?"":a[b]}function setPopupControlsDisabled(a){var b=document.forms[0];b.popupname.disabled=a,b.popupurl.disabled=a,b.popupwidth.disabled=a,b.popupheight.disabled=a,b.popupleft.disabled=a,b.popuptop.disabled=a,b.popuplocation.disabled=a,b.popupscrollbars.disabled=a,b.popupmenubar.disabled=a,b.popupresizable.disabled=a,b.popuptoolbar.disabled=a,b.popupstatus.disabled=a,b.popupreturn.disabled=a,b.popupdependent.disabled=a,setBrowserDisabled("popupurlbrowser",a)}function parseLink(a){a=a.replace(new RegExp("&#39;","g"),"'");var b=a.replace(new RegExp("\\s*([A-Za-z0-9.]*)\\s*\\(.*","gi"),"$1"),c=templates[b];if(c){var d=c.match(new RegExp("'?\\$\\{[A-Za-z0-9.]*\\}'?","gi")),e="\\s*[A-Za-z0-9.]*\\s*\\(",f="";for(var g=0;g<d.length;g++)d[g].indexOf("'${")!=-1?e+="'(.*)'":e+="([0-9]*)",f+="$"+(g+1),d[g]=d[g].replace(new RegExp("[^A-Za-z0-9]","gi"),""),g!=d.length-1?(e+="\\s*,\\s*",f+="<delim>"):e+=".*";e+="\\);?";var h=[];h._function=b;var i=a.replace(new RegExp(e,"gi"),f).split("<delim>");for(var g=0;g<d.length;g++)h[d[g]]=i[g];return h}return null}function parseOptions(a){if(a==null||a=="")return[];a=a.toLowerCase(),a=a.replace(/;/g,","),a=a.replace(/[^0-9a-z=,]/g,"");var b=a.split(","),c=[];for(var d=0;d<b.length;d++){var e=b[d].split("=");e.length==2&&(c[e[0]]=e[1])}return c}function buildOnClick(){var a=document.forms[0];if(!a.ispopup.checked){a.onclick.value="";return}var b="window.open('",c=a.popupurl.value;b+=c+"','",b+=a.popupname.value+"','",a.popuplocation.checked&&(b+="location=yes,"),a.popupscrollbars.checked&&(b+="scrollbars=yes,"),a.popupmenubar.checked&&(b+="menubar=yes,"),a.popupresizable.checked&&(b+="resizable=yes,"),a.popuptoolbar.checked&&(b+="toolbar=yes,"),a.popupstatus.checked&&(b+="status=yes,"),a.popupdependent.checked&&(b+="dependent=yes,"),a.popupwidth.value!=""&&(b+="width="+a.popupwidth.value+","),a.popupheight.value!=""&&(b+="height="+a.popupheight.value+","),a.popupleft.value!=""&&(a.popupleft.value!="c"?b+="left="+a.popupleft.value+",":b+="left='+(screen.availWidth/2-"+a.popupwidth.value/2+")+',"),a.popuptop.value!=""&&(a.popuptop.value!="c"?b+="top="+a.popuptop.value+",":b+="top='+(screen.availHeight/2-"+a.popupheight.value/2+")+',"),b.charAt(b.length-1)==","&&(b=b.substring(0,b.length-1)),b+="');",a.popupreturn.checked&&(b+="return false;"),a.onclick.value=b,a.href.value==""&&(a.href.value=c)}function setAttrib(a,b,c){var d=document.forms[0],e=d.elements[b.toLowerCase()],f=tinyMCEPopup.editor.dom;if(typeof c=="undefined"||c==null)c="",e&&(c=e.value);b=="style"&&(c=f.serializeStyle(f.parseStyle(c),"a")),f.setAttrib(a,b,c)}function getAnchorListHTML(a,b){var c=tinyMCEPopup.editor,d=c.dom.select("a.mceItemAnchor,img.mceItemAnchor"),e,f,g="";g+='<select id="'+a+'" name="'+a+'" class="mceAnchorList" o2nfocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="this.form.'+b+".value=",g+='this.options[this.selectedIndex].value;">',g+='<option value="">---</option>';for(f=0;f<d.length;f++)(e=c.dom.getAttrib(d[f],"name"))!=""&&(g+='<option value="#'+e+'">'+e+"</option>");return g+="</select>",g}function insertAction(){var a=tinyMCEPopup.editor,b,c,d;b=a.selection.getNode(),checkPrefix(document.forms[0].href),b=a.dom.getParent(b,"A");if(!document.forms[0].href.value){tinyMCEPopup.execCommand("mceBeginUndoLevel"),d=a.selection.getBookmark(),a.dom.remove(b,1),a.selection.moveToBookmark(d),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close();return}tinyMCEPopup.execCommand("mceBeginUndoLevel");if(b==null){a.getDoc().execCommand("unlink",!1,null),tinyMCEPopup.execCommand("CreateLink",!1,"#mce_temp_url#",{skip_undo:1}),c=tinymce.grep(a.dom.select("a"),function(b){return a.dom.getAttrib(b,"href")=="#mce_temp_url#"});for(d=0;d<c.length;d++)setAllAttribs(b=c[d])}else setAllAttribs(b);if(b.childNodes.length!=1||b.firstChild.nodeName!="IMG")a.focus(),a.selection.select(b),a.selection.collapse(0),tinyMCEPopup.storeSelection();tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function setAllAttribs(a){var b=document.forms[0],c=b.href.value,d=getSelectValue(b,"targetlist");setAttrib(a,"href",c),setAttrib(a,"title"),setAttrib(a,"target",d=="_self"?"":d),setAttrib(a,"id"),setAttrib(a,"style"),setAttrib(a,"class",getSelectValue(b,"classlist")),setAttrib(a,"rel"),setAttrib(a,"rev"),setAttrib(a,"charset"),setAttrib(a,"hreflang"),setAttrib(a,"dir"),setAttrib(a,"lang"),setAttrib(a,"tabindex"),setAttrib(a,"accesskey"),setAttrib(a,"type"),setAttrib(a,"onfocus"),setAttrib(a,"onblur"),setAttrib(a,"onclick"),setAttrib(a,"ondblclick"),setAttrib(a,"onmousedown"),setAttrib(a,"onmouseup"),setAttrib(a,"onmouseover"),setAttrib(a,"onmousemove"),setAttrib(a,"onmouseout"),setAttrib(a,"onkeypress"),setAttrib(a,"onkeydown"),setAttrib(a,"onkeyup"),tinyMCE.isMSIE5&&(a.outerHTML=a.outerHTML)}function getSelectValue(a,b){var c=a.elements[b];return!c||c.options==null||c.selectedIndex==-1?"":c.options[c.selectedIndex].value}function getLinkListHTML(a,b,c){if(typeof tinyMCELinkList=="undefined"||tinyMCELinkList.length==0)return"";var d="";d+='<select id="'+a+'" name="'+a+'"',d+=' class="mceLinkList" onfoc2us="tinyMCE.addSelectAccessibility(event, this, window);" onchange="this.form.'+b+".value=",d+="this.options[this.selectedIndex].value;",typeof c!="undefined"&&(d+=c+"('"+b+"',this.options[this.selectedIndex].text,this.options[this.selectedIndex].value);"),d+='"><option value="">---</option>';for(var e=0;e<tinyMCELinkList.length;e++)d+='<option value="'+tinyMCELinkList[e][1]+'">'+tinyMCELinkList[e][0]+"</option>";return d+="</select>",d}function getTargetListHTML(a,b){var c=tinyMCEPopup.getParam("theme_advanced_link_targets","").split(";"),d="";d+='<select id="'+a+'" name="'+a+'" onf2ocus="tinyMCE.addSelectAccessibility(event, this, window);" onchange="this.form.'+b+".value=",d+='this.options[this.selectedIndex].value;">',d+='<option value="_self">'+tinyMCEPopup.getLang("advlink_dlg.target_same")+"</option>",d+='<option value="_blank">'+tinyMCEPopup.getLang("advlink_dlg.target_blank")+" (_blank)</option>",d+='<option value="_parent">'+tinyMCEPopup.getLang("advlink_dlg.target_parent")+" (_parent)</option>",d+='<option value="_top">'+tinyMCEPopup.getLang("advlink_dlg.target_top")+" (_top)</option>";for(var e=0;e<c.length;e++){var f,g;if(c[e]=="")continue;f=c[e].split("=")[0],g=c[e].split("=")[1],d+='<option value="'+f+'">'+g+" ("+f+")</option>"}return d+="</select>",d}function init(){var a=document.forms.fullpage,b=a.elements,c,d,e,f,g,i,j,k=tinyMCEPopup.editor,l=tinyMCEPopup.dom,m;f=k.getParam("fullpage_doctypes",defaultDocTypes).split(",");for(d=0;d<f.length;d++)e=f[d].split("="),e.length>1&&addSelectValue(a,"doctypes",e[0],e[1]);j=k.getParam("fullpage_fonts",defaultFontNames).split(";");for(d=0;d<j.length;d++)e=j[d].split("="),e.length>1&&addSelectValue(a,"fontface",e[0],e[1]);j=k.getParam("fullpage_fontsizes",defaultFontSizes).split(",");for(d=0;d<j.length;d++)addSelectValue(a,"fontsize",j[d],j[d]);i=k.getParam("fullpage_media_types",defaultMediaTypes).split(",");for(d=0;d<i.length;d++)e=i[d].split("="),e.length>1&&(addSelectValue(a,"element_style_media",e[0],e[1]),addSelectValue(a,"element_link_media",e[0],e[1]));g=k.getParam("fullpage_encodings",defaultEncodings).split(",");for(d=0;d<g.length;d++)e=g[d].split("="),e.length>1&&(addSelectValue(a,"docencoding",e[0],e[1]),addSelectValue(a,"element_script_charset",e[0],e[1]),addSelectValue(a,"element_link_charset",e[0],e[1]));document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor"),document.getElementById("link_color_pickcontainer").innerHTML=getColorPickerHTML("link_color_pick","link_color"),document.getElementById("visited_color_pickcontainer").innerHTML=getColorPickerHTML("visited_color_pick","visited_color"),document.getElementById("active_color_pickcontainer").innerHTML=getColorPickerHTML("active_color_pick","active_color"),document.getElementById("textcolor_pickcontainer").innerHTML=getColorPickerHTML("textcolor_pick","textcolor"),document.getElementById("stylesheet_browsercontainer").innerHTML=getBrowserHTML("stylesheetbrowser","stylesheet","file","fullpage"),document.getElementById("link_href_pickcontainer").innerHTML=getBrowserHTML("link_href_browser","element_link_href","file","fullpage"),document.getElementById("script_src_pickcontainer").innerHTML=getBrowserHTML("script_src_browser","element_script_src","file","fullpage"),document.getElementById("bgimage_pickcontainer").innerHTML=getBrowserHTML("bgimage_browser","bgimage","image","fullpage"),isVisible("stylesheetbrowser")&&(document.getElementById("stylesheet").style.width="220px"),isVisible("link_href_browser")&&(document.getElementById("element_link_href").style.width="230px"),isVisible("bgimage_browser")&&(document.getElementById("bgimage").style.width="210px"),l.add(document.body,"iframe",{id:"documentIframe",src:'javascript:""',style:{display:"none"}}),doc=l.get("documentIframe").contentWindow.document,h=tinyMCEPopup.getWindowArg("head_html"),h=h.replace(/<script>/gi,'<script type="text/javascript">'),h=h.replace(/type=([\"\'])?/gi,"type=$1-mce-"),h=h.replace(/(src=|href=)/g,"_mce_$1"),doc.write(h+"</body></html>"),doc.close(),xmlVer=getReItem(/<\?\s*?xml.*?version\s*?=\s*?"(.*?)".*?\?>/gi,h,1),xmlEnc=getReItem(/<\?\s*?xml.*?encoding\s*?=\s*?"(.*?)".*?\?>/gi,h,1),docType=getReItem(/<\!DOCTYPE.*?>/gi,h.replace(/\n/g,""),0).replace(/ +/g," "),a.langcode.value=getReItem(/lang="(.*?)"/gi,h,1);if(c=doc.getElementsByTagName("title")[0])b.metatitle.value=c.textContent||c.text;tinymce.each(doc.getElementsByTagName("meta"),function(d){var e=(d.getAttribute("name",2)||"").toLowerCase(),f=d.getAttribute("content",2),g=d.getAttribute("httpEquiv",2)||"";c=b["meta"+e];if(e=="robots"){selectByValue(a,"metarobots",tinymce.trim(f),!0,!0);return}switch(g.toLowerCase()){case"content-type":tmp=getReItem(/charset\s*=\s*(.*)\s*/gi,f,1),tmp!=""&&(xmlEnc=tmp);return}c&&(c.value=f)}),selectByValue(a,"doctypes",docType,!0,!0),selectByValue(a,"docencoding",xmlEnc,!0,!0),selectByValue(a,"langdir",doc.body.getAttribute("dir",2)||"",!0,!0),xmlVer!=""&&(b.xml_pi.checked=!0),tinymce.each(doc.getElementsByTagName("link"),function(b){var c=b.getAttribute("media",2)||"",d=b.getAttribute("type",2)||"";if(d=="-mce-text/css"&&(c==""||c=="screen"||c=="all")&&(b.getAttribute("rel",2)||"")=="stylesheet")return a.stylesheet.value=b.getAttribute("_mce_href",2)||"",!1}),tinymce.each(doc.getElementsByTagName("style"),function(b){var c=parseStyleElement(b);for(x=0;x<c.length;x++)c[x].rule.indexOf("a:visited")!=-1&&c[x].data.color&&(a.visited_color.value=c[x].data.color),c[x].rule.indexOf("a:link")!=-1&&c[x].data.color&&(a.link_color.value=c[x].data.color),c[x].rule.indexOf("a:active")!=-1&&c[x].data.color&&(a.active_color.value=c[x].data.color)}),a.textcolor.value=tinyMCEPopup.dom.getAttrib(doc.body,"text"),a.active_color.value=tinyMCEPopup.dom.getAttrib(doc.body,"alink"),a.link_color.value=tinyMCEPopup.dom.getAttrib(doc.body,"link"),a.visited_color.value=tinyMCEPopup.dom.getAttrib(doc.body,"vlink"),a.bgcolor.value=tinyMCEPopup.dom.getAttrib(doc.body,"bgcolor"),a.bgimage.value=tinyMCEPopup.dom.getAttrib(doc.body,"background"),m=tinyMCEPopup.dom.parseStyle(tinyMCEPopup.dom.getAttrib(doc.body,"style")),m["font-family"]?selectByValue(a,"fontface",m["font-family"],!0,!0):selectByValue(a,"fontface",k.getParam("fullpage_default_fontface",""),!0,!0),m["font-size"]?selectByValue(a,"fontsize",m["font-size"],!0,!0):selectByValue(a,"fontsize",k.getParam("fullpage_default_fontsize",""),!0,!0),m.color&&(a.textcolor.value=convertRGBToHex(m.color)),m["background-image"]&&(a.bgimage.value=m["background-image"].replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1")),m["background-color"]&&(a.bgcolor.value=m["background-color"]),m.margin&&(tmp=m.margin.replace(/[^0-9 ]/g,""),tmp=tmp.split(/ +/),a.topmargin.value=tmp.length>0?tmp[0]:"",a.rightmargin.value=tmp.length>1?tmp[1]:tmp[0],a.bottommargin.value=tmp.length>2?tmp[2]:tmp[0],a.leftmargin.value=tmp.length>3?tmp[3]:tmp[0]),m["margin-left"]&&(a.leftmargin.value=m["margin-left"].replace(/[^0-9]/g,"")),m["margin-right"]&&(a.rightmargin.value=m["margin-right"].replace(/[^0-9]/g,"")),m["margin-top"]&&(a.topmargin.value=m["margin-top"].replace(/[^0-9]/g,"")),m["margin-bottom"]&&(a.bottommargin.value=m["margin-bottom"].replace(/[^0-9]/g,"")),a.style.value=tinyMCEPopup.dom.serializeStyle(m),updateColor("textcolor_pick","textcolor"),updateColor("bgcolor_pick","bgcolor"),updateColor("visited_color_pick","visited_color"),updateColor("active_color_pick","active_color"),updateColor("link_color_pick","link_color")}function getReItem(a,b,c){var d=a.exec(b);return d&&d.length>c?d[c]:""}function updateAction(){var a=document.forms[0],b,c,d,e,f,g,h,i,j,k=!0,l;g=doc.getElementsByTagName("head")[0],b=doc.getElementsByTagName("script");for(c=0;c<b.length;c++)tinyMCEPopup.dom.getAttrib(b[c],"_mce_type")==""&&b[c].setAttribute
("_mce_type","text/javascript");b=doc.getElementsByTagName("link");for(c=0;c<b.length;c++){i=b[c],j=tinyMCEPopup.dom.getAttrib(i,"media");if(tinyMCEPopup.dom.getAttrib(i,"_mce_type")=="text/css"&&(j==""||j=="screen"||j=="all")&&tinyMCEPopup.dom.getAttrib(i,"rel")=="stylesheet"){k=!1,a.stylesheet.value==""?i.parentNode.removeChild(i):i.setAttribute("_mce_href",a.stylesheet.value);break}}a.stylesheet.value!=""&&(i=doc.createElement("link"),i.setAttribute("type","text/css"),i.setAttribute("_mce_href",a.stylesheet.value),i.setAttribute("rel","stylesheet"),g.appendChild(i)),setMeta(g,"keywords",a.metakeywords.value),setMeta(g,"description",a.metadescription.value),setMeta(g,"author",a.metaauthor.value),setMeta(g,"copyright",a.metacopyright.value),setMeta(g,"robots",getSelectValue(a,"metarobots")),setMeta(g,"Content-Type",getSelectValue(a,"docencoding")),doc.body.dir=getSelectValue(a,"langdir"),doc.body.style.cssText=a.style.value,doc.body.setAttribute("vLink",a.visited_color.value),doc.body.setAttribute("link",a.link_color.value),doc.body.setAttribute("text",a.textcolor.value),doc.body.setAttribute("aLink",a.active_color.value),doc.body.style.fontFamily=getSelectValue(a,"fontface"),doc.body.style.fontSize=getSelectValue(a,"fontsize"),doc.body.style.backgroundColor=a.bgcolor.value,a.leftmargin.value!=""&&(doc.body.style.marginLeft=a.leftmargin.value+"px"),a.rightmargin.value!=""&&(doc.body.style.marginRight=a.rightmargin.value+"px"),a.bottommargin.value!=""&&(doc.body.style.marginBottom=a.bottommargin.value+"px"),a.topmargin.value!=""&&(doc.body.style.marginTop=a.topmargin.value+"px"),h=doc.getElementsByTagName("html")[0],h.setAttribute("lang",a.langcode.value),h.setAttribute("xml:lang",a.langcode.value),a.bgimage.value!=""?doc.body.style.backgroundImage="url('"+a.bgimage.value+"')":doc.body.style.backgroundImage="",l=tinyMCEPopup.editor.plugins.fullpage._createSerializer(),l.setRules("-title,meta[http-equiv|name|content],base[href|target],link[href|rel|type|title|media],style[type],script[type|language|src],html[lang|xml::lang|xmlns],body[style|dir|vlink|link|text|alink],head"),d=l.serialize(doc.documentElement),d=d.substring(0,d.lastIndexOf("</body>")),d.indexOf("<title>")==-1?d=d.replace(/<head.*?>/,"$&\n<title>"+tinyMCEPopup.dom.encode(a.metatitle.value)+"</title>"):d=d.replace(/<title>(.*?)<\/title>/,"<title>"+tinyMCEPopup.dom.encode(a.metatitle.value)+"</title>"),(e=getSelectValue(a,"doctypes"))!=""&&(d=e+"\n"+d),a.xml_pi.checked&&(f='<?xml version="1.0"',(e=getSelectValue(a,"docencoding"))!=""&&(f+=' encoding="'+e+'"'),f+="?>\n",d=f+d),d=d.replace(/type=\"\-mce\-/gi,'type="'),tinyMCEPopup.editor.plugins.fullpage.head=d,tinyMCEPopup.editor.plugins.fullpage._setBodyAttribs(tinyMCEPopup.editor,{}),tinyMCEPopup.close()}function changedStyleField(a){}function setMeta(a,b,c){var d,e,f;d=a.getElementsByTagName("meta");for(e=0;e<d.length;e++){if(b=="Content-Type"&&tinyMCEPopup.dom.getAttrib(d[e],"http-equiv")==b){c==""?d[e].parentNode.removeChild(d[e]):d[e].setAttribute("content","text/html; charset="+c);return}if(tinyMCEPopup.dom.getAttrib(d[e],"name")==b){c==""?d[e].parentNode.removeChild(d[e]):d[e].setAttribute("content",c);return}}if(c=="")return;f=doc.createElement("meta"),b=="Content-Type"?f.httpEquiv=b:f.setAttribute("name",b),f.setAttribute("content",c),a.appendChild(f)}function parseStyleElement(a){var b=a.innerHTML,c,d,e;b=b.replace(/<!--/gi,""),b=b.replace(/-->/gi,""),b=b.replace(/[\n\r]/gi,""),b=b.replace(/\s+/gi," "),e=[],c=b.split(/{|}/);for(d=0;d<c.length;d+=2)c[d]!=""&&(e[e.length]={rule:tinymce.trim(c[d]),data:tinyMCEPopup.dom.parseStyle(c[d+1])});return e}function serializeStyleElement(a){var b,c,d;c="<!--\n";for(b=0;b<a.length;b++)c+=a[b].rule+" {\n",d=tinyMCE.serializeStyle(a[b].data),d!=""&&(d+=";"),c+=d.replace(/;/g,";\n"),c+="}\n",b!=a.length-1&&(c+="\n");return c+="\n-->",c}function writeFlash(a){writeEmbed("D27CDB6E-AE6D-11cf-96B8-444553540000","http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0","application/x-shockwave-flash",a)}function writeShockWave(a){writeEmbed("166B1BCA-3F9C-11CF-8075-444553540000","http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0","application/x-director",a)}function writeQuickTime(a){writeEmbed("02BF25D5-8C17-4B23-BC80-D3488ABDDC6B","http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0","video/quicktime",a)}function writeRealMedia(a){writeEmbed("CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA","http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0","audio/x-pn-realaudio-plugin",a)}function writeWindowsMedia(a){a.url=a.src,writeEmbed("6BF52A52-394A-11D3-B153-00C04F79FAA6","http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701","application/x-mplayer2",a)}function writeEmbed(a,b,c,d){var e="",f;e+='<object classid="clsid:'+a+'" codebase="'+b+'"',e+=typeof d.id!="undefined"?'id="'+d.id+'"':"",e+=typeof d.name!="undefined"?'name="'+d.name+'"':"",e+=typeof d.width!="undefined"?'width="'+d.width+'"':"",e+=typeof d.height!="undefined"?'height="'+d.height+'"':"",e+=typeof d.align!="undefined"?'align="'+d.align+'"':"",e+=">";for(f in d)e+='<param name="'+f+'" value="'+d[f]+'">';e+='<embed type="'+c+'"';for(f in d)e+=f+'="'+d[f]+'" ';e+="></embed></object>",document.write(e)}function init(){var a="",b,c,d="flash",e,f;ed=tinyMCEPopup.editor,tinyMCEPopup.resizeToInnerSize(),b=document.forms[0],e=ed.selection.getNode();if(/mceItem(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)/.test(ed.dom.getAttrib(e,"class"))){a=e.title;switch(ed.dom.getAttrib(e,"class")){case"mceItemFlash":d="flash";break;case"mceItemFlashVideo":d="flv";break;case"mceItemShockWave":d="shockwave";break;case"mceItemWindowsMedia":d="wmp";break;case"mceItemQuickTime":d="qt";break;case"mceItemRealMedia":d="rmp"}document.forms[0].insert.value=ed.getLang("update","Insert",!0)}document.getElementById("filebrowsercontainer").innerHTML=getBrowserHTML("filebrowser","src","media","media"),document.getElementById("qtsrcfilebrowsercontainer").innerHTML=getBrowserHTML("qtsrcfilebrowser","qt_qtsrc","media","media"),document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor");var g=getMediaListHTML("medialist","src","media","media");g==""?document.getElementById("linklistrow").style.display="none":document.getElementById("linklistcontainer").innerHTML=g,isVisible("filebrowser")&&(document.getElementById("src").style.width="230px");if(a!=""){a=tinyMCEPopup.editor.plugins.media._parse(a);switch(d){case"flash":setBool(a,"flash","play"),setBool(a,"flash","loop"),setBool(a,"flash","menu"),setBool(a,"flash","swliveconnect"),setStr(a,"flash","quality"),setStr(a,"flash","scale"),setStr(a,"flash","salign"),setStr(a,"flash","wmode"),setStr(a,"flash","base"),setStr(a,"flash","flashvars");break;case"qt":setBool(a,"qt","loop"),setBool(a,"qt","autoplay"),setBool(a,"qt","cache"),setBool(a,"qt","controller"),setBool(a,"qt","correction"),setBool(a,"qt","enablejavascript"),setBool(a,"qt","kioskmode"),setBool(a,"qt","autohref"),setBool(a,"qt","playeveryframe"),setBool(a,"qt","tarsetcache"),setStr(a,"qt","scale"),setStr(a,"qt","starttime"),setStr(a,"qt","endtime"),setStr(a,"qt","tarset"),setStr(a,"qt","qtsrcchokespeed"),setStr(a,"qt","volume"),setStr(a,"qt","qtsrc");break;case"shockwave":setBool(a,"shockwave","sound"),setBool(a,"shockwave","progress"),setBool(a,"shockwave","autostart"),setBool(a,"shockwave","swliveconnect"),setStr(a,"shockwave","swvolume"),setStr(a,"shockwave","swstretchstyle"),setStr(a,"shockwave","swstretchhalign"),setStr(a,"shockwave","swstretchvalign");break;case"wmp":setBool(a,"wmp","autostart"),setBool(a,"wmp","enabled"),setBool(a,"wmp","enablecontextmenu"),setBool(a,"wmp","fullscreen"),setBool(a,"wmp","invokeurls"),setBool(a,"wmp","mute"),setBool(a,"wmp","stretchtofit"),setBool(a,"wmp","windowlessvideo"),setStr(a,"wmp","balance"),setStr(a,"wmp","baseurl"),setStr(a,"wmp","captioningid"),setStr(a,"wmp","currentmarker"),setStr(a,"wmp","currentposition"),setStr(a,"wmp","defaultframe"),setStr(a,"wmp","playcount"),setStr(a,"wmp","rate"),setStr(a,"wmp","uimode"),setStr(a,"wmp","volume");break;case"rmp":setBool(a,"rmp","autostart"),setBool(a,"rmp","loop"),setBool(a,"rmp","autogotourl"),setBool(a,"rmp","center"),setBool(a,"rmp","imagestatus"),setBool(a,"rmp","maintainaspect"),setBool(a,"rmp","nojava"),setBool(a,"rmp","prefetch"),setBool(a,"rmp","shuffle"),setStr(a,"rmp","console"),setStr(a,"rmp","controls"),setStr(a,"rmp","numloop"),setStr(a,"rmp","scriptcallbacks")}setStr(a,null,"src"),setStr(a,null,"id"),setStr(a,null,"name"),setStr(a,null,"vspace"),setStr(a,null,"hspace"),setStr(a,null,"bgcolor"),setStr(a,null,"align"),setStr(a,null,"width"),setStr(a,null,"height"),(c=ed.dom.getAttrib(e,"width"))!=""&&(a.width=b.width.value=c),(c=ed.dom.getAttrib(e,"height"))!=""&&(a.height=b.height.value=c),oldWidth=a.width?parseInt(a.width):0,oldHeight=a.height?parseInt(a.height):0}else oldWidth=oldHeight=0;selectByValue(b,"media_type",d),changedType(d),updateColor("bgcolor_pick","bgcolor"),TinyMCE_EditableSelects.init(),generatePreview()}function insertMedia(){var a,b=document.forms[0],c;tinyMCEPopup.restoreSelection();if(!AutoValidator.validate(b))return tinyMCEPopup.alert(ed.getLang("invalid_data")),!1;b.width.value=b.width.value==""?100:b.width.value,b.height.value=b.height.value==""?100:b.height.value,a=ed.selection.getNode();if(a!=null&&/mceItem(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)/.test(ed.dom.getAttrib(a,"class"))){switch(b.media_type.options[b.media_type.selectedIndex].value){case"flash":a.className="mceItemFlash";break;case"flv":a.className="mceItemFlashVideo";break;case"shockwave":a.className="mceItemShockWave";break;case"qt":a.className="mceItemQuickTime";break;case"wmp":a.className="mceItemWindowsMedia";break;case"rmp":a.className="mceItemRealMedia"}(a.width!=b.width.value||a.height!=b.height.value)&&ed.execCommand("mceRepaint"),a.title=serializeParameters(),a.width=b.width.value,a.height=b.height.value,a.style.width=b.width.value+(b.width.value.indexOf("%")==-1?"px":""),a.style.height=b.height.value+(b.height.value.indexOf("%")==-1?"px":""),a.align=b.align.options[b.align.selectedIndex].value}else{c='<img src="'+tinyMCEPopup.getWindowArg("plugin_url")+'/img/trans.gif"';switch(b.media_type.options[b.media_type.selectedIndex].value){case"flash":c+=' class="mceItemFlash"';break;case"flv":c+=' class="mceItemFlashVideo"';break;case"shockwave":c+=' class="mceItemShockWave"';break;case"qt":c+=' class="mceItemQuickTime"';break;case"wmp":c+=' class="mceItemWindowsMedia"';break;case"rmp":c+=' class="mceItemRealMedia"'}c+=' title="'+serializeParameters()+'"',c+=' width="'+b.width.value+'"',c+=' height="'+b.height.value+'"',c+=' align="'+b.align.options[b.align.selectedIndex].value+'"',c+=" />",ed.execCommand("mceInsertContent",!1,c)}tinyMCEPopup.close()}function updatePreview(){var a=document.forms[0],b;a.width.value=a.width.value||"320",a.height.value=a.height.value||"240",b=getType(a.src.value),selectByValue(a,"media_type",b),changedType(b),generatePreview()}function getMediaListHTML(){if(typeof tinyMCEMediaList!="undefined"&&tinyMCEMediaList.length>0){var a="";a+='<select id="linklist" name="linklist" style="width: 250px" onchange="this.form.src.value=this.options[this.selectedIndex].value;updatePreview();">',a+='<option value="">---</option>';for(var b=0;b<tinyMCEMediaList.length;b++)a+='<option value="'+tinyMCEMediaList[b][1]+'">'+tinyMCEMediaList[b][0]+"</option>";return a+="</select>",a}return""}function getType(a){var b,c,d,e,f,g=document.forms[0];b=ed.getParam("media_types","flash=swf;flv=flv;shockwave=dcr;qt=mov,qt,mpg,mp3,mp4,mpeg;shockwave=dcr;wmp=avi,wmv,wm,asf,asx,wmx,wvx;rmp=rm,ra,ram").split(";");if(a.match(/watch\?v=(.+)(.*)/))return g.width.value="425",g.height.value="350",g.src.value="http://www.youtube.com/v/"+a.match(/v=(.*)(.*)/)[0].split("=")[1],"flash";if(a.indexOf("http://video.google.com/videoplay?docid=")==0)return g.width.value="425",g.height.value="326",g.src.value="http://video.google.com/googleplayer.swf?docId="+a.substring("http://video.google.com/videoplay?docid=".length)+"&hl=en","flash";for(c=0;c<b.length;c++){d=b[c].split("="),e=d[1].split(",");for(f=0;f<e.length;f++)if(a.indexOf("."+e[f])!=-1)return d[0]}return null}function switchType(a){var b=getType(a),c=document,d=c.forms[0];if(!b)return;selectByValue(c.forms[0],"media_type",b),changedType(b),b=="qt"&&d.src.value.toLowerCase().indexOf("rtsp://")!=-1&&(alert(ed.getLang("media_qt_stream_warn")),d.qt_qtsrc.value==""&&(d.qt_qtsrc.value=d.src.value))}function changedType(a){var b=document;b.getElementById("flash_options").style.display="none",b.getElementById("flv_options").style.display="none",b.getElementById("qt_options").style.display="none",b.getElementById("shockwave_options").style.display="none",b.getElementById("wmp_options").style.display="none",b.getElementById("rmp_options").style.display="none",a&&(b.getElementById(a+"_options").style.display="block")}function serializeParameters(){var a=document,b=a.forms[0],c="";switch(b.media_type.options[b.media_type.selectedIndex].value){case"flash":c+=getBool("flash","play",!0),c+=getBool("flash","loop",!0),c+=getBool("flash","menu",!0),c+=getBool("flash","swliveconnect",!1),c+=getStr("flash","quality"),c+=getStr("flash","scale"),c+=getStr("flash","salign"),c+=getStr("flash","wmode"),c+=getStr("flash","base"),c+=getStr("flash","flashvars");break;case"qt":c+=getBool("qt","loop",!1),c+=getBool("qt","autoplay",!0),c+=getBool("qt","cache",!1),c+=getBool("qt","controller",!0),c+=getBool("qt","correction",!1,"none","full"),c+=getBool("qt","enablejavascript",!1),c+=getBool("qt","kioskmode",!1),c+=getBool("qt","autohref",!1),c+=getBool("qt","playeveryframe",!1),c+=getBool("qt","targetcache",!1),c+=getStr("qt","scale"),c+=getStr("qt","starttime"),c+=getStr("qt","endtime"),c+=getStr("qt","target"),c+=getStr("qt","qtsrcchokespeed"),c+=getStr("qt","volume"),c+=getStr("qt","qtsrc");break;case"shockwave":c+=getBool("shockwave","sound"),c+=getBool("shockwave","progress"),c+=getBool("shockwave","autostart"),c+=getBool("shockwave","swliveconnect"),c+=getStr("shockwave","swvolume"),c+=getStr("shockwave","swstretchstyle"),c+=getStr("shockwave","swstretchhalign"),c+=getStr("shockwave","swstretchvalign");break;case"wmp":c+=getBool("wmp","autostart",!0),c+=getBool("wmp","enabled",!1),c+=getBool("wmp","enablecontextmenu",!0),c+=getBool("wmp","fullscreen",!1),c+=getBool("wmp","invokeurls",!0),c+=getBool("wmp","mute",!1),c+=getBool("wmp","stretchtofit",!1),c+=getBool("wmp","windowlessvideo",!1),c+=getStr("wmp","balance"),c+=getStr("wmp","baseurl"),c+=getStr("wmp","captioningid"),c+=getStr("wmp","currentmarker"),c+=getStr("wmp","currentposition"),c+=getStr("wmp","defaultframe"),c+=getStr("wmp","playcount"),c+=getStr("wmp","rate"),c+=getStr("wmp","uimode"),c+=getStr("wmp","volume");break;case"rmp":c+=getBool("rmp","autostart",!1),c+=getBool("rmp","loop",!1),c+=getBool("rmp","autogotourl",!0),c+=getBool("rmp","center",!1),c+=getBool("rmp","imagestatus",!0),c+=getBool("rmp","maintainaspect",!1),c+=getBool("rmp","nojava",!1),c+=getBool("rmp","prefetch",!1),c+=getBool("rmp","shuffle",!1),c+=getStr("rmp","console"),c+=getStr("rmp","controls"),c+=getStr("rmp","numloop"),c+=getStr("rmp","scriptcallbacks")}return c+=getStr(null,"id"),c+=getStr(null,"name"),c+=getStr(null,"src"),c+=getStr(null,"align"),c+=getStr(null,"bgcolor"),c+=getInt(null,"vspace"),c+=getInt(null,"hspace"),c+=getStr(null,"width"),c+=getStr(null,"height"),c=c.length>0?c.substring(0,c.length-1):c,c}function setBool(a,b,c){if(typeof a[c]=="undefined")return;document.forms[0].elements[b+"_"+c].checked=a[c]!="false"}function setStr(a,b,c){var d=document.forms[0],e=d.elements[(b!=null?b+"_":"")+c];if(typeof a[c]=="undefined")return;e.type=="text"?e.value=a[c]:selectByValue(d,(b!=null?b+"_":"")+c,a[c])}function getBool(a,b,c,d,e){var f=document.forms[0].elements[a+"_"+b].checked;return d=typeof d=="undefined"?"true":"'"+jsEncode(d)+"'",e=typeof e=="undefined"?"false":"'"+jsEncode(e)+"'",f==c?"":b+(f?":"+d+",":":'"+e+"',")}function getStr(a,b,c){var d=document.forms[0].elements[(a!=null?a+"_":"")+b],e=d.type=="text"?d.value:d.options[d.selectedIndex].value;return b=="src"&&(e=tinyMCEPopup.editor.convertURL(e,"src",null)),b==c||e==""?"":b+":'"+jsEncode(e)+"',"}function getInt(a,b,c){var d=document.forms[0].elements[(a!=null?a+"_":"")+b],e=d.type=="text"?d.value:d.options[d.selectedIndex].value;return b==c||e==""?"":b+":"+e.replace(/[^0-9]+/g,"")+","}function jsEncode(a){return a=a.replace(new RegExp("\\\\","g"),"\\\\"),a=a.replace(new RegExp('"',"g"),'\\"'),a=a.replace(new RegExp("'","g"),"\\'"),a}function generatePreview(a){var b=document.forms[0],c=document.getElementById("prev"),d="",e,f,g,h,i,j,k,l,m;c.innerHTML="<!-- x --->",l=parseInt(b.width.value),m=parseInt(b.height.value),b.width.value!=""&&b.height.value!=""&&b.constrain.checked&&(a=="width"&&oldWidth!=0?(j=l/oldWidth,m=Math.round(j*m),b.height.value=m):a=="height"&&oldHeight!=0&&(k=m/oldHeight,l=Math.round(k*l),b.width.value=l)),b.width.value!=""&&(oldWidth=l),b.height.value!=""&&(oldHeight=m),f=serializeParameters();switch(b.media_type.options[b.media_type.selectedIndex].value){case"flash":e="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",i="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",h="application/x-shockwave-flash";break;case"shockwave":e="clsid:166B1BCA-3F9C-11CF-8075-444553540000",i="http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0",h="application/x-director";break;case"qt":e="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",i="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0",h="video/quicktime";break;case"wmp":e=ed.getParam("media_wmp6_compatible")?"clsid:05589FA1-C356-11CE-BF01-00AA0055595A":"clsid:6BF52A52-394A-11D3-B153-00C04F79FAA6",i="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701",h="application/x-mplayer2";break;case"rmp":e="clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA",i="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701",h="audio/x-pn-realaudio-plugin"}if(f==""){c.innerHTML="";return}f=tinyMCEPopup.editor.plugins.media._parse(f);if(!f.src){c.innerHTML="";return}f.src=tinyMCEPopup.editor.documentBaseURI.toAbsolute(f.src),f.width=f.width?f.width:100,f.height=f.height?f.height:100,f.id=f.id?f.id:"obj",f.name=f.name?f.name:"eobj",f.align=f.align?f.align:"";if(!tinymce.isIE||document.location.protocol!="https:"){d+='<object classid="'+e+'" codebase="'+i+'" width="'+f.width+'" height="'+f.height+'" id="'+f.id+'" name="'+f.name+'" align="'+f.align+'">';for(g in f)d+='<param name="'+g+'" value="'+f[g]+'">',g=="src"&&f[g].indexOf("://")!=-1&&(d+='<param name="url" value="'+f[g]+'" />')}d+='<embed type="'+h+'" ';for(g in f)d+=g+'="'+f[g]+'" ';d+="></embed>";if(!tinymce.isIE||document.location.protocol!="https:")d+="</object>";c.innerHTML="<!-- x --->"+d}function writeFlash(a){writeEmbed("D27CDB6E-AE6D-11cf-96B8-444553540000","http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0","application/x-shockwave-flash",a)}function writeShockWave(a){writeEmbed("166B1BCA-3F9C-11CF-8075-444553540000","http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0","application/x-director",a)}function writeQuickTime(a){writeEmbed("02BF25D5-8C17-4B23-BC80-D3488ABDDC6B","http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0","video/quicktime",a)}function writeRealMedia(a){writeEmbed("CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA","http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0","audio/x-pn-realaudio-plugin",a)}function writeWindowsMedia(a){a.url=a.src,writeEmbed("6BF52A52-394A-11D3-B153-00C04F79FAA6","http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701","application/x-mplayer2",a)}function writeEmbed(a,b,c,d){var e="",f;e+='<object classid="clsid:'+a+'" codebase="'+b+'"',e+=typeof d.id!="undefined"?'id="'+d.id+'"':"",e+=typeof d.name!="undefined"?'name="'+d.name+'"':"",e+=typeof d.width!="undefined"?'width="'+d.width+'"':"",e+=typeof d.height!="undefined"?'height="'+d.height+'"':"",e+=typeof d.align!="undefined"?'align="'+d.align+'"':"",e+=">";for(f in d)e+='<param name="'+f+'" value="'+d[f]+'">';e+='<embed type="'+c+'"';for(f in d)e+=f+'="'+d[f]+'" ';e+="></embed></object>",document.write(e)}function init(){var a=document.getElementById("container"),b;a.style.cssText=tinyMCEPopup.getWindowArg("style_text"),b=getBrowserHTML("background_image_browser","background_image","image","advimage"),document.getElementById("background_image_browser").innerHTML=b,document.getElementById("text_color_pickcontainer").innerHTML=getColorPickerHTML("text_color_pick","text_color"),document.getElementById("background_color_pickcontainer").innerHTML=getColorPickerHTML("background_color_pick","background_color"),document.getElementById("border_color_top_pickcontainer").innerHTML=getColorPickerHTML("border_color_top_pick","border_color_top"),document.getElementById("border_color_right_pickcontainer").innerHTML=getColorPickerHTML("border_color_right_pick","border_color_right"),document.getElementById("border_color_bottom_pickcontainer").innerHTML=getColorPickerHTML("border_color_bottom_pick","border_color_bottom"),document.getElementById("border_color_left_pickcontainer").innerHTML=getColorPickerHTML("border_color_left_pick","border_color_left"),fillSelect(0,"text_font","style_font",defaultFonts,";",!0),fillSelect(0,"text_size","style_font_size",defaultSizes,";",!0),fillSelect(0,"text_size_measurement","style_font_size_measurement",defaultMeasurement,";",!0),fillSelect(0,"text_case","style_text_case","capitalize;uppercase;lowercase",";",!0),fillSelect(0,"text_weight","style_font_weight",defaultWeight,";",!0),fillSelect(0,"text_style","style_font_style",defaultTextStyle,";",!0),fillSelect(0,"text_variant","style_font_variant",defaultVariant,";",!0),fillSelect(0,"text_lineheight","style_font_line_height",defaultLineHeight,";",!0),fillSelect(0,"text_lineheight_measurement","style_font_line_height_measurement",defaultMeasurement,";",!0),fillSelect(0,"background_attachment","style_background_attachment",defaultAttachment,";",!0),fillSelect(0,"background_repeat","style_background_repeat",defaultRepeat,";",!0),fillSelect(0,"background_hpos_measurement","style_background_hpos_measurement",defaultMeasurement,";",!0),fillSelect(0,"background_vpos_measurement","style_background_vpos_measurement",defaultMeasurement,";",!0),fillSelect(0,"background_hpos","style_background_hpos",defaultPosH,";",!0),fillSelect(0,"background_vpos","style_background_vpos",defaultPosV,";",!0),fillSelect(0,"block_wordspacing","style_wordspacing","normal",";",!0),fillSelect(0,"block_wordspacing_measurement","style_wordspacing_measurement",defaultSpacingMeasurement,";",!0),fillSelect(0,"block_letterspacing","style_letterspacing","normal",";",!0),fillSelect(0,"block_letterspacing_measurement","style_letterspacing_measurement",defaultSpacingMeasurement,";",!0),fillSelect(0,"block_vertical_alignment","style_vertical_alignment",defaultVAlign,";",!0),fillSelect(0,"block_text_align","style_text_align","left;right;center;justify",";",!0),fillSelect(0,"block_whitespace","style_whitespace","normal;pre;nowrap",";",!0),fillSelect(0,"block_display","style_display",defaultDisplay,";",!0),fillSelect(0,"block_text_indent_measurement","style_text_indent_measurement",defaultIndentMeasurement,";",!0),fillSelect(0,"box_width_measurement","style_box_width_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_height_measurement","style_box_height_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_float","style_float","left;right;none",";",!0),fillSelect(0,"box_clear","style_clear","left;right;both;none",";",!0),fillSelect(0,"box_padding_left_measurement","style_padding_left_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_padding_top_measurement","style_padding_top_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_padding_bottom_measurement","style_padding_bottom_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_padding_right_measurement","style_padding_right_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_margin_left_measurement","style_margin_left_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_margin_top_measurement","style_margin_top_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_margin_bottom_measurement","style_margin_bottom_measurement",defaultMeasurement,";",!0),fillSelect(0,"box_margin_right_measurement","style_margin_right_measurement",defaultMeasurement,";",!0),fillSelect(0,"border_style_top","style_border_style_top",defaultBorderStyle,";",!0),fillSelect(0,"border_style_right","style_border_style_right",defaultBorderStyle,";",!0),fillSelect(0,"border_style_bottom","style_border_style_bottom",defaultBorderStyle,";",!0),fillSelect(0,"border_style_left","style_border_style_left",defaultBorderStyle,";",!0),fillSelect(0,"border_width_top","style_border_width_top",defaultBorderWidth,";",!0),fillSelect(0,"border_width_right","style_border_width_right",defaultBorderWidth,";",!0),fillSelect(0,"border_width_bottom","style_border_width_bottom",defaultBorderWidth,";",!0),fillSelect(0,"border_width_left","style_border_width_left",defaultBorderWidth,";",!0),fillSelect(0,"border_width_top_measurement","style_border_width_top_measurement",defaultMeasurement,";",!0),fillSelect(0,"border_width_right_measurement","style_border_width_right_measurement",defaultMeasurement,";",!0),fillSelect(0,"border_width_bottom_measurement","style_border_width_bottom_measurement",defaultMeasurement,";",!0),fillSelect(0,"border_width_left_measurement","style_border_width_left_measurement",defaultMeasurement,";",!0),fillSelect(0,"list_type","style_list_type",defaultListType,";",!0),fillSelect(0,"list_position","style_list_position","inside;outside",";",!0),fillSelect(0,"positioning_type","style_positioning_type","absolute;relative;static",";",!0),fillSelect(0,"positioning_visibility","style_positioning_visibility","inherit;visible;hidden",";",!0),fillSelect(0,"positioning_width_measurement","style_positioning_width_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_height_measurement","style_positioning_height_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_overflow","style_positioning_overflow","visible;hidden;scroll;auto",";",!0),fillSelect(0,"positioning_placement_top_measurement","style_positioning_placement_top_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_placement_right_measurement","style_positioning_placement_right_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_placement_bottom_measurement","style_positioning_placement_bottom_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_placement_left_measurement","style_positioning_placement_left_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_clip_top_measurement","style_positioning_clip_top_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_clip_right_measurement","style_positioning_clip_right_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_clip_bottom_measurement","style_positioning_clip_bottom_measurement",defaultMeasurement,";",!0),fillSelect(0,"positioning_clip_left_measurement","style_positioning_clip_left_measurement",defaultMeasurement,";",!0),TinyMCE_EditableSelects.init(),setupFormData(),showDisabledControls()}function setupFormData(){var a=document.getElementById("container"),b=document.forms[0],c,d,e;selectByValue(b,"text_font",a.style.fontFamily,!0,!0),selectByValue(b,"text_size",getNum(a.style.fontSize),!0,!0),selectByValue(b,"text_size_measurement",getMeasurement(a.style.fontSize)),selectByValue(b,"text_weight",a.style.fontWeight,!0,!0),selectByValue(b,"text_style",a.style.fontStyle,!0,!0),selectByValue(b,"text_lineheight",getNum(a.style.lineHeight),!0,!0),selectByValue(b,"text_lineheight_measurement",getMeasurement(a.style.lineHeight)),selectByValue(b,"text_case",a.style.textTransform,!0,!0),selectByValue(b,"text_variant",a.style.fontVariant,!0,!0),b.text_color.value=tinyMCEPopup.editor.dom.toHex(a.style.color),updateColor("text_color_pick","text_color"),b.text_underline.checked=inStr(a.style.textDecoration,"underline"),b.text_overline.checked=inStr(a.style.textDecoration,"overline"),b.text_linethrough.checked=inStr(a.style.textDecoration,"line-through"),b.text_blink.checked=inStr(a.style.textDecoration,"blink"),b.background_color.value=tinyMCEPopup.editor.dom.toHex(a.style.backgroundColor),updateColor("background_color_pick","background_color"),b.background_image.value=a.style.backgroundImage.replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1"),selectByValue(b,"background_repeat",a.style.backgroundRepeat,!0,!0),selectByValue(b,"background_attachment",a.style.backgroundAttachment,!0,!0),selectByValue(b,"background_hpos",getNum(getVal(a.style.backgroundPosition,0)),!0,!0),selectByValue(b,"background_hpos_measurement",getMeasurement(getVal(a.style.backgroundPosition,0))),selectByValue(b,"background_vpos",getNum(getVal(a.style.backgroundPosition,1)),!0,!0),selectByValue(b,"background_vpos_measurement",getMeasurement(getVal(a.style.backgroundPosition,1))),selectByValue(b,"block_wordspacing",getNum(a.style.wordSpacing),!0,!0),selectByValue(b,"block_wordspacing_measurement",getMeasurement(a.style.wordSpacing)),selectByValue(b,"block_letterspacing",getNum(a.style.letterSpacing),!0,!0),selectByValue(b,"block_letterspacing_measurement",getMeasurement(a.style.letterSpacing)),selectByValue(b,"block_vertical_alignment",a.style.verticalAlign,!0,!0),selectByValue(b,"block_text_align",a.style.textAlign,!0,!0),b.block_text_indent.value=getNum(a.style.textIndent),selectByValue(b,"block_text_indent_measurement",getMeasurement(a.style.textIndent)),selectByValue(b,"block_whitespace",a.style.whiteSpace,!0,!0),selectByValue(b,"block_display",a.style.display,!0,!0),b.box_width.value=getNum(a.style.width),selectByValue(b,"box_width_measurement",getMeasurement(a.style.width)),b.box_height.value=getNum(a.style.height),selectByValue(b,"box_height_measurement",getMeasurement(a.style.height)),tinymce.isGecko?selectByValue(b,"box_float",a.style.cssFloat,!0,!0):selectByValue(b,"box_float",a.style.styleFloat,!0,!0),selectByValue(b,"box_clear",a.style.clear,!0,!0),setupBox(b,a,"box_padding","padding",""),setupBox(b,a,"box_margin","margin",""),setupBox(b,a,"border_style","border","Style"),setupBox(b,a,"border_width","border","Width"),setupBox(b,a,"border_color","border","Color"),updateColor("border_color_top_pick","border_color_top"),updateColor("border_color_right_pick","border_color_right"),updateColor("border_color_bottom_pick","border_color_bottom"),updateColor("border_color_left_pick","border_color_left"),b.elements.border_color_top.value=tinyMCEPopup.editor.dom.toHex(b.elements.border_color_top.value),b.elements.border_color_right.value=tinyMCEPopup.editor.dom.toHex(b.elements.border_color_right.value),b.elements.border_color_bottom.value=tinyMCEPopup.editor.dom.toHex(b.elements.border_color_bottom.value),b.elements.border_color_left.value=tinyMCEPopup.editor.dom.toHex(b.elements.border_color_left.value),selectByValue(b,"list_type",a.style.listStyleType,!0,!0),selectByValue(b,"list_position",a.style.listStylePosition,!0,!0),b.list_bullet_image.value=a.style.listStyleImage.replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1"),selectByValue(b,"positioning_type",a.style.position,!0,!0),selectByValue(b,"positioning_visibility",a.style.visibility,!0,!0),selectByValue(b,"positioning_overflow",a.style.overflow,!0,!0),b.positioning_zindex.value=a.style.zIndex?a.style.zIndex:"",b.positioning_width.value=getNum(a.style.width),selectByValue(b,"positioning_width_measurement",getMeasurement(a.style.width)),b.positioning_height.value=getNum(a.style.height),selectByValue(b,"positioning_height_measurement",getMeasurement(a.style.height)),setupBox(b,a,"positioning_placement","","",["top","right","bottom","left"]),c=a.style.clip.replace(new RegExp("rect\\('?([^']*)'?\\)","gi"),"$1"),c=c.replace(/,/g," "),hasEqualValues([getVal(c,0),getVal(c,1),getVal(c,2),getVal(c,3)])?(b.positioning_clip_top.value=getNum(getVal(c,0)),selectByValue(b,"positioning_clip_top_measurement",getMeasurement(getVal(c,0))),b.positioning_clip_right.value=b.positioning_clip_bottom.value=b.positioning_clip_left.value):(b.positioning_clip_top.value=getNum(getVal(c,0)),selectByValue(b,"positioning_clip_top_measurement",getMeasurement(getVal(c,0))),b.positioning_clip_right.value=getNum(getVal(c,1)),selectByValue
(b,"positioning_clip_right_measurement",getMeasurement(getVal(c,1))),b.positioning_clip_bottom.value=getNum(getVal(c,2)),selectByValue(b,"positioning_clip_bottom_measurement",getMeasurement(getVal(c,2))),b.positioning_clip_left.value=getNum(getVal(c,3)),selectByValue(b,"positioning_clip_left_measurement",getMeasurement(getVal(c,3))))}function getMeasurement(a){return a.replace(/^([0-9.]+)(.*)$/,"$2")}function getNum(a){return(new RegExp("^(?:[0-9.]+)(?:[a-z%]+)$","gi")).test(a)?a.replace(/[^0-9.]/g,""):a}function inStr(a,b){return(new RegExp(b,"gi")).test(a)}function getVal(a,b){var c=a.split(" ");return c.length>1?c[b]:""}function setValue(a,b,c){a.elements[b].type=="text"?a.elements[b].value=c:selectByValue(a,b,c,!0,!0)}function setupBox(a,b,c,d,e,f){typeof f=="undefined"&&(f=["Top","Right","Bottom","Left"]),isSame(b,d,e,f)?(a.elements[c+"_same"].checked=!0,setValue(a,c+"_top",getNum(b.style[d+f[0]+e])),a.elements[c+"_top"].disabled=!1,a.elements[c+"_right"].value="",a.elements[c+"_right"].disabled=!0,a.elements[c+"_bottom"].value="",a.elements[c+"_bottom"].disabled=!0,a.elements[c+"_left"].value="",a.elements[c+"_left"].disabled=!0,a.elements[c+"_top_measurement"]&&(selectByValue(a,c+"_top_measurement",getMeasurement(b.style[d+f[0]+e])),a.elements[c+"_left_measurement"].disabled=!0,a.elements[c+"_bottom_measurement"].disabled=!0,a.elements[c+"_right_measurement"].disabled=!0)):(a.elements[c+"_same"].checked=!1,setValue(a,c+"_top",getNum(b.style[d+f[0]+e])),a.elements[c+"_top"].disabled=!1,setValue(a,c+"_right",getNum(b.style[d+f[1]+e])),a.elements[c+"_right"].disabled=!1,setValue(a,c+"_bottom",getNum(b.style[d+f[2]+e])),a.elements[c+"_bottom"].disabled=!1,setValue(a,c+"_left",getNum(b.style[d+f[3]+e])),a.elements[c+"_left"].disabled=!1,a.elements[c+"_top_measurement"]&&(selectByValue(a,c+"_top_measurement",getMeasurement(b.style[d+f[0]+e])),selectByValue(a,c+"_right_measurement",getMeasurement(b.style[d+f[1]+e])),selectByValue(a,c+"_bottom_measurement",getMeasurement(b.style[d+f[2]+e])),selectByValue(a,c+"_left_measurement",getMeasurement(b.style[d+f[3]+e])),a.elements[c+"_left_measurement"].disabled=!1,a.elements[c+"_bottom_measurement"].disabled=!1,a.elements[c+"_right_measurement"].disabled=!1))}function isSame(a,b,c,d){var e=[],f,g;typeof d=="undefined"&&(d=["Top","Right","Bottom","Left"]);if(typeof c=="undefined"||c==null)c="";e[0]=a.style[b+d[0]+c],e[1]=a.style[b+d[1]+c],e[2]=a.style[b+d[2]+c],e[3]=a.style[b+d[3]+c];for(f=0;f<e.length;f++){if(e[f]==null)return!1;for(g=0;g<e.length;g++)if(e[g]!=e[f])return!1}return!0}function hasEqualValues(a){var b,c;for(b=0;b<a.length;b++){if(a[b]==null)return!1;for(c=0;c<a.length;c++)if(a[c]!=a[b])return!1}return!0}function applyAction(){var a=document.getElementById("container"),b=tinyMCEPopup.editor;generateCSS(),tinyMCEPopup.restoreSelection(),b.dom.setAttrib(b.selection.getNode(),"style",tinyMCEPopup.editor.dom.serializeStyle(tinyMCEPopup.editor.dom.parseStyle(a.style.cssText)))}function updateAction(){applyAction(),tinyMCEPopup.close()}function generateCSS(){var a=document.getElementById("container"),b=document.forms[0],c=new RegExp("[0-9]+","g"),d,e;a.style.cssText="",a.style.fontFamily=b.text_font.value,a.style.fontSize=b.text_size.value+(isNum(b.text_size.value)?b.text_size_measurement.value||"px":""),a.style.fontStyle=b.text_style.value,a.style.lineHeight=b.text_lineheight.value+(isNum(b.text_lineheight.value)?b.text_lineheight_measurement.value:""),a.style.textTransform=b.text_case.value,a.style.fontWeight=b.text_weight.value,a.style.fontVariant=b.text_variant.value,a.style.color=b.text_color.value,d="",d+=b.text_underline.checked?" underline":"",d+=b.text_overline.checked?" overline":"",d+=b.text_linethrough.checked?" line-through":"",d+=b.text_blink.checked?" blink":"",d=d.length>0?d.substring(1):d,b.text_none.checked&&(d="none"),a.style.textDecoration=d,a.style.backgroundColor=b.background_color.value,a.style.backgroundImage=b.background_image.value!=""?"url("+b.background_image.value+")":"",a.style.backgroundRepeat=b.background_repeat.value,a.style.backgroundAttachment=b.background_attachment.value,b.background_hpos.value!=""&&(d="",d+=b.background_hpos.value+(isNum(b.background_hpos.value)?b.background_hpos_measurement.value:"")+" ",d+=b.background_vpos.value+(isNum(b.background_vpos.value)?b.background_vpos_measurement.value:""),a.style.backgroundPosition=d),a.style.wordSpacing=b.block_wordspacing.value+(isNum(b.block_wordspacing.value)?b.block_wordspacing_measurement.value:""),a.style.letterSpacing=b.block_letterspacing.value+(isNum(b.block_letterspacing.value)?b.block_letterspacing_measurement.value:""),a.style.verticalAlign=b.block_vertical_alignment.value,a.style.textAlign=b.block_text_align.value,a.style.textIndent=b.block_text_indent.value+(isNum(b.block_text_indent.value)?b.block_text_indent_measurement.value:""),a.style.whiteSpace=b.block_whitespace.value,a.style.display=b.block_display.value,a.style.width=b.box_width.value+(isNum(b.box_width.value)?b.box_width_measurement.value:""),a.style.height=b.box_height.value+(isNum(b.box_height.value)?b.box_height_measurement.value:""),a.style.styleFloat=b.box_float.value,tinymce.isGecko&&(a.style.cssFloat=b.box_float.value),a.style.clear=b.box_clear.value,b.box_padding_same.checked?a.style.padding=b.box_padding_top.value+(isNum(b.box_padding_top.value)?b.box_padding_top_measurement.value:""):(a.style.paddingTop=b.box_padding_top.value+(isNum(b.box_padding_top.value)?b.box_padding_top_measurement.value:""),a.style.paddingRight=b.box_padding_right.value+(isNum(b.box_padding_right.value)?b.box_padding_right_measurement.value:""),a.style.paddingBottom=b.box_padding_bottom.value+(isNum(b.box_padding_bottom.value)?b.box_padding_bottom_measurement.value:""),a.style.paddingLeft=b.box_padding_left.value+(isNum(b.box_padding_left.value)?b.box_padding_left_measurement.value:"")),b.box_margin_same.checked?a.style.margin=b.box_margin_top.value+(isNum(b.box_margin_top.value)?b.box_margin_top_measurement.value:""):(a.style.marginTop=b.box_margin_top.value+(isNum(b.box_margin_top.value)?b.box_margin_top_measurement.value:""),a.style.marginRight=b.box_margin_right.value+(isNum(b.box_margin_right.value)?b.box_margin_right_measurement.value:""),a.style.marginBottom=b.box_margin_bottom.value+(isNum(b.box_margin_bottom.value)?b.box_margin_bottom_measurement.value:""),a.style.marginLeft=b.box_margin_left.value+(isNum(b.box_margin_left.value)?b.box_margin_left_measurement.value:"")),b.border_style_same.checked?a.style.borderStyle=b.border_style_top.value:(a.style.borderTopStyle=b.border_style_top.value,a.style.borderRightStyle=b.border_style_right.value,a.style.borderBottomStyle=b.border_style_bottom.value,a.style.borderLeftStyle=b.border_style_left.value),b.border_width_same.checked?a.style.borderWidth=b.border_width_top.value+(isNum(b.border_width_top.value)?b.border_width_top_measurement.value:""):(a.style.borderTopWidth=b.border_width_top.value+(isNum(b.border_width_top.value)?b.border_width_top_measurement.value:""),a.style.borderRightWidth=b.border_width_right.value+(isNum(b.border_width_right.value)?b.border_width_right_measurement.value:""),a.style.borderBottomWidth=b.border_width_bottom.value+(isNum(b.border_width_bottom.value)?b.border_width_bottom_measurement.value:""),a.style.borderLeftWidth=b.border_width_left.value+(isNum(b.border_width_left.value)?b.border_width_left_measurement.value:"")),b.border_color_same.checked?a.style.borderColor=b.border_color_top.value:(a.style.borderTopColor=b.border_color_top.value,a.style.borderRightColor=b.border_color_right.value,a.style.borderBottomColor=b.border_color_bottom.value,a.style.borderLeftColor=b.border_color_left.value),a.style.listStyleType=b.list_type.value,a.style.listStylePosition=b.list_position.value,a.style.listStyleImage=b.list_bullet_image.value!=""?"url("+b.list_bullet_image.value+")":"",a.style.position=b.positioning_type.value,a.style.visibility=b.positioning_visibility.value,a.style.width==""&&(a.style.width=b.positioning_width.value+(isNum(b.positioning_width.value)?b.positioning_width_measurement.value:"")),a.style.height==""&&(a.style.height=b.positioning_height.value+(isNum(b.positioning_height.value)?b.positioning_height_measurement.value:"")),a.style.zIndex=b.positioning_zindex.value,a.style.overflow=b.positioning_overflow.value,b.positioning_placement_same.checked?(d=b.positioning_placement_top.value+(isNum(b.positioning_placement_top.value)?b.positioning_placement_top_measurement.value:""),a.style.top=d,a.style.right=d,a.style.bottom=d,a.style.left=d):(a.style.top=b.positioning_placement_top.value+(isNum(b.positioning_placement_top.value)?b.positioning_placement_top_measurement.value:""),a.style.right=b.positioning_placement_right.value+(isNum(b.positioning_placement_right.value)?b.positioning_placement_right_measurement.value:""),a.style.bottom=b.positioning_placement_bottom.value+(isNum(b.positioning_placement_bottom.value)?b.positioning_placement_bottom_measurement.value:""),a.style.left=b.positioning_placement_left.value+(isNum(b.positioning_placement_left.value)?b.positioning_placement_left_measurement.value:"")),b.positioning_clip_same.checked?(d="rect(",e=isNum(b.positioning_clip_top.value)?b.positioning_clip_top.value+b.positioning_clip_top_measurement.value:"auto",d+=e+" ",d+=e+" ",d+=e+" ",d+=e+")",d!="rect(auto auto auto auto)"&&(a.style.clip=d)):(d="rect(",d+=(isNum(b.positioning_clip_top.value)?b.positioning_clip_top.value+b.positioning_clip_top_measurement.value:"auto")+" ",d+=(isNum(b.positioning_clip_right.value)?b.positioning_clip_right.value+b.positioning_clip_right_measurement.value:"auto")+" ",d+=(isNum(b.positioning_clip_bottom.value)?b.positioning_clip_bottom.value+b.positioning_clip_bottom_measurement.value:"auto")+" ",d+=isNum(b.positioning_clip_left.value)?b.positioning_clip_left.value+b.positioning_clip_left_measurement.value:"auto",d+=")",d!="rect(auto auto auto auto)"&&(a.style.clip=d)),a.style.cssText=a.style.cssText}function isNum(a){return(new RegExp("[0-9]+","g")).test(a)}function showDisabledControls(){var a=document.forms,b,c;for(b=0;b<a.length;b++)for(c=0;c<a[b].elements.length;c++)a[b].elements[c].disabled?tinyMCEPopup.editor.dom.addClass(a[b].elements[c],"disabled"):tinyMCEPopup.editor.dom.removeClass(a[b].elements[c],"disabled")}function fillSelect(a,b,c,d,e,f){var g,h,i,j;a=document.forms[a],e=typeof e=="undefined"?";":e,f&&addSelectValue(a,b,"",""),h=tinyMCEPopup.getParam(c,d).split(e);for(g=0;g<h.length;g++)j=!1,h[g].charAt(0)=="+"&&(h[g]=h[g].substring(1),j=!0),i=h[g].split("="),i.length>1?(addSelectValue(a,b,i[0],i[1]),j&&selectByValue(a,b,i[1])):(addSelectValue(a,b,i[0],i[0]),j&&selectByValue(a,b,i[0]))}function toggleSame(a,b){var c=document.forms[0].elements,d;a.checked?(c[b+"_top"].disabled=!1,c[b+"_right"].disabled=!0,c[b+"_bottom"].disabled=!0,c[b+"_left"].disabled=!0,c[b+"_top_measurement"]&&(c[b+"_top_measurement"].disabled=!1,c[b+"_right_measurement"].disabled=!0,c[b+"_bottom_measurement"].disabled=!0,c[b+"_left_measurement"].disabled=!0)):(c[b+"_top"].disabled=!1,c[b+"_right"].disabled=!1,c[b+"_bottom"].disabled=!1,c[b+"_left"].disabled=!1,c[b+"_top_measurement"]&&(c[b+"_top_measurement"].disabled=!1,c[b+"_right_measurement"].disabled=!1,c[b+"_bottom_measurement"].disabled=!1,c[b+"_left_measurement"].disabled=!1)),showDisabledControls()}function synch(a,b){var c=document.forms[0];c.elements[b].value=c.elements[a].value,c.elements[a+"_measurement"]&&selectByValue(c,b+"_measurement",c.elements[a+"_measurement"].value)}function init(){ed=tinyMCEPopup.editor,tinyMCEPopup.resizeToInnerSize(),document.getElementById("backgroundimagebrowsercontainer").innerHTML=getBrowserHTML("backgroundimagebrowser","backgroundimage","image","table"),document.getElementById("bordercolor_pickcontainer").innerHTML=getColorPickerHTML("bordercolor_pick","bordercolor"),document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor");var a=ed,b=ed.dom.getParent(ed.selection.getStart(),"td,th"),c=document.forms[0],d=ed.dom.parseStyle(ed.dom.getAttrib(b,"style")),e=b.nodeName.toLowerCase(),f=ed.dom.getAttrib(b,"align"),g=ed.dom.getAttrib(b,"valign"),h=trimSize(getStyle(b,"width","width")),i=trimSize(getStyle(b,"height","height")),j=convertRGBToHex(getStyle(b,"bordercolor","borderLeftColor")),k=convertRGBToHex(getStyle(b,"bgcolor","backgroundColor")),l=ed.dom.getAttrib(b,"class"),m=getStyle(b,"background","backgroundImage").replace(new RegExp("url\\(['\"]?([^'\"]*)['\"]?\\)","gi"),"$1"),n=ed.dom.getAttrib(b,"id"),o=ed.dom.getAttrib(b,"lang"),p=ed.dom.getAttrib(b,"dir"),q=ed.dom.getAttrib(b,"scope");addClassesToList("class","table_cell_styles"),TinyMCE_EditableSelects.init(),ed.dom.hasClass(b,"mceSelected")?tinyMCEPopup.dom.hide("action"):(c.bordercolor.value=j,c.bgcolor.value=k,c.backgroundimage.value=m,c.width.value=h,c.height.value=i,c.id.value=n,c.lang.value=o,c.style.value=ed.dom.serializeStyle(d),selectByValue(c,"align",f),selectByValue(c,"valign",g),selectByValue(c,"class",l,!0,!0),selectByValue(c,"celltype",e),selectByValue(c,"dir",p),selectByValue(c,"scope",q),isVisible("backgroundimagebrowser")&&(document.getElementById("backgroundimage").style.width="180px"),updateColor("bordercolor_pick","bordercolor"),updateColor("bgcolor_pick","bgcolor"))}function updateAction(){var a,b=ed,c,d,e,f=document.forms[0];tinyMCEPopup.restoreSelection(),a=ed.selection.getStart(),c=ed.dom.getParent(a,"td,th"),d=ed.dom.getParent(a,"tr"),e=ed.dom.getParent(a,"table");if(ed.dom.hasClass(c,"mceSelected")){tinymce.each(ed.dom.select("td.mceSelected,th.mceSelected"),function(a){updateCell(a)}),ed.addVisual(),ed.nodeChanged(),b.execCommand("mceEndUndoLevel"),tinyMCEPopup.close();return}ed.execCommand("mceBeginUndoLevel");switch(getSelectValue(f,"action")){case"cell":var g=getSelectValue(f,"celltype"),h=getSelectValue(f,"scope");function i(a){a&&(updateCell(c),ed.addVisual(),ed.nodeChanged(),b.execCommand("mceEndUndoLevel"),tinyMCEPopup.close())}if(ed.getParam("accessibility_warnings",1)){g=="th"&&h==""?tinyMCEPopup.confirm(ed.getLang("table_dlg.missing_scope","",!0),i):i(1);return}updateCell(c);break;case"row":var j=d.firstChild;j.nodeName!="TD"&&j.nodeName!="TH"&&(j=nextCell(j));do j=updateCell(j,!0);while((j=nextCell(j))!=null);break;case"all":var k=e.getElementsByTagName("tr");for(var l=0;l<k.length;l++){var j=k[l].firstChild;j.nodeName!="TD"&&j.nodeName!="TH"&&(j=nextCell(j));do j=updateCell(j,!0);while((j=nextCell(j))!=null)}}ed.addVisual(),ed.nodeChanged(),b.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function nextCell(a){while((a=a.nextSibling)!=null)if(a.nodeName=="TD"||a.nodeName=="TH")return a;return null}function updateCell(a,b){var c=ed,d=document.forms[0],e=a.nodeName.toLowerCase(),f=getSelectValue(d,"celltype"),g=c.getDoc(),h=ed.dom;b||a.setAttribute("id",d.id.value),a.setAttribute("align",d.align.value),a.setAttribute("vAlign",d.valign.value),a.setAttribute("lang",d.lang.value),a.setAttribute("dir",getSelectValue(d,"dir")),a.setAttribute("style",ed.dom.serializeStyle(ed.dom.parseStyle(d.style.value))),a.setAttribute("scope",d.scope.value),ed.dom.setAttrib(a,"class",getSelectValue(d,"class")),ed.dom.setAttrib(a,"width",""),ed.dom.setAttrib(a,"height",""),ed.dom.setAttrib(a,"bgColor",""),ed.dom.setAttrib(a,"borderColor",""),ed.dom.setAttrib(a,"background",""),a.style.width=getCSSSize(d.width.value),a.style.height=getCSSSize(d.height.value),d.bordercolor.value!=""?(a.style.borderColor=d.bordercolor.value,a.style.borderStyle=a.style.borderStyle==""?"solid":a.style.borderStyle,a.style.borderWidth=a.style.borderWidth==""?"1px":a.style.borderWidth):a.style.borderColor="",a.style.backgroundColor=d.bgcolor.value,d.backgroundimage.value!=""?a.style.backgroundImage="url('"+d.backgroundimage.value+"')":a.style.backgroundImage="";if(e!=f){var i=g.createElement(f);for(var j=0;j<a.childNodes.length;j++)i.appendChild(a.childNodes[j].cloneNode(1));for(var k=0;k<a.attributes.length;k++)ed.dom.setAttrib(i,a.attributes[k].name,ed.dom.getAttrib(a,a.attributes[k].name));a.parentNode.replaceChild(i,a),a=i}return h.setAttrib(a,"style",h.serializeStyle(h.parseStyle(a.style.cssText))),a}function changedBackgroundImage(){var a=document.forms[0],b=ed.dom.parseStyle(a.style.value);b["background-image"]="url('"+a.backgroundimage.value+"')",a.style.value=ed.dom.serializeStyle(b)}function changedSize(){var a=document.forms[0],b=ed.dom.parseStyle(a.style.value),c=a.width.value;c!=""?b.width=getCSSSize(c):b.width="";var d=a.height.value;d!=""?b.height=getCSSSize(d):b.height="",a.style.value=ed.dom.serializeStyle(b)}function changedColor(){var a=document.forms[0],b=ed.dom.parseStyle(a.style.value);b["background-color"]=a.bgcolor.value,b["border-color"]=a.bordercolor.value,a.style.value=ed.dom.serializeStyle(b)}function changedStyle(){var a=document.forms[0],b=ed.dom.parseStyle(a.style.value);b["background-image"]?a.backgroundimage.value=b["background-image"].replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1"):a.backgroundimage.value="",b.width&&(a.width.value=trimSize(b.width)),b.height&&(a.height.value=trimSize(b.height)),b["background-color"]&&(a.bgcolor.value=b["background-color"],updateColor("bgcolor_pick","bgcolor")),b["border-color"]&&(a.bordercolor.value=b["border-color"],updateColor("bordercolor_pick","bordercolor"))}function init(){tinyMCEPopup.resizeToInnerSize(),document.getElementById("backgroundimagebrowsercontainer").innerHTML=getBrowserHTML("backgroundimagebrowser","backgroundimage","image","table"),document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor");var a=tinyMCEPopup.editor,b=a.dom,c=b.getParent(a.selection.getStart(),"tr"),d=document.forms[0],e=b.parseStyle(b.getAttrib(c,"style")),f=c.parentNode.nodeName.toLowerCase(),g=b.getAttrib(c,"align"),h=b.getAttrib(c,"valign"),i=trimSize(getStyle(c,"height","height")),j=b.getAttrib(c,"class"),k=convertRGBToHex(getStyle(c,"bgcolor","backgroundColor")),l=getStyle(c,"background","backgroundImage").replace(new RegExp("url\\(['\"]?([^'\"]*)['\"]?\\)","gi"),"$1"),m=b.getAttrib(c,"id"),n=b.getAttrib(c,"lang"),o=b.getAttrib(c,"dir");selectByValue(d,"rowtype",f),b.select("td.mceSelected,th.mceSelected",c).length==0?(addClassesToList("class","table_row_styles"),TinyMCE_EditableSelects.init(),d.bgcolor.value=k,d.backgroundimage.value=l,d.height.value=i,d.id.value=m,d.lang.value=n,d.style.value=b.serializeStyle(e),selectByValue(d,"align",g),selectByValue(d,"valign",h),selectByValue(d,"class",j,!0,!0),selectByValue(d,"dir",o),isVisible("backgroundimagebrowser")&&(document.getElementById("backgroundimage").style.width="180px"),updateColor("bgcolor_pick","bgcolor")):tinyMCEPopup.dom.hide("action")}function updateAction(){var a=tinyMCEPopup.editor,b=a.dom,c,d,e=document.forms[0],f=getSelectValue(e,"action");tinyMCEPopup.restoreSelection(),c=b.getParent(a.selection.getStart(),"tr"),d=b.getParent(a.selection.getStart(),"table");if(b.select("td.mceSelected,th.mceSelected",c).length>0){tinymce.each(d.rows,function(a){var c;for(c=0;c<a.cells.length;c++)if(b.hasClass(a.cells[c],"mceSelected")){updateRow(a,!0);return}}),a.addVisual(),a.nodeChanged(),a.execCommand("mceEndUndoLevel"),tinyMCEPopup.close();return}a.execCommand("mceBeginUndoLevel");switch(f){case"row":updateRow(c);break;case"all":var g=d.getElementsByTagName("tr");for(var h=0;h<g.length;h++)updateRow(g[h],!0);break;case"odd":case"even":var g=d.getElementsByTagName("tr");for(var h=0;h<g.length;h++)(h%2==0&&f=="odd"||h%2!=0&&f=="even")&&updateRow(g[h],!0,!0)}a.addVisual(),a.nodeChanged(),a.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function updateRow(a,b,c){var d=tinyMCEPopup.editor,e=document.forms[0],f=d.dom,g=a.parentNode.nodeName.toLowerCase(),h=getSelectValue(e,"rowtype"),i=d.getDoc();b||a.setAttribute("id",e.id.value),a.setAttribute("align",getSelectValue(e,"align")),a.setAttribute("vAlign",getSelectValue(e,"valign")),a.setAttribute("lang",e.lang.value),a.setAttribute("dir",getSelectValue(e,"dir")),a.setAttribute("style",f.serializeStyle(f.parseStyle(e.style.value))),f.setAttrib(a,"class",getSelectValue(e,"class")),a.setAttribute("background",""),a.setAttribute("bgColor",""),a.setAttribute("height",""),a.style.height=getCSSSize(e.height.value),a.style.backgroundColor=e.bgcolor.value,e.backgroundimage.value!=""?a.style.backgroundImage="url('"+e.backgroundimage.value+"')":a.style.backgroundImage="";if(g!=h&&!c){var j=a.cloneNode(1),k=f.getParent(a,"table"),l=h,m=null;for(var n=0;n<k.childNodes.length;n++)k.childNodes[n].nodeName.toLowerCase()==l&&(m=k.childNodes[n]);m==null&&(m=i.createElement(l),l=="thead"?k.firstChild.nodeName=="CAPTION"?d.dom.insertAfter(m,k.firstChild):k.insertBefore(m,k.firstChild):k.appendChild(m)),m.appendChild(j),a.parentNode.removeChild(a),a=j}f.setAttrib(a,"style",f.serializeStyle(f.parseStyle(a.style.cssText)))}function changedBackgroundImage(){var a=document.forms[0],b=tinyMCEPopup.editor.dom,c=b.parseStyle(a.style.value);c["background-image"]="url('"+a.backgroundimage.value+"')",a.style.value=b.serializeStyle(c)}function changedStyle(){var a=document.forms[0],b=tinyMCEPopup.editor.dom,c=b.parseStyle(a.style.value);c["background-image"]?a.backgroundimage.value=c["background-image"].replace(new RegExp("url\\('?([^']*)'?\\)","gi"),"$1"):a.backgroundimage.value="",c.height&&(a.height.value=trimSize(c.height)),c["background-color"]&&(a.bgcolor.value=c["background-color"],updateColor("bgcolor_pick","bgcolor"))}function changedSize(){var a=document.forms[0],b=tinyMCEPopup.editor.dom,c=b.parseStyle(a.style.value),d=a.height.value;d!=""?c.height=getCSSSize(d):c.height="",a.style.value=b.serializeStyle(c)}function changedColor(){var a=document.forms[0],b=tinyMCEPopup.editor.dom,c=b.parseStyle(a.style.value);c["background-color"]=a.bgcolor.value,a.style.value=b.serializeStyle(c)}function insertTable(){var a=document.forms[0],b=tinyMCEPopup.editor,c=b.dom,d=2,e=2,f=0,g=-1,h=-1,i,j,k,l,m,n,o,p="",q,r,s,t,u;tinyMCEPopup.restoreSelection();if(!AutoValidator.validate(a))return tinyMCEPopup.alert(b.getLang("invalid_data")),!1;r=c.getParent(b.selection.getNode(),"table"),d=a.elements.cols.value,e=a.elements.rows.value,f=a.elements["border"].value!=""?a.elements.border.value:0,g=a.elements["cellpadding"].value!=""?a.elements.cellpadding.value:"",h=a.elements["cellspacing"].value!=""?a.elements.cellspacing.value:"",i=getSelectValue(a,"align"),n=getSelectValue(a,"tframe"),o=getSelectValue(a,"rules"),j=a.elements.width.value,k=a.elements.height.value,bordercolor=a.elements.bordercolor.value,bgcolor=a.elements.bgcolor.value,l=getSelectValue(a,"class"),id=a.elements.id.value,summary=a.elements.summary.value,style=a.elements.style.value,dir=a.elements.dir.value,lang=a.elements.lang.value,background=a.elements.backgroundimage.value,m=a.elements.caption.checked,s=tinyMCEPopup.getParam("table_cell_limit",!1),t=tinyMCEPopup.getParam("table_row_limit",!1),u=tinyMCEPopup.getParam("table_col_limit",!1);if(u&&d>u)return tinyMCEPopup.alert(b.getLang("table_dlg.col_limit").replace(/\{\$cols\}/g,u)),!1;if(t&&e>t)return tinyMCEPopup.alert(b.getLang("table_dlg.row_limit").replace(/\{\$rows\}/g,t)),!1;if(s&&d*e>s)return tinyMCEPopup.alert(b.getLang("table_dlg.cell_limit").replace(/\{\$cells\}/g,s)),!1;if(action=="update")return b.execCommand("mceBeginUndoLevel"),c.setAttrib(r,"cellPadding",g,!0),c.setAttrib(r,"cellSpacing",h,!0),c.setAttrib(r,"border",f),c.setAttrib(r,"align",i),c.setAttrib(r,"frame",n),c.setAttrib(r,"rules",o),c.setAttrib(r,"class",l),c.setAttrib(r,"style",style),c.setAttrib(r,"id",id),c.setAttrib(r,"summary",summary),c.setAttrib(r,"dir",dir),c.setAttrib(r,"lang",lang),q=b.dom.select("caption",r)[0],q&&!m&&q.parentNode.removeChild(q),!q&&m&&(q=r.ownerDocument.createElement("caption"),tinymce.isIE||(q.innerHTML='<br _mce_bogus="1"/>'),r.insertBefore(q,r.firstChild)),j&&b.settings.inline_styles?(c.setStyle(r,"width",j),c.setAttrib(r,"width","")):(c.setAttrib(r,"width",j,!0),c.setStyle(r,"width","")),c.setAttrib(r,"borderColor",""),c.setAttrib(r,"bgColor",""),c.setAttrib(r,"background",""),k&&b.settings.inline_styles?(c.setStyle(r,"height",k),c.setAttrib(r,"height","")):(c.setAttrib(r,"height",k,!0),c.setStyle(r,"height","")),background!=""?r.style.backgroundImage="url('"+background+"')":r.style.backgroundImage="",bordercolor!=""?(r.style.borderColor=bordercolor,r.style.borderStyle=r.style.borderStyle==""?"solid":r.style.borderStyle,r.style.borderWidth=f==""?"1px":f):r.style.borderColor="",r.style.backgroundColor=bgcolor,r.style.height=getCSSSize(k),b.addVisual(),b.nodeChanged(),b.execCommand("mceEndUndoLevel"),(a.width.value!=orgTableWidth||a.height.value!=orgTableHeight)&&b.execCommand("mceRepaint"),tinyMCEPopup.close(),!0;p+="<table",p+=makeAttrib("id",id),p+=makeAttrib("border",f),p+=makeAttrib("cellpadding",g),p+=makeAttrib("cellspacing",h),p+=makeAttrib("_mce_new","1"),j&&b.settings.inline_styles?(style&&(style+="; "),/^[0-9\.]+$/.test(j)&&(j+="px"),style+="width: "+j):p+=makeAttrib("width",j),p+=makeAttrib("align",i),p+=makeAttrib("frame",n),p+=makeAttrib("rules",o),p+=makeAttrib("class",l),p+=makeAttrib("style",style),p+=makeAttrib("summary",summary),p+=makeAttrib("dir",dir),p+=makeAttrib("lang",lang),p+=">",m&&(tinymce.isIE?p+="<caption></caption>":p+='<caption><br _mce_bogus="1"/></caption>');for(var v=0;v<e;v++){p+="<tr>";for(var w=0;w<d;w++)tinymce.isIE?p+="<td></td>":p+='<td><br _mce_bogus="1"/></td>';p+="</tr>"}p+="</table>",b.execCommand("mceBeginUndoLevel");if(b.settings.fix_table_elements){var x="";b.focus(),b.selection.setContent('<br class="_mce_marker" />'),tinymce.each("h1,h2,h3,h4,h5,h6,p".split(","),function(a){x&&(x+=","),x+=a+" ._mce_marker"}),tinymce.each(b.dom.select(x),function(a){b.dom.split(b.dom.getParent(a,"h1,h2,h3,h4,h5,h6,p"),a)}),c.setOuterHTML(c.select("br._mce_marker")[0],p)}else b.execCommand("mceInsertContent",!1,p);tinymce.each(c.select("table[_mce_new]"),function(a){var d=c.select("td",a);b.selection.select(d[0],!0),b.selection.collapse(),c.setAttrib(a,"_mce_new","")}),b.addVisual(),b.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function makeAttrib(a,b){var c=document.forms[0],d=c.elements[a];if(typeof b=="undefined"||b==null)b="",d&&(b=d.value);return b==""?"":(b=b.replace(/&/g,"&amp;"),b=b.replace(/\"/g,"&quot;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;")," "+a+'="'+b+'"')}function init(){tinyMCEPopup.resizeToInnerSize(),document.getElementById("backgroundimagebrowsercontainer").innerHTML=getBrowserHTML("backgroundimagebrowser","backgroundimage","image","table"),document.getElementById("backgroundimagebrowsercontainer").innerHTML=getBrowserHTML("backgroundimagebrowser","backgroundimage","image","table"),document.getElementById("bordercolor_pickcontainer").innerHTML=getColorPickerHTML("bordercolor_pick","bordercolor"),document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor");var a=2,b=2,c=tinyMCEPopup.getParam("table_default_border","0"),d=tinyMCEPopup.getParam("table_default_cellpadding",""),e=tinyMCEPopup.getParam("table_default_cellspacing",""),f="",g="",h="",i="",j="",k="",l="",m="",n="",o="",p="",q="",j="",i="",r,s,t=tinyMCEPopup.editor,u=t.dom,v=document.forms[0],w=u.getParent(t.selection.getNode(),"table");action=tinyMCEPopup.getWindowArg("action"),action||(action=w?"update":"insert");if(w&&action!="insert"){var x=w.rows,a=0;for(var y=0;y<x.length;y++)x[y].cells.length>a&&(a=x[y].cells.length);a=a,b=x.length,st=u.parseStyle(u.getAttrib(w,"style")),c=trimSize(getStyle(w,"border","borderWidth")),d=u.getAttrib(w,"cellpadding",""),e=u.getAttrib(w,"cellspacing",""),g=trimSize(getStyle(w,"width","width")),h=trimSize(getStyle(w,"height","height")),i=convertRGBToHex(getStyle(w,"bordercolor","borderLeftColor")),j=convertRGBToHex(getStyle(w,"bgcolor","backgroundColor")),f=u.getAttrib(w,"align",f),s=u.getAttrib(w,"frame"),r=u.getAttrib(w,"rules"),k=tinymce.trim(u.getAttrib(w,"class").replace(/mceItem.+/g,"")),l=u.getAttrib(w,"id"),m=u.getAttrib(w,"summary"),n=u.serializeStyle(st),o=u.getAttrib(w,"dir"),p=u.getAttrib(w,"lang"),q=getStyle(w,"background","backgroundImage").replace(new RegExp("url\\(['\"]?([^'\"]*)['\"]?\\)","gi"),"$1"),v.caption.checked=w.getElementsByTagName("caption").length>0,orgTableWidth=g,orgTableHeight=h,action="update",v.insert.value=t.getLang("update")}addClassesToList("class","table_styles"),TinyMCE_EditableSelects.init(),selectByValue(v,"align",f),selectByValue(v,"tframe",s),selectByValue(v,"rules",r),selectByValue(v,"class",k,!0,!0),v.cols.value=a,v.rows.value=b,v.border.value=c,v.cellpadding.value=d,v.cellspacing.value=e,v.width.value=g,v.height.value=h,v.bordercolor.value=i,v.bgcolor.value=j,v.id.value=l,v.summary.value=m,v.style.value=n,v.dir.value=o,v.lang.value=p,v.backgroundimage.value=q,updateColor("bordercolor_pick","bordercolor"),updateColor("bgcolor_pick","bgcolor"),isVisible("backgroundimagebrowser")&&(document.getElementById("backgroundimage").style.width="180px"),action=="update"&&(v.cols.disabled=!0,v.rows.disabled=!0)}function changedSize(){var a=document.forms[0],b=dom.parseStyle(a.style.value),c=a.height.value;c!=""?b.height=getCSSSize(c):b.height="",a.style.value=dom.serializeStyle(b)}function changedBackgroundImage(){var a=document.forms[0],b=dom.parseStyle(a.style.value);b["background-image"]="url('"+a.backgroundimage.value+"')",a.style.value=dom.serializeStyle(b)}function changedBorder(){var a=document.forms[0],b=dom.parseStyle(a.style.value);a.border.value!=""&&a.bordercolor.value!=""&&(b["border-width"]=a.border.value+"px"),a.style.value=dom.serializeStyle(b)}function changedColor(){var a=document.forms[0],b=dom.parseStyle(a.style.value);b["background-color"]=a.bgcolor.value,a.bordercolor.value!=""&&(b["border-color"]=a.bordercolor.value,b["border-width"]||(b["border-width"]=a.border.value==""?"1px":a.border.value+"px")),a.style.value=dom.serializeStyle(b)}function changedStyle(){var a=document.forms[0],b=dom.parseStyle(a.style.value);b["background-image"]?a.backgroundimage.value=b["background-image"].replace(new RegExp("url\\(['\"]?([^'\"]*)['\"]?\\)","gi"),"$1"):a.backgroundimage.value="",b.width&&(a.width.value=trimSize(b.width)),b.height&&(a.height.value=trimSize(b.height)),b["background-color"]&&(a.bgcolor.value=b["background-color"],updateColor("bgcolor_pick","bgcolor")),b["border-color"]&&(a.bordercolor.value=b["border-color"],updateColor("bordercolor_pick","bordercolor"))}function init(){SXE.initElementDialog("abbr"),SXE.currentAction=="update"&&SXE.showRemoveButton()}function insertAbbr(){SXE.insertElement("abbr"),tinyMCEPopup.close()}function removeAbbr(){SXE.removeElement("abbr"),tinyMCEPopup.close()}function init(){SXE.initElementDialog("acronym"),SXE.currentAction=="update"&&SXE.showRemoveButton()}function insertAcronym(){SXE.insertElement("acronym"),tinyMCEPopup.close()}function removeAcronym(){SXE.removeElement("acronym"),tinyMCEPopup.close()}function init(){tinyMCEPopup.resizeToInnerSize();var a=tinyMCEPopup.editor,b=a.dom,c=a.selection.getNode(),d=document.forms[0],e=b.getAttrib(c,"onclick");setFormValue("title",b.getAttrib(c,"title")),setFormValue("id",b.getAttrib(c,"id")),setFormValue("style",b.getAttrib(c,"style")),setFormValue("dir",b.getAttrib(c,"dir")),setFormValue("lang",b.getAttrib(c,"lang")),setFormValue("tabindex",b.getAttrib(c,"tabindex",typeof c.tabindex!="undefined"?c.tabindex:"")),setFormValue("accesskey",b.getAttrib(c,"accesskey",typeof c.accesskey!="undefined"?c.accesskey:"")),setFormValue("onfocus",b.getAttrib(c,"onfocus")),setFormValue("onblur",b.getAttrib(c,"onblur")),setFormValue("onclick",e),setFormValue("ondblclick",b.getAttrib(c,"ondblclick")),setFormValue("onmousedown",b.getAttrib(c,"onmousedown")),setFormValue("onmouseup",b.getAttrib(c,"onmouseup")),setFormValue("onmouseover",b.getAttrib(c,"onmouseover")),setFormValue("onmousemove",b.getAttrib(c,"onmousemove")),setFormValue("onmouseout",b.getAttrib(c,"onmouseout")),setFormValue("onkeypress",b.getAttrib(c,"onkeypress")),setFormValue("onkeydown",b.getAttrib(c,"onkeydown")),setFormValue("onkeyup",b.getAttrib(c,"onkeyup")),className=b.getAttrib(c,"class"),addClassesToList("classlist","advlink_styles"),selectByValue(d,"classlist",className,!0),TinyMCE_EditableSelects.init()}function setFormValue(a,b){b&&document.forms[0].elements[a]&&(document.forms[0].elements[a].value=b)}function insertAction(){var a=tinyMCEPopup.editor,b=a.selection.getNode();tinyMCEPopup.execCommand("mceBeginUndoLevel"),setAllAttribs(b),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function setAttrib(a,b,c){var d=document.forms[0],e=d.elements[b.toLowerCase()],f=tinyMCEPopup.editor,g=f.dom;if(typeof c=="undefined"||c==null)c="",e&&(c=e.value);c!=""?
(g.setAttrib(a,b.toLowerCase(),c),b=="style"&&(b="style.cssText"),b.substring(0,2)=="on"&&(c="return true;"+c),b=="class"&&(b="className"),a[b]=c):a.removeAttribute(b)}function setAllAttribs(a){var b=document.forms[0];setAttrib(a,"title"),setAttrib(a,"id"),setAttrib(a,"style"),setAttrib(a,"class",getSelectValue(b,"classlist")),setAttrib(a,"dir"),setAttrib(a,"lang"),setAttrib(a,"tabindex"),setAttrib(a,"accesskey"),setAttrib(a,"onfocus"),setAttrib(a,"onblur"),setAttrib(a,"onclick"),setAttrib(a,"ondblclick"),setAttrib(a,"onmousedown"),setAttrib(a,"onmouseup"),setAttrib(a,"onmouseover"),setAttrib(a,"onmousemove"),setAttrib(a,"onmouseout"),setAttrib(a,"onkeypress"),setAttrib(a,"onkeydown"),setAttrib(a,"onkeyup")}function insertAttribute(){tinyMCEPopup.close()}function init(){SXE.initElementDialog("cite"),SXE.currentAction=="update"&&SXE.showRemoveButton()}function insertCite(){SXE.insertElement("cite"),tinyMCEPopup.close()}function removeCite(){SXE.removeElement("cite"),tinyMCEPopup.close()}function init(){SXE.initElementDialog("del"),SXE.currentAction=="update"&&(setFormValue("datetime",tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement,"datetime")),setFormValue("cite",tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement,"cite")),SXE.showRemoveButton())}function setElementAttribs(a){setAllCommonAttribs(a),setAttrib(a,"datetime"),setAttrib(a,"cite")}function insertDel(){var a=tinyMCEPopup.editor.dom.getParent(SXE.focusElement,"DEL");tinyMCEPopup.execCommand("mceBeginUndoLevel");if(a==null){var b=SXE.inst.selection.getContent();if(b.length>0){insertInlineElement("del");var c=tinymce.grep(SXE.inst.dom.select("del"),function(a){return a.id=="#sxe_temp_del#"});for(var d=0;d<c.length;d++){var a=c[d];setElementAttribs(a)}}}else setElementAttribs(a);tinyMCEPopup.editor.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function insertInlineElement(a){var b=tinyMCEPopup.editor,c=b.dom;b.getDoc().execCommand("FontName",!1,"mceinline"),tinymce.each(c.select(tinymce.isWebKit?"span":"font"),function(b){(b.style.fontFamily=="mceinline"||b.face=="mceinline")&&c.replace(c.create(a),b,1)})}function removeDel(){SXE.removeElement("del"),tinyMCEPopup.close()}function initCommonAttributes(a){var b=document.forms[0],c=tinyMCEPopup.editor.dom;setFormValue("title",c.getAttrib(a,"title")),setFormValue("id",c.getAttrib(a,"id")),selectByValue(b,"class",c.getAttrib(a,"class"),!0),setFormValue("style",c.getAttrib(a,"style")),selectByValue(b,"dir",c.getAttrib(a,"dir")),setFormValue("lang",c.getAttrib(a,"lang")),setFormValue("onfocus",c.getAttrib(a,"onfocus")),setFormValue("onblur",c.getAttrib(a,"onblur")),setFormValue("onclick",c.getAttrib(a,"onclick")),setFormValue("ondblclick",c.getAttrib(a,"ondblclick")),setFormValue("onmousedown",c.getAttrib(a,"onmousedown")),setFormValue("onmouseup",c.getAttrib(a,"onmouseup")),setFormValue("onmouseover",c.getAttrib(a,"onmouseover")),setFormValue("onmousemove",c.getAttrib(a,"onmousemove")),setFormValue("onmouseout",c.getAttrib(a,"onmouseout")),setFormValue("onkeypress",c.getAttrib(a,"onkeypress")),setFormValue("onkeydown",c.getAttrib(a,"onkeydown")),setFormValue("onkeyup",c.getAttrib(a,"onkeyup"))}function setFormValue(a,b){document.forms[0].elements[a]&&(document.forms[0].elements[a].value=b)}function insertDateTime(a){document.getElementById(a).value=getDateTime(new Date,"%Y-%m-%dT%H:%M:%S")}function getDateTime(a,b){return b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",addZeros(a.getMonth()+1,2)),b=b.replace("%d",addZeros(a.getDate(),2)),b=b.replace("%H",""+addZeros(a.getHours(),2)),b=b.replace("%M",""+addZeros(a.getMinutes(),2)),b=b.replace("%S",""+addZeros(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%%","%"),b}function addZeros(a,b){var c;a=""+a;if(a.length<b)for(c=0;c<b-a.length;c++)a="0"+a;return a}function selectByValue(a,b,c,d,e){if(!a||!a.elements[b])return;var f=a.elements[b],g=!1;for(var h=0;h<f.options.length;h++){var i=f.options[h];i.value==c||e&&i.value.toLowerCase()==c.toLowerCase()?(i.selected=!0,g=!0):i.selected=!1}if(!g&&d&&c!=""){var i=new Option("Value: "+c,c);i.selected=!0,f.options[f.options.length]=i}return g}function setAttrib(a,b,c){var d=document.forms[0],e=d.elements[b.toLowerCase()];tinyMCEPopup.editor.dom.setAttrib(a,b,c||e.value)}function setAllCommonAttribs(a){setAttrib(a,"title"),setAttrib(a,"id"),setAttrib(a,"class"),setAttrib(a,"style"),setAttrib(a,"dir"),setAttrib(a,"lang")}function insertInlineElement(a){var b=tinyMCEPopup.editor,c=b.dom;b.getDoc().execCommand("FontName",!1,"mceinline"),tinymce.each(c.select("span,font"),function(b){(b.style.fontFamily=="mceinline"||b.face=="mceinline")&&c.replace(c.create(a,{_mce_new:1}),b,1)})}function init(){SXE.initElementDialog("ins"),SXE.currentAction=="update"&&(setFormValue("datetime",tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement,"datetime")),setFormValue("cite",tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement,"cite")),SXE.showRemoveButton())}function setElementAttribs(a){setAllCommonAttribs(a),setAttrib(a,"datetime"),setAttrib(a,"cite")}function insertIns(){var a=tinyMCEPopup.editor.dom.getParent(SXE.focusElement,"INS");tinyMCEPopup.execCommand("mceBeginUndoLevel");if(a==null){var b=SXE.inst.selection.getContent();if(b.length>0){insertInlineElement("INS");var c=tinymce.grep(SXE.inst.dom.select("ins"),function(a){return a.id=="#sxe_temp_ins#"});for(var d=0;d<c.length;d++){var a=c[d];setElementAttribs(a)}}}else setElementAttribs(a);tinyMCEPopup.editor.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function removeIns(){SXE.removeElement("ins"),tinyMCEPopup.close()}function insertInlineElement(a){var b=tinyMCEPopup.editor,c=b.dom;b.getDoc().execCommand("FontName",!1,"mceinline"),tinymce.each(c.select(tinymce.isWebKit?"span":"font"),function(b){(b.style.fontFamily=="mceinline"||b.face=="mceinline")&&c.replace(c.create(a),b,1)})}function init(){var a,b;tinyMCEPopup.resizeToInnerSize(),a=tinyMCEPopup.editor,window.setTimeout(insertHelpIFrame,10),b=document.getElementById("plugintablecontainer"),document.getElementById("plugins_tab").style.display="none";var c="";c+='<table id="plugintable">',c+="<thead>",c+="<tr>",c+="<td>"+a.getLang("advanced_dlg.about_plugin")+"</td>",c+="<td>"+a.getLang("advanced_dlg.about_author")+"</td>",c+="<td>"+a.getLang("advanced_dlg.about_version")+"</td>",c+="</tr>",c+="</thead>",c+="<tbody>",tinymce.each(a.plugins,function(a,b){var d;if(!a.getInfo)return;c+="<tr>",d=a.getInfo(),d.infourl!=null&&d.infourl!=""?c+='<td width="50%" title="'+b+'"><a href="'+d.infourl+'" target="_blank">'+d.longname+"</a></td>":c+='<td width="50%" title="'+b+'">'+d.longname+"</td>",d.authorurl!=null&&d.authorurl!=""?c+='<td width="35%"><a href="'+d.authorurl+'" target="_blank">'+d.author+"</a></td>":c+='<td width="35%">'+d.author+"</td>",c+='<td width="15%">'+d.version+"</td>",c+="</tr>",document.getElementById("plugins_tab").style.display=""}),c+="</tbody>",c+="</table>",b.innerHTML=c,tinyMCEPopup.dom.get("version").innerHTML=tinymce.majorVersion+"."+tinymce.minorVersion,tinyMCEPopup.dom.get("date").innerHTML=tinymce.releaseDate}function insertHelpIFrame(){var a;tinyMCEPopup.getParam("docs_url")&&(a='<iframe width="100%" height="300" src="'+tinyMCEPopup.editor.baseURI.toAbsolute(tinyMCEPopup.getParam("docs_url"))+'"></iframe>',document.getElementById("iframecontainer").innerHTML=a,document.getElementById("help_tab").style.display="block")}function renderCharMapHTML(){var a=20,b=20,c=20,d,e='<table border="0" cellspacing="1" cellpadding="0" width="'+b*a+'"><tr height="'+c+'">',f=-1;for(d=0;d<charmap.length;d++)charmap[d][2]==1&&(f++,e+='<td class="charmap"><a onmouseover="previewChar(\''+charmap[d][1].substring(1,charmap[d][1].length)+"','"+charmap[d][0].substring(1,charmap[d][0].length)+"','"+charmap[d][3]+"');\" onfocus=\"previewChar('"+charmap[d][1].substring(1,charmap[d][1].length)+"','"+charmap[d][0].substring(1,charmap[d][0].length)+"','"+charmap[d][3]+'\');" href="javascript:void(0)" onclick="insertChar(\''+charmap[d][1].substring(2,charmap[d][1].length-1)+'\');" onclick="return false;" onmousedown="return false;" title="'+charmap[d][3]+'">'+charmap[d][1]+"</a></td>",(f+1)%a==0&&(e+='</tr><tr height="'+c+'">'));if(f%a>0){var g=a-f%a;for(var d=0;d<g-1;d++)e+='<td width="'+b+'" height="'+c+'" class="charmap">&nbsp;</td>'}return e+="</tr></table>",e}function insertChar(a){tinyMCEPopup.execCommand("mceInsertContent",!1,"&#"+a+";"),tinyMCEPopup.isWindow&&window.focus(),tinyMCEPopup.editor.focus(),tinyMCEPopup.close()}function previewChar(a,b,c){var d=document.getElementById("codeA"),e=document.getElementById("codeB"),f=document.getElementById("codeV"),g=document.getElementById("codeN");a=="#160;"?f.innerHTML="__":f.innerHTML="&"+a,e.innerHTML="&amp;"+a,d.innerHTML="&amp;"+b,g.innerHTML=c}function init(){var a=convertRGBToHex(tinyMCEPopup.getWindowArg("input_color"));tinyMCEPopup.resizeToInnerSize(),generatePicker(),a&&(changeFinalColor(a),col=convertHexToRGB(a),col&&updateLight(col.r,col.g,col.b))}function insertAction(){var a=document.getElementById("color").value,b=tinyMCEPopup.getWindowArg("func");tinyMCEPopup.restoreSelection(),b&&b(a),tinyMCEPopup.close()}function showColor(a,b){b&&(document.getElementById("colorname").innerHTML=b),document.getElementById("preview").style.backgroundColor=a,document.getElementById("color").value=a.toLowerCase()}function convertRGBToHex(a){var c=new RegExp("rgb\\s*\\(\\s*([0-9]+).*,\\s*([0-9]+).*,\\s*([0-9]+).*\\)","gi");if(!a)return a;var d=a.replace(c,"$1,$2,$3").split(",");return d.length==3?(r=parseInt(d[0]).toString(16),g=parseInt(d[1]).toString(16),b=parseInt(d[2]).toString(16),r=r.length==1?"0"+r:r,g=g.length==1?"0"+g:g,b=b.length==1?"0"+b:b,"#"+r+g+b):a}function convertHexToRGB(a){return a.indexOf("#")!=-1?(a=a.replace(new RegExp("[^0-9A-F]","gi"),""),r=parseInt(a.substring(0,2),16),g=parseInt(a.substring(2,4),16),b=parseInt(a.substring(4,6),16),{r:r,g:g,b:b}):null}function generatePicker(){var a=document.getElementById("light"),b="",c;for(c=0;c<detail;c++)b+='<div id="gs'+c+'" style="background-color:#000000; width:15px; height:3px; border-style:none; border-width:0px;"'+' onclick="changeFinalColor(this.style.backgroundColor)"'+' onmousedown="isMouseDown = true; return false;"'+' onmouseup="isMouseDown = false;"'+' onmousemove="if (isMouseDown && isMouseOver) changeFinalColor(this.style.backgroundColor); return false;"'+' onmouseover="isMouseOver = true;"'+' onmouseout="isMouseOver = false;"'+"></div>";a.innerHTML=b}function generateWebColors(){var a=document.getElementById("webcolors"),b="",c;if(a.className=="generated")return;b+='<table border="0" cellspacing="1" cellpadding="0"><tr>';for(c=0;c<colors.length;c++)b+='<td bgcolor="'+colors[c]+'" width="10" height="10">'+'<a href="javascript:insertAction();" onfocus="showColor(\''+colors[c]+"');\" onmouseover=\"showColor('"+colors[c]+'\');" style="display:block;width:10px;height:10px;overflow:hidden;">'+"</a></td>",(c+1)%18==0&&(b+="</tr><tr>");b+="</table>",a.innerHTML=b,a.className="generated"}function generateNamedColors(){var a=document.getElementById("namedcolors"),b="",c,d,e=0;if(a.className=="generated")return;for(c in named)d=named[c],b+='<a href="javascript:insertAction();" onmouseover="showColor(\''+c+"','"+d+'\');" style="background-color: '+c+'"><!-- IE --></a>';a.innerHTML=b,a.className="generated"}function dechex(a){return strhex.charAt(Math.floor(a/16))+strhex.charAt(a%16)}function computeColor(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;b=a.offsetX?a.offsetX:a.target?a.clientX-a.target.x:0,c=a.offsetY?a.offsetY:a.target?a.clientY-a.target.y:0,d=document.getElementById("colors").width/6,e=detail/2,f=document.getElementById("colors").height,g=(b>=0)*(b<d)*255+(b>=d)*(b<2*d)*(510-b*255/d)+(b>=4*d)*(b<5*d)*(-1020+b*255/d)+(b>=5*d)*(b<6*d)*255,h=(b>=0)*(b<d)*(b*255/d)+(b>=d)*(b<3*d)*255+(b>=3*d)*(b<4*d)*(1020-b*255/d),i=(b>=2*d)*(b<3*d)*(-510+b*255/d)+(b>=3*d)*(b<5*d)*255+(b>=5*d)*(b<6*d)*(1530-b*255/d),j=(f-c)/f,g=128+(g-128)*j,h=128+(h-128)*j,i=128+(i-128)*j,changeFinalColor("#"+dechex(g)+dechex(h)+dechex(i)),updateLight(g,h,i)}function updateLight(a,b,c){var d,e=detail/2,f,g,h,i,j;for(d=0;d<detail;d++)d>=0&&d<e?(f=d/e,g=dechex(255-(255-a)*f),h=dechex(255-(255-b)*f),i=dechex(255-(255-c)*f)):(f=2-d/e,g=dechex(a*f),h=dechex(b*f),i=dechex(c*f)),j=g+h+i,setCol("gs"+d,"#"+j)}function changeFinalColor(a){a.indexOf("#")==-1&&(a=convertRGBToHex(a)),setCol("preview",a),document.getElementById("color").value=a}function setCol(a,b){try{document.getElementById(a).style.backgroundColor=b}catch(c){}}function saveContent(){tinyMCEPopup.editor.setContent(document.getElementById("htmlSource").value,{source_view:!0}),tinyMCEPopup.close()}function onLoadInit(){tinyMCEPopup.resizeToInnerSize(),tinymce.isGecko&&(document.body.spellcheck=tinyMCEPopup.editor.getParam("gecko_spellcheck")),document.getElementById("htmlSource").value=tinyMCEPopup.editor.getContent({source_view:!0}),tinyMCEPopup.editor.getParam("theme_advanced_source_editor_wrap",!0)&&(setWrap("soft"),document.getElementById("wraped").checked=!0),resizeInputs()}function setWrap(a){var b,c,d=document.getElementById("htmlSource");d.wrap=a,tinymce.isIE||(b=d.value,c=d.cloneNode(!1),c.setAttribute("wrap",a),d.parentNode.replaceChild(c,d),c.value=b)}function toggleWordWrap(a){a.checked?setWrap("soft"):setWrap("off")}function resizeInputs(){var a=document.getElementById("htmlSource");tinymce.isIE?(wHeight=document.body.clientHeight-70,wWidth=document.body.clientWidth-16):(wHeight=self.innerHeight-65,wWidth=self.innerWidth-16),a.style.height=Math.abs(wHeight)+"px",a.style.width=Math.abs(wWidth)+"px"}function getColorPickerHTML(a,b){var c="";return c+='<a id="'+a+'_link" href="javascript:;" onclick="tinyMCEPopup.pickColor(event,\''+b+'\');" onmousedown="return false;" class="pickcolor">',c+='<span id="'+a+'" title="'+tinyMCEPopup.getLang("browse")+'">&nbsp;</span></a>',c}function updateColor(a,b){document.getElementById(a).style.backgroundColor=document.forms[0].elements[b].value}function setBrowserDisabled(a,b){var c=document.getElementById(a),d=document.getElementById(a+"_link");d&&(b?(d.setAttribute("realhref",d.getAttribute("href")),d.removeAttribute("href"),tinyMCEPopup.dom.addClass(c,"disabled")):(d.getAttribute("realhref")&&d.setAttribute("href",d.getAttribute("realhref")),tinyMCEPopup.dom.removeClass(c,"disabled")))}function getBrowserHTML(a,b,c,d){var e=d+"_"+c+"_browser_callback",f,g;return f=tinyMCEPopup.getParam(e,tinyMCEPopup.getParam("file_browser_callback")),f?(g="",g+='<a id="'+a+'_link" href="javascript:openBrowser(\''+a+"','"+b+"', '"+c+"','"+e+'\');" onmousedown="return false;" class="browse">',g+='<span id="'+a+'" title="'+tinyMCEPopup.getLang("browse")+'">&nbsp;</span></a>',g):""}function openBrowser(a,b,c,d){var e=document.getElementById(a);e.className!="mceButtonDisabled"&&tinyMCEPopup.openBrowser(b,c,d)}function selectByValue(a,b,c,d,e){if(!a||!a.elements[b])return;var f=a.elements[b],g=!1;for(var h=0;h<f.options.length;h++){var i=f.options[h];i.value==c||e&&i.value.toLowerCase()==c.toLowerCase()?(i.selected=!0,g=!0):i.selected=!1}if(!g&&d&&c!=""){var i=new Option(c,c);i.selected=!0,f.options[f.options.length]=i,f.selectedIndex=f.options.length-1}return g}function getSelectValue(a,b){var c=a.elements[b];return c==null||c.options==null||c.selectedIndex===-1?"":c.options[c.selectedIndex].value}function addSelectValue(a,b,c,d){var e=a.elements[b],f=new Option(c,d);e.options[e.options.length]=f}function addClassesToList(a,b){var c=document.getElementById(a),d=tinyMCEPopup.getParam("theme_advanced_styles",!1);d=tinyMCEPopup.getParam(b,d);if(d){var e=d.split(";");for(var f=0;f<e.length;f++)if(e!=""){var g,h;g=e[f].split("=")[0],h=e[f].split("=")[1],c.options[c.length]=new Option(g,h)}}else tinymce.each(tinyMCEPopup.editor.dom.getClasses(),function(a){c.options[c.length]=new Option(a.title||a["class"],a["class"])})}function isVisible(a){var b=document.getElementById(a);return b&&b.style.display!="none"}function convertRGBToHex(a){var c=new RegExp("rgb\\s*\\(\\s*([0-9]+).*,\\s*([0-9]+).*,\\s*([0-9]+).*\\)","gi"),d=a.replace(c,"$1,$2,$3").split(",");return d.length==3?(r=parseInt(d[0]).toString(16),g=parseInt(d[1]).toString(16),b=parseInt(d[2]).toString(16),r=r.length==1?"0"+r:r,g=g.length==1?"0"+g:g,b=b.length==1?"0"+b:b,"#"+r+g+b):a}function convertHexToRGB(a){return a.indexOf("#")!=-1?(a=a.replace(new RegExp("[^0-9A-F]","gi"),""),r=parseInt(a.substring(0,2),16),g=parseInt(a.substring(2,4),16),b=parseInt(a.substring(4,6),16),"rgb("+r+","+g+","+b+")"):a}function trimSize(a){return a.replace(/([0-9\.]+)px|(%|in|cm|mm|em|ex|pt|pc)/,"$1$2")}function getCSSSize(a){return a=trimSize(a),a==""?"":(/^[0-9]+$/.test(a)&&(a+="px"),a)}function getStyle(a,b,c){var d=tinyMCEPopup.dom.getAttrib(a,b);return d!=""?""+d:(typeof c=="undefined"&&(c=b),tinyMCEPopup.dom.getStyle(a,c))}function MCTabs(){this.settings=[]}(function(a,b){function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function J(){return!1}function K(){return!0}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bj(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function bk(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g)),l}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cs(){return setTimeout(ct,0),cr=f.now()}function ct(){cr=b}function cu(a,b){var c={};return f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a}),c}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=i.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(A)return;A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&o.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!
e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}var b=i.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;return k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];if(!r)return;j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i)}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);return g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h,i)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h)),h===b&&d[1]?this.data(d[0]):h):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);return m(),d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(q,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),h;if(this.nodeType!==1)return;e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}return h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return h&&"get"in h&&i&&(g=h.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;return h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!g||!(o=g.events))return;b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;return g===1&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=J),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===
b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=m(b[3],null,null,c)}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}return d=e=null,h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?bC(a,b,d):(f.swap(a,bw,function(){e=bC(a,b,d)}),e)},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;return b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b),a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s===2)return;s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(!d.beforeSend||d.beforeSend.call(e,v,d)!==!1&&s!==2){for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(!(s<2))throw z;w(-1,z)}}return v}return v.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(
){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=cy(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window),function(a,b){var c;a.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(b){var c=a('meta[name="csrf-token"]').attr("content");c&&b.setRequestHeader("X-CSRF-Token",c)},fire:function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},confirm:function(a){return confirm(a)},ajax:function(b){return a.ajax(b)},handleRemote:function(d){var e,f,g,h=d.data("cross-domain")||null,i=d.data("type")||a.ajaxSettings&&a.ajaxSettings.dataType,j;if(c.fire(d,"ajax:before")){if(d.is("form")){e=d.attr("method"),f=d.attr("action"),g=d.serializeArray();var k=d.data("ujs:submit-button");k&&(g.push(k),d.data("ujs:submit-button",null))}else d.is(c.inputChangeSelector)?(e=d.data("method"),f=d.data("url"),g=d.serialize(),d.data("params")&&(g=g+"&"+d.data("params"))):(e=d.data("method"),f=d.attr("href"),g=d.data("params")||null);return j={type:e||"GET",data:g,dataType:i,crossDomain:h,beforeSend:function(a,e){return e.dataType===b&&a.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),c.fire(d,"ajax:beforeSend",[a,e])},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])}},f&&(j.url=f),c.ajax(j)}return!1},handleMethod:function(c){var d=c.attr("href"),e=c.data("method"),f=c.attr("target"),g=a("meta[name=csrf-token]").attr("content"),h=a("meta[name=csrf-param]").attr("content"),i=a('<form method="post" action="'+d+'"></form>'),j='<input name="_method" value="'+e+'" type="hidden" />';h!==b&&g!==b&&(j+='<input name="'+h+'" value="'+g+'" type="hidden" />'),f&&i.attr("target",f),i.hide().append(j).appendTo("body"),i.submit()},disableFormElements:function(b){b.find(c.disableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with",b[c]()),b[c](b.data("disable-with")),b.prop("disabled",!0)})},enableFormElements:function(b){b.find(c.enableSelector).each(function(){var b=a(this),c=b.is("button")?"html":"val";b.data("ujs:enable-with")&&b[c](b.data("ujs:enable-with")),b.prop("disabled",!1)})},allowAction:function(a){var b=a.data("confirm"),d=!1,e;return b?(c.fire(a,"confirm")&&(d=c.confirm(b),e=c.fire(a,"confirm:complete",[d])),d&&e):!0},blankInputs:function(b,c,d){var e=a(),f,g=c||"input,textarea";return b.find(g).each(function(){f=a(this);if(d?f.val():!f.val())e=e.add(f)}),e.length?e:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(b){return a(b.target).trigger("ujs:everythingStopped"),b.stopImmediatePropagation(),!1},callFormSubmitBindings:function(c,d){var e=c.data("events"),f=!0;return e!==b&&e.submit!==b&&a.each(e.submit,function(a,b){if(typeof b.handler=="function")return f=b.handler(d)}),f},disableElement:function(a){a.data("ujs:enable-with",a.html()),a.html(a.data("disable-with")),a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==b&&(a.html(a.data("ujs:enable-with")),a.data("ujs:enable-with",!1)),a.unbind("click.railsDisable")}},a.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),a(document).delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(a(this))}),a(document).delegate(c.linkClickSelector,"click.rails",function(d){var e=a(this),f=e.data("method"),g=e.data("params");if(!c.allowAction(e))return c.stopEverything(d);e.is(c.linkDisableSelector)&&c.disableElement(e);if(e.data("remote")!==b)return(d.metaKey||d.ctrlKey)&&(!f||f==="GET")&&!g?!0:(c.handleRemote(e)===!1&&c.enableElement(e),!1);if(e.data("method"))return c.handleMethod(e),!1}),a(document).delegate(c.inputChangeSelector,"change.rails",function(b){var d=a(this);return c.allowAction(d)?(c.handleRemote(d),!1):c.stopEverything(b)}),a(document).delegate(c.formSubmitSelector,"submit.rails",function(d){var e=a(this),f=e.data("remote")!==b,g=c.blankInputs(e,c.requiredInputSelector),h=c.nonBlankInputs(e,c.fileInputSelector);if(!c.allowAction(e))return c.stopEverything(d);if(g&&e.attr("novalidate")==b&&c.fire(e,"ajax:aborted:required",[g]))return c.stopEverything(d);if(f)return h?c.fire(e,"ajax:aborted:file",[h]):!a.support.submitBubbles&&a().jquery<"1.7"&&c.callFormSubmitBindings(e,d)===!1?c.stopEverything(d):(c.handleRemote(e),!1);setTimeout(function(){c.disableFormElements(e)},13)}),a(document).delegate(c.formInputClickSelector,"click.rails",function(b){var d=a(this);if(!c.allowAction(d))return c.stopEverything(b);var e=d.attr("name"),f=e?{name:e,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)}),a(document).delegate(c.formSubmitSelector,"ajax:beforeSend.rails",function(b){this==b.target&&c.disableFormElements(a(this))}),a(document).delegate(c.formSubmitSelector,"ajax:complete.rails",function(b){this==b.target&&c.enableFormElements(a(this))})}(jQuery),jQuery(document).ready(function(){jQuery("#password").hide(),jQuery("#slidePass").click(function(){jQuery(this).siblings("#password").slideToggle()})}),$(document).ready(function(){$(".gliss").hide(),$("#slideBlog").click(function(){$(this).siblings(".gliss").slideToggle()})}),$(document).ready(function(){$(".mover").show(),$("#slideToggle").click(function(){$(this).siblings(".mover").slideToggle()})}),addEvt(window,"load",globalPageLoad),function(){function a(a){console.log("$f.fireEvent",[].slice.call(a))}function b(a){if(!a||typeof a!="object")return a;var c=new a.constructor;for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function c(a,b){if(!a)return;var c,d=0,e=a.length;if(e===undefined){for(c in a)if(b.call(a[c],c,a[c])===!1)break}else for(var f=a[0];d<e&&b.call(f,d,f)!==!1;f=a[++d]);return a}function d(a){return document.getElementById(a)}function e(a,b,d){return typeof b!="object"?a:(a&&b&&c(b,function(b,c){if(!d||typeof c!="function")a[b]=c}),a)}function f(a){var b=a.indexOf(".");if(b!=-1){var d=a.slice(0,b)||"*",e=a.slice(b+1,a.length),f=[];return c(document.getElementsByTagName(d),function(){this.className&&this.className.indexOf(e)!=-1&&f.push(this)}),f}}function g(a){return a=a||window.event,a.preventDefault?(a.stopPropagation(),a.preventDefault()):(a.returnValue=!1,a.cancelBubble=!0),!1}function h(a,b,c){a[b]=a[b]||[],a[b].push(c)}function i(){return"_"+(""+Math.random()).slice(2,10)}function l(f,l,n){function C(){function b(a){return!o.isLoaded()&&o._fireEvent("onBeforeClick")!==!1&&o.load(),g(a)}$f(f)?($f(f).getParent().innerHTML="",y=$f(f).getIndex(),m[y]=o):(m.push(o),y=m.length-1),B=parseInt(f.style.height,10)||f.clientHeight,w=f.id||"fp"+i(),x=l.id||w+"_api",l.id=x,n.playerId=w,typeof n=="string"&&(n={clip:{url:n}}),typeof n.clip=="string"&&(n.clip={url:n.clip}),n.clip=n.clip||{},f.getAttribute("href",2)&&!n.clip.url&&(n.clip.url=f.getAttribute("href",2)),s=new j(n.clip,-1,o),n.playlist=n.playlist||[n.clip];var a=0;c(n.playlist,function(){var b=this;typeof b=="object"&&b.length&&(b={url:""+b}),c(n.clip,function(a,c){c!==undefined&&b[a]===undefined&&typeof c!="function"&&(b[a]=c)}),n.playlist[a]=b,b=new j(b,a,o),t.push(b),a++}),c(n,function(a,b){typeof b=="function"&&(s[a]?s[a](b):h(v,a,b),delete n[a])}),c(n.plugins,function(a,b){b&&(u[a]=new k(a,b,o))});if(!n.plugins||n.plugins.controls===undefined)u.controls=new k("controls",null,o);u.canvas=new k("canvas",null,o),r=f.innerHTML,r.replace(/\s/g,"")!==""?f.addEventListener?f.addEventListener("click",b,!1):f.attachEvent&&f.attachEvent("onclick",b):(f.addEventListener&&f.addEventListener("click",g,!1),o.load())}var o=this,p=null,q=!1,r,s,t=[],u={},v={},w,x,y,z,A,B;e(o,{id:function(){return w},isLoaded:function(){return p!==null&&p.fp_play!=undefined&&!q},getParent:function(){return f},hide:function(a){return a&&(f.style.height="0px"),o.isLoaded()&&(p.style.height="0px"),o},show:function(){return f.style.height=B+"px",o.isLoaded()&&(p.style.height=A+"px"),o},isHidden:function(){return o.isLoaded()&&parseInt(p.style.height,10)===0},load:function(a){if(!o.isLoaded()&&o._fireEvent("onBeforeLoad")!==!1){var b=function(){r=f.innerHTML,r&&!flashembed.isSupported(l.version)&&(f.innerHTML=""),flashembed(f,l,{config:n}),a&&(a.cached=!0,h(v,"onLoad",a))},d=0;c(m,function(){this.unload(function(a){++d==m.length&&b()})})}return o},unload:function(a){if(this.isFullscreen()&&/WebKit/i.test(navigator.userAgent))return a&&a(!1),o;if(r.replace(/\s/g,"")!==""){if(o._fireEvent("onBeforeUnload")===!1)return a&&a(!1),o;q=!0;try{p&&(p.fp_close(),o._fireEvent("onUnload"))}catch(b){}var c=function(){p=null,f.innerHTML=r,q=!1,a&&a(!0)};setTimeout(c,50)}else a&&a(!1);return o},getClip:function(a){return a===undefined&&(a=z),t[a]},getCommonClip:function(){return s},getPlaylist:function(){return t},getPlugin:function(a){var b=u[a];if(!b&&o.isLoaded()){var c=o._api().fp_getPlugin(a);c&&(b=new k(a,c,o),u[a]=b)}return b},getScreen:function(){return o.getPlugin("screen")},getControls:function(){return o.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return o.getPlugin("logo")._fireEvent("onUpdate")}catch(a){}},getPlay:function(){return o.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(a){return a?b(n):n},getFlashParams:function(){return l},loadPlugin:function(a,b,c,d){typeof c=="function"&&(d=c,c={});var e=d?i():"_";o._api().fp_loadPlugin(a,b,c,e);var f={};f[e]=d;var g=new k(a,null,o,f);return u[a]=g,g},getState:function(){return o.isLoaded()?p.fp_getState():-1},play:function(a,b){var c=function(){a!==undefined?o._api().fp_play(a,b):o._api().fp_play()};return o.isLoaded()?c():q?setTimeout(function(){o.play(a,b)},50):o.load(function(){c()}),o},getVersion:function(){var a="flowplayer.js 3.2.2";if(o.isLoaded()){var b=p.fp_getVersion();return b.push(a),b}return a},_api:function(){if(!o.isLoaded())throw"Flowplayer "+o.id()+" not loaded when calling an API method";return p},setClip:function(a){return o.setPlaylist([a]),o},getIndex:function(){return y}}),c("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var a="on"+this;if(a.indexOf("*")!=-1){a=a.slice(0,a.length-1);var b="onBefore"+a.slice(2);o[b]=function(a){return h(v,b,a),o}}o[a]=function(b){return h(v,a,b),o}}),c("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var a=this;o[a]=function(b,c){if(!o.isLoaded())return o;var d=null;return b!==undefined&&c!==undefined?d=p["fp_"+a](b,c):d=b===undefined?p["fp_"+a]():p["fp_"+a](b),d==="undefined"||d===undefined?o:d}}),o._fireEvent=function(b){typeof b=="string"&&(b=[b]);var e=b[0],f=b[1],g=b[2],h=b[3],i=0;n.debug&&a(b),!o.isLoaded()&&e=="onLoad"&&f=="player"&&(p=p||d(x),A=p.clientHeight,c(t,function(){this._fireEvent("onLoad")}),c(u,function(a,b){b._fireEvent("onUpdate")}),s._fireEvent("onLoad"));if(e=="onLoad"&&f!="player")return;e=="onError"&&(typeof f=="string"||typeof f=="number"&&typeof g=="number")&&(f=g,g=h);if(e=="onContextMenu"){c(n.contextMenu[f],function(a,b){b.call(o)});return}if(e=="onPluginEvent"||e=="onBeforePluginEvent"){var k=f.name||f,l=u[k];if(l)return l._fireEvent("onUpdate",f),l._fireEvent(g,b.slice(3));return}if(e=="onPlaylistReplace"){t=[];var m=0;c(f,function(){t.push(new j(this,m++,o))})}if(e=="onClipAdd"){if(f.isInStream)return;f=new j(f,g,o),t.splice(g,0,f);for(i=g+1;i<t.length;i++)t[i].index++}var q=!0;if(typeof f=="number"&&f<t.length){z=f;var r=t[f];r&&(q=r._fireEvent(e,g,h));if(!r||q!==!1)q=s._fireEvent(e,g,h,r)}return c(v[e],function(){q=this.call(o,f,g),this.cached&&v[e].splice(i,1);if(q===!1)return!1;i++}),q};if(typeof f=="string"){var D=d(f);if(!D)throw"Flowplayer cannot access element: "+f;f=D,C()}else C()}function n(a){this.length=a.length,this.each=function(b){c(a,b)},this.size=function(){return a.length}}var j=function(a,b,d){var f=this,g={},j={};f.index=b,typeof a=="string"&&(a={url:a}),e(this,a,!0),c("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var a="on"+this;if(a.indexOf("*")!=-1){a=a.slice(0,a.length-1);var c="onBefore"+a.slice(2);f[c]=function(a){return h(j,c,a),f}}f[a]=function(b){return h(j,a,b),f},b==-1&&(f[c]&&(d[c]=f[c]),f[a]&&(d[a]=f[a]))}),e(this,{onCuepoint:function(a,c){if(arguments.length==1)return g.embedded=[null,a],f;typeof a=="number"&&(a=[a]);var e=i();return g[e]=[a,c],d.isLoaded()&&d._api().fp_addCuepoints(a,b,e),f},update:function(a){e(f,a),d.isLoaded()&&d._api().fp_updateClip(a,b);var c=d.getConfig(),g=b==-1?c.clip:c.playlist[b];e(g,a,!0)},_fireEvent:function(a,h,i,k){if(a=="onLoad")return c(g,function(a,c){c[0]&&d._api().fp_addCuepoints(c[0],b,a)}),!1;k=k||f;if(a=="onCuepoint"){var l=g[h];if(l)return l[1].call(d,k,i)}h&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(a)!=-1&&(e(k,h),h.metaData&&(k.duration?k.fullDuration=h.metaData.duration:k.duration=h.metaData.duration));var m=!0;return c(j[a],function(){m=this.call(d,k,h,i)}),m}});if(a.onCuepoint){var k=a.onCuepoint;f.onCuepoint.apply(f,typeof k=="function"?[k]:k),delete a.onCuepoint}c(a,function(b,c){typeof c=="function"&&(h(j,b,c),delete a[b])}),b==-1&&(d.onCuepoint=this.onCuepoint)},k=function(a,b,d,f){var g=this,h={},j=!1;f&&e(h,f),c(b,function(a,c){typeof c=="function"&&(h[a]=c,delete b[a])}),e(this,{animate:function(c,e,f){if(!c)return g;typeof e=="function"&&(f=e,e=500);if(typeof c=="string"){var j=c;c={},c[j]=e,e=500}if(f){var k=i();h[k]=f}return e===undefined&&(e=500),b=d._api().fp_animate(a,c,e,k),g},css:function(c,f){if(f!==undefined){var h={};h[c]=f,c=h}return b=d._api().fp_css(a,c),e(g,b),g},show:function(){return this.display="block",d._api().fp_showPlugin(a),g},hide:function(){return this.display="none",d._api().fp_hidePlugin(a),g},toggle:function(){return this.display=d._api().fp_togglePlugin(a),g},fadeTo:function(b,c,e){typeof c=="function"&&(e=c,c=500);if(e){var f=i();h[f]=e}return this.display=d._api().fp_fadeTo(a,b,c,f),this.opacity=b,g},fadeIn:function(a,b){return g.fadeTo(1,a,b)},fadeOut:function(a,b){return g.fadeTo(0,a,b)},getName:function(){return a},getPlayer:function(){return d},_fireEvent:function(b,f,i){if(b=="onUpdate"){var k=d._api().fp_getPlugin(a);if(!k)return;e(g,k),delete g.methods,j||(c(k.methods,function(){var b=""+this;g[b]=function(){var c=[].slice.call(arguments),e=d._api().fp_invoke(a,b,c);return e==="undefined"||e===undefined?g:e}}),j=!0)}var l=h[b];if(l){var m=l.apply(g,f);return b.slice(0,1)=="_"&&delete h[b],m}return g}})},m=[];window.flowplayer=window.$f=function(){var a=null,g=arguments[0];if(!arguments.length)return c(m,function(){if(this.isLoaded())return a=this,!1}),a||m[0];if(arguments.length==1)return typeof g=="number"?m[g]:g=="*"?new n(m):(c(m,function(){if(this.id()==g.id||this.id()==g||this.getParent()==g)return a=this,!1}),a);if(arguments.length>1){var h=arguments[1],i=arguments.length==3?arguments[2]:{};typeof h=="string"&&(h={src:h}),h=e({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:!0},h);if(typeof g=="string"){if(g.indexOf(".")!=-1){var j=[];return c(f(g),function(){j.push(new l(this,b(h),b(i)))}),new n(j)}var k=d(g);return new l(k!==null?k:g,h,i)}if(g)return new l(g,h,i)}return null},e(window.$f,{fireEvent:function(){var a=[].slice.call(arguments),b=$f(a[0]);return b?b._fireEvent(a.slice(1)):null},addPlugin:function(a,b){return l.prototype[a]=b,$f},each:c,extend:e}),typeof jQuery=="function"&&(jQuery.fn.flowplayer=function(a,c){if(!arguments.length||typeof arguments[0]=="number"){var d=[];return this.each(function(){var a=$f(this);a&&d.push(a)}),arguments.length?d[arguments[0]]:new n(d)}return this.each(function(){$f(this,b(a),c?b(c):{})})})}(),function(){function f(a,b){if(b)for(key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a}function g(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function j(c,d,e){if(h.isSupported(d.version))c.innerHTML=h.getHTML(d,e);else if(d.expressInstall&&h.isSupported([6,65]))c.innerHTML=h.getHTML(f(d,{src:d.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{c.innerHTML.replace(/\s/g,"")||(c.innerHTML="<h2>Flash version "+d.version+" or greater is required</h2><h3>"+(i[0]>0?"Your version is "+i:"You have no flash plugin installed")+"</h3>"+(c.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+b+"'>here</a></p>"),c.tagName=="A"&&(c.onclick=function(){location.href=b}));if(d.onFail){var g=d.onFail.call(this);typeof g=="string"&&(c.innerHTML=g)}}a&&(window[d.id]=document.getElementById(d.id)),f(this,{getRoot:function(){return c},getOptions:function(){return d},getConf:function(){return e},getApi:function(){return c.firstChild}})}var a=document.all,b="http://www.adobe.com/go/getflashplayer",c=typeof jQuery=="function",d=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,e={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(a,b,c){typeof a=="string"&&(a=document.getElementById(a.replace("#","")));if(!a)return;return typeof b=="string"&&(b={src:b}),new j(a,f(f({},e),b),c)};var h=f(window.flashembed,{conf:e,getVersion:function(){var a;try{a=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(b){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=c&&c.GetVariable("$version")}catch(e){}}return a=d.exec(a),a?[a[1],a[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var b=typeof a;b=="object"&&a.push&&(b="array");switch(b){case"string":return a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1"),a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct"),'"'+a+'"';case"array":return"["+g(a,function(a){return h.asString(a)}).join(",")+"]";case"function":return'"function()"';case"object":var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push('"'+d+'":'+h.asString(a[d]));return"{"+c.join(",")+"}"}return String(a).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(b,c){b=f({},b);var d='<object width="'+b.width+'" height="'+b.height+'" id="'+b.id+'" name="'+b.id+'"';b.cachebusting&&(b.src+=(b.src.indexOf("?")!=-1?"&":"?")+Math.random()),b.w3c||!a?d+=' data="'+b.src+'" type="application/x-shockwave-flash"':d+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',d+=">";if(b.w3c||a)d+='<param name="movie" value="'+b.src+'" />';b.width=b.height=b.id=b.w3c=b.src=null,b.onFail=b.version=b.expressInstall=null;for(var e in b)b[e]&&(d+='<param name="'+e+'" value="'+b[e]+'" />');var g="";if(c){for(var i in c)if(c[i]){var j=c[i];g+=i+"="+(/function|object/.test(typeof j)?h.asString(j):j)+"&"}g=g.slice(0,-1),d+='<param name="flashvars" value=\''+g+"' />"}return d+="</object>",d},isSupported:function(a){return i[0]>a[0]||i[0]==a[0]&&i[1]>=a[1]}}),i=h.getVersion();c&&(jQuery.tools=jQuery.tools||{version:"3.2.2"},jQuery.tools.flashembed={conf:e},jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,a,b))})})}(),$f.addPlugin("controls",function(a,b){function c(a){return typeof a=="undefined"&&(a=window.event),typeof a.layerX=="undefined"&&(a.layerX=a.offsetX),typeof a.layerY=="undefined"&&(a.layerY=a.offsetY),a}function d(a){return a.clientWidth}function e(a){return a.offsetLeft}function f(a,b,d,e){function g(){}function h
(c){return c>d?!1:c<b?!1:(a.style.left=c+"px",!0)}function i(){document.onmousemove=null,document.onmouseup=null,a.onDragEnd(parseInt(a.style.left,10)),f=!1}function j(b){b=c(b);var d=b.clientX-e;return h(d)&&(f=!0,a.onDrag(d)),!1}var f=!1;return a.onDragStart=a.onDragStart||g,a.onDragEnd=a.onDragEnd||g,a.onDrag=a.onDrag||g,a.onmousedown=function(b){return b=c(b),a.onDragStart(parseInt(a.style.left,10)),document.onmousemove=j,document.onmouseup=i,!1},this.dragTo=function(b){h(b)&&a.onDragEnd(b)},this.setMax=function(a){d=a},this.isDragging=function(){return f},this}function g(a,b){if(b)for(key in b)key&&(a[key]=b[key])}function h(b){var c=a.getElementsByTagName("*"),d=new RegExp("(^|\\s)"+b+"(\\s|$)");for(var e=0;e<c.length;e++)if(d.test(c[e].className))return c[e]}function i(a){return a=parseInt(a,10),a>=10?a:"0"+a}function j(a){var b=Math.floor(a/3600),c=Math.floor(a/60);return a-=c*60,b>=1?(c-=b*60,i(b)+":"+i(c)+":"+i(a)):i(c)+":"+i(a)}function k(a,b){return"<span>"+j(a)+"</span> <strong>"+j(b)+"</strong>"}function y(a,b){return parseInt(Math.min(a/b*t,t-u/2),10)}var l=this,m={playHeadClass:"playhead",trackClass:"track",playClass:"play",pauseClass:"pause",bufferClass:"buffer",progressClass:"progress",timeClass:"time",muteClass:"mute",unmuteClass:"unmute",duration:0,template:'<a class="play">play</a><div class="track"><div class="buffer"></div><div class="progress"></div><div class="playhead"></div></div><div class="time"></div><a class="mute">mute</a>'};g(m,b),typeof a=="string"&&(a=document.getElementById(a));if(!a)return;a.innerHTML.replace(/\s/g,"")||(a.innerHTML=m.template);var n=h(m.playHeadClass),o=h(m.bufferClass),p=h(m.progressClass),q=h(m.trackClass),r=h(m.timeClass),s=h(m.muteClass);r.innerHTML=k(0,m.duration);var t=d(q),u=d(n),v=new f(n,0,0,e(a)+e(q)+u/2);q.onclick=function(a){a=c(a);if(a.target==n)return!1;v.dragTo(a.layerX-u/2)};var w=h(m.playClass);w.onclick=function(){l.isLoaded()?l.toggle():l.play()},s.onclick=function(){l.getStatus().muted?l.unmute():l.mute()};var x=null;return l.onStart(function(a){var b=a.duration||0;clearInterval(x),x=setInterval(function(){var c=l.getStatus();c.time&&(r.innerHTML=k(c.time,a.duration));if(c.time===undefined){clearInterval(x);return}var d=y(c.bufferEnd,b);o.style.width=d+"px",v.setMax(d),!l.isPaused()&&!v.isDragging()&&(d=y(c.time,b),p.style.width=d+"px",n.style.left=d-u/2+"px")},500)}),l.onBegin(function(){w.className=m.pauseClass}),l.onPause(function(){w.className=m.playClass}),l.onResume(function(){w.className=m.pauseClass}),l.onMute(function(){s.className=m.unmuteClass}),l.onUnmute(function(){s.className=m.muteClass}),l.onFinish(function(a){clearInterval(x)}),l.onUnload(function(){r.innerHTML=k(0,m.duration)}),n.onDragEnd=function(a){var b=parseInt(a/t*100,10)+"%";p.style.width=a+"px",l.isLoaded()&&l.seek(b)},n.onDrag=function(a){p.style.width=a+"px"},l}),function(a){$f.addPlugin("playlist",function(b,c){function h(b){var c=o;return a.each(b,function(b,d){a.isFunction(d)||(c=c.replace("${"+b+"}",d).replace("$%7B"+b+"%7D",d))}),c}function i(){g=n().unbind("click.playlist").bind("click.playlist",function(){return k(a(this),g.index(this))})}function j(){b.empty(),a.each(d.getPlaylist(),function(){b.append(h(this))}),i()}function k(a,b){return a.hasClass(e.playingClass)||a.hasClass(e.pausedClass)?d.toggle():(a.addClass(e.progressClass),d.play(b)),!1}function l(){f&&(g=n()),g.removeClass(e.playingClass),g.removeClass(e.pausedClass),g.removeClass(e.progressClass)}function m(a){return f?g.filter("[href="+a.originalUrl+"]"):g.eq(a.index)}function n(){var a=b.find("a");return a.length?a:b.children()}var d=this,e={playingClass:"playing",pausedClass:"paused",progressClass:"progress",template:'<a href="${url}">${title}</a>',loop:!1,playOnClick:!0,manual:!1};a.extend(e,c),b=a(b);var f=d.getPlaylist().length<=1||e.manual,g=null;if(!f){var o=b.is(":empty")?e.template:b.html();j()}else{g=n();if(a.isFunction(g.live)){var p=a(b.selector+" a");p.length||(p=a(b.selector+" > *")),p.live("click",function(){var b=a(this);return k(b,b.attr("href"))})}else g.click(function(){var b=a(this);return k(b,b.attr("href"))});var q=d.getClip(0);!q.url&&e.playOnClick&&q.update({url:g.eq(0).attr("href")})}return d.onBegin(function(a){l(),m(a).addClass(e.playingClass)}),d.onPause(function(a){m(a).removeClass(e.playingClass).addClass(e.pausedClass)}),d.onResume(function(a){m(a).removeClass(e.pausedClass).addClass(e.playingClass)}),!e.loop&&!f&&d.onBeforeFinish(function(a){if(!a.isInStream&&a.index<g.length-1)return!1}),f&&e.loop&&d.onBeforeFinish(function(a){var b=m(a);return b.next().length?b.next().click():g.eq(0).click(),!1}),d.onUnload(function(){l()}),f||d.onPlaylistReplace(function(){j()}),d.onClipAdd(function(a,b){g.eq(b).before(h(a)),i()}),d})}(jQuery),$.ajaxSetup({beforeSend:function(a){a.setRequestHeader("Accept","text/javascript")}}),$(document).ready(function(){$(document).ajaxSend(function(a,b,c){if(c.type=="GET")return;if(typeof AUTH_TOKEN=="undefined")return;c.data=c.data||"",c.data+=(c.data?"&":"")+"authenticity_token="+encodeURIComponent(AUTH_TOKEN)})}),$(window).load(function(){$("#slider").nivoSlider({effect:"random",slices:15,animSpeed:800,pauseTime:7600,startSlide:0,directionNav:!1,directionNavHide:!1,controlNav:!1,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!1,manualAdvance:!1,captionOpacity:.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){}})}),$(window).load(function(){$("#slider1").nivoSlider({effect:"random",slices:15,animSpeed:800,pauseTime:2500,startSlide:0,directionNav:!1,directionNavHide:!1,controlNav:!1,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!1,manualAdvance:!1,captionOpacity:.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){}})}),$("ul.thumb li").hover(function(){$(this).css({"z-index":"70"}),$(this).find("img").addClass("hover").stop().animate({marginTop:"-110px",marginLeft:"-110px",top:"50%",left:"50%",width:"150px",height:"150px",padding:"20px"},200)},function(){$(this).css({"z-index":"0"}),$(this).find("img").removeClass("hover").stop().animate({marginTop:"0",marginLeft:"0",top:"0",left:"0",width:"99px",height:"99px",padding:"3px"},400)}),$("ul.thumb1 li").hover(function(){$(this).css({"z-index":"70"}),$(this).find("img").addClass("hover").stop().animate({marginTop:"-70px",marginLeft:"-70px",top:"50%",left:"50%",width:"115px",height:"115px",padding:"10px"},200)},function(){$(this).css({"z-index":"0"}),$(this).find("img").removeClass("hover").stop().animate({marginTop:"0",marginLeft:"0",top:"0",left:"0",width:"99px",height:"99px",padding:"3px"},400)}),FileProgress.prototype.setProgress=function(a){this.fileProgressElement.className="progressContainer green",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width=a+"%"},FileProgress.prototype.setComplete=function(){this.fileProgressElement.className="progressContainer blue",this.fileProgressElement.childNodes[3].className="progressBarComplete",this.fileProgressElement.childNodes[3].style.width=""},FileProgress.prototype.setError=function(){this.fileProgressElement.className="progressContainer red",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width=""},FileProgress.prototype.setCancelled=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width=""},FileProgress.prototype.setStatus=function(a){this.fileProgressElement.childNodes[2].innerHTML=a},FileProgress.prototype.toggleCancel=function(a,b){this.fileProgressElement.childNodes[0].style.visibility=a?"visible":"hidden";if(b){var c=this.fileProgressID;this.fileProgressElement.childNodes[0].onclick=function(){return b.cancelUpload(c),!1}}},$(document).ready(function(){var a="#2EAC6A";$(".ec-event-bg").live("mouseover",function(){event_id=$(this).attr("data-event-id"),$(".ec-event-"+event_id).css("background-color",a)}),$(".ec-event-bg").live("mouseout",function(){event_id=$(this).attr("data-event-id"),event_color=$(this).attr("data-color"),$(".ec-event-"+event_id).css("background-color",event_color)}),$(".ec-event-no-bg").live("mouseover",function(){ele=$(this),ele.css("color","white"),ele.find("a").css("color","white"),ele.find(".ec-bullet").css("background-color","white"),ele.css("background-color",a)}),$(".ec-event-no-bg").live("mouseout",function(){ele=$(this),event_color=$(this).attr("data-color"),ele.css("color",event_color),ele.find("a").css("color",event_color),ele.find(".ec-bullet").css("background-color",event_color),ele.css("background-color","transparent")})}),function(a){a.fn.lightBox=function(b){function d(){return e(this,c),!1}function e(c,d){a("embed, object, select").css({visibility:"hidden"}),f(),b.imageArray.length=0,b.activeImage=0;if(d.length==1)b.imageArray.push(new Array(c.getAttribute("href"),c.getAttribute("title")));else for(var e=0;e<d.length;e++)b.imageArray.push(new Array(d[e].getAttribute("href"),d[e].getAttribute("title")));while(b.imageArray[b.activeImage][0]!=c.getAttribute("href"))b.activeImage++;g()}function f(){a("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+b.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"><img src="'+b.imageBtnClose+'"></a></div></div></div></div>');var c=q();a("#jquery-overlay").css({backgroundColor:b.overlayBgColor,opacity:b.overlayOpacity,width:c[0],height:c[1]}).fadeIn();var d=r();a("#jquery-lightbox").css({top:d[1]+c[3]/10,left:d[0]}).show(),a("#jquery-overlay,#jquery-lightbox").click(function(){p()}),a("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){return p(),!1}),a(window).resize(function(){var b=q();a("#jquery-overlay").css({width:b[0],height:b[1]});var c=r();a("#jquery-lightbox").css({top:c[1]+b[3]/10,left:c[0]})})}function g(){a("#lightbox-loading").show(),b.fixedNavigation?a("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide():a("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();var c=new Image;c.onload=function(){a("#lightbox-image").attr("src",b.imageArray[b.activeImage][0]),h(c.width,c.height),c.onload=function(){}},c.src=b.imageArray[b.activeImage][0]}function h(c,d){var e=a("#lightbox-container-image-box").width(),f=a("#lightbox-container-image-box").height(),g=c+b.containerBorderSize*2,h=d+b.containerBorderSize*2,j=e-g,k=f-h;a("#lightbox-container-image-box").animate({width:g,height:h},b.containerResizeSpeed,function(){i()}),j==0&&k==0&&(a.browser.msie?s(250):s(100)),a("#lightbox-container-image-data-box").css({width:c}),a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:d+b.containerBorderSize*2})}function i(){a("#lightbox-loading").hide(),a("#lightbox-image").fadeIn(function(){j(),k()}),o()}function j(){a("#lightbox-container-image-data-box").slideDown("fast"),a("#lightbox-image-details-caption").hide(),b.imageArray[b.activeImage][1]&&a("#lightbox-image-details-caption").html(b.imageArray[b.activeImage][1]).show(),b.imageArray.length>1&&a("#lightbox-image-details-currentNumber").html(b.txtImage+" "+(b.activeImage+1)+" "+b.txtOf+" "+b.imageArray.length).show()}function k(){a("#lightbox-nav").show(),a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({background:"transparent url("+b.imageBlank+") no-repeat"}),b.activeImage!=0&&(b.fixedNavigation?a("#lightbox-nav-btnPrev").css({background:"url("+b.imageBtnPrev+") left 15% no-repeat"}).unbind().bind("click",function(){return b.activeImage=b.activeImage-1,g(),!1}):a("#lightbox-nav-btnPrev").unbind().hover(function(){a(this).css({background:"url("+b.imageBtnPrev+") left 15% no-repeat"})},function(){a(this).css({background:"transparent url("+b.imageBlank+") no-repeat"})}).show().bind("click",function(){return b.activeImage=b.activeImage-1,g(),!1})),b.activeImage!=b.imageArray.length-1&&(b.fixedNavigation?a("#lightbox-nav-btnNext").css({background:"url("+b.imageBtnNext+") right 15% no-repeat"}).unbind().bind("click",function(){return b.activeImage=b.activeImage+1,g(),!1}):a("#lightbox-nav-btnNext").unbind().hover(function(){a(this).css({background:"url("+b.imageBtnNext+") right 15% no-repeat"})},function(){a(this).css({background:"transparent url("+b.imageBlank+") no-repeat"})}).show().bind("click",function(){return b.activeImage=b.activeImage+1,g(),!1})),l()}function l(){a(document).keydown(function(a){n(a)})}function m(){a(document).unbind()}function n(a){a==null?(keycode=event.keyCode,escapeKey=27):(keycode=a.keyCode,escapeKey=a.DOM_VK_ESCAPE),key=String.fromCharCode(keycode).toLowerCase(),(key==b.keyToClose||key=="x"||keycode==escapeKey)&&p(),(key==b.keyToPrev||keycode==37)&&b.activeImage!=0&&(b.activeImage=b.activeImage-1,g(),m()),(key==b.keyToNext||keycode==39)&&b.activeImage!=b.imageArray.length-1&&(b.activeImage=b.activeImage+1,g(),m())}function o(){b.imageArray.length-1>b.activeImage&&(objNext=new Image,objNext.src=b.imageArray[b.activeImage+1][0]),b.activeImage>0&&(objPrev=new Image,objPrev.src=b.imageArray[b.activeImage-1][0])}function p(){a("#jquery-lightbox").remove(),a("#jquery-overlay").fadeOut(function(){a("#jquery-overlay").remove()}),a("embed, object, select").css({visibility:"visible"})}function q(){var a,b;window.innerHeight&&window.scrollMaxY?(a=window.innerWidth+window.scrollMaxX,b=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(a=document.body.scrollWidth,b=document.body.scrollHeight):(a=document.body.offsetWidth,b=document.body.offsetHeight);var c,d;return self.innerHeight?(document.documentElement.clientWidth?c=document.documentElement.clientWidth:c=self.innerWidth,d=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight):document.body&&(c=document.body.clientWidth,d=document.body.clientHeight),b<d?pageHeight=d:pageHeight=b,a<c?pageWidth=a:pageWidth=c,arrayPageSize=new Array(pageWidth,pageHeight,c,d),arrayPageSize}function r(){var a,b;return self.pageYOffset?(b=self.pageYOffset,a=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):document.body&&(b=document.body.scrollTop,a=document.body.scrollLeft),arrayPageScroll=new Array(a,b),arrayPageScroll}function s(a){var b=new Date;c=null;do var c=new Date;while(c-b<a)}b=jQuery.extend({overlayBgColor:"#000",overlayOpacity:.8,fixedNavigation:!1,imageLoading:"/images/lightbox-ico-loading.gif",imageBtnPrev:"/images/lightbox-btn-prev.gif",imageBtnNext:"/images/lightbox-btn-next.gif",imageBtnClose:"/images/lightbox-btn-close.gif",imageBlank:"/images/lightbox-blank.gif",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0},b);var c=this;return this.unbind("click").click(d)}}(jQuery),function(a,b){function c(){if(!q.isReady){try{t.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}q.ready()}}function d(a,b){b.src?q.ajax({url:b.src,async:!1,dataType:"script"}):q.globalEval(b.text||b.textContent||b.innerHTML||""),b.parentNode&&b.parentNode.removeChild(b)}function e(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&q.isFunction(d);for(j=0;j<i;j++)g(a[j],c,f?d.call(a[j],j,g(a[j],c)):d,h);return a}return i?g(a[0],c):b}function f(){return(new Date).getTime()}function g(){return!1}function h(){return!0}function i(a,b,c){return c[0].type=a,q.event.handle.apply(b,c)}function j(a){var b,c=[],d=[],e=arguments,f,g,h,i,j,k;g=q.data(this,"events");if(!(a.liveFired===this||!g||!g.live||a.button&&a.type==="click")){a.liveFired=this;var l=g.live.slice(0);for(i=0;i<l.length;i++)g=l[i],g.origType.replace(U,"")===a.type?d.push(g.selector):l.splice(i--,1);f=q(a.target).closest(d,a.currentTarget),j=0;for(k=f.length;j<k;j++)for(i=0;i<l.length;i++){g=l[i];if(f[j].selector===g.selector){h=f[j].elem,d=null;if(g.preType==="mouseenter"||g.preType==="mouseleave")d=q(a.relatedTarget).closest(g.selector)[0];(!d||d!==h)&&c.push({elem:h,handleObj:g})}}j=0;for(k=c.length;j<k;j++){f=c[j],a.currentTarget=f.elem,a.data=f.handleObj.data,a.handleObj=f.handleObj;if(f.handleObj.origHandler.apply(f.elem,e)===!1){b=!1;break}}return b}}function k(a,b){return"live."+(a&&a!=="*"?a+".":"")+b.replace(/\./g,"`").replace(/ /g,"&")}function l(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function m(a,b){var c=0;b.each(function(){if(this.nodeName===(a[c]&&a[c].nodeName)){var b=q.data(a[c++]),d=q.data(this,b);if(b=b&&b.events){delete d.handle,d.events={};for(var e in b)for(var f in b[e])q.event.add(this,e,b[e][f],b[e][f].data)}}})}function n(a,b,c){var d,e,f;return b=b&&b[0]?b[0].ownerDocument||b[0]:t,a.length===1&&typeof a[0]=="string"&&a[0].length<512&&b===t&&!bn.test(a[0])&&(q.support.checkClone||!bo.test(a[0]))&&(e=!0,(f=q.fragments[a[0]])&&f!==1&&(d=f)),d||(d=b.createDocumentFragment(),q.clean(a,b,d,c)),e&&(q.fragments[a[0]]=f?d:1),{fragment:d,cacheable:e}}function o(a,b){var c={};return q.each(bT.concat.apply([],bT.slice(0,b)),function(){c[this]=a}),c}function p(a){return"scrollTo"in a&&a.document?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var q=function(a,b){return new q.fn.init(a,b)},r=a.jQuery,s=a.$,t=a.document,u,v=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,w=/^.[^:#\[\.,]*$/,x=/\S/,y=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,A=navigator.userAgent,B=!1,C=[],D,E=Object.prototype.toString,F=Object.prototype.hasOwnProperty,G=Array.prototype.push,H=Array.prototype.slice,I=Array.prototype.indexOf;q.fn=q.prototype={init:function(a,c){var d,e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c)return this.context=t,this[0]=t.body,this.selector="body",this.length=1,this;if(typeof a=="string"){if((d=v.exec(a))&&(d[1]||!c)){if(d[1])return e=c?c.ownerDocument||c:t,(a=z.exec(a))?q.isPlainObject(c)?(a=[t.createElement(a[1])],q.fn.attr.call(a,c,!0)):a=[e.createElement(a[1])]:(a=n([d[1]],[e]),a=(a.cacheable?a.fragment.cloneNode(!0):a.fragment).childNodes),q.merge(this,a);if(c=t.getElementById(d[2])){if(c.id!==d[2])return u.find(a);this.length=1,this[0]=c}return this.context=t,this.selector=a,this}return!c&&/^\w+$/.test(a)?(this.selector=a,this.context=t,a=t.getElementsByTagName(a),q.merge(this,a)):!c||c.jquery?(c||u).find(a):q(c).find(a)}return q.isFunction(a)?u.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),q.makeArray(a,this))},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return H.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this.slice(a)[0]:this[a]},pushStack:function(a,b,c){var d=q();return q.isArray(a)?G.apply(d,a):q.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return q.each(this,a,b)},ready:function(a){return q.bindReady(),q.isReady?a.call(t,q):C&&C.push(a),this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(H.apply(this,arguments),"slice",H.call(arguments).join(","))},map:function(a){return this.pushStack(q.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||q(null)},push:G,sort:[].sort,splice:[].splice},q.fn.init.prototype=q.fn,q.extend=q.fn.extend=function(){var a=arguments[0]||{},c=1,d=arguments.length,e=!1,f,g,h,i;typeof a=="boolean"&&(e=a,a=arguments[1]||{},c=2),typeof a!="object"&&!q.isFunction(a)&&(a={}),d===c&&(a=this,--c);for(;c<d;c++)if((f=arguments[c])!=null)for(g in f)h=a[g],i=f[g],a!==i&&(e&&i&&(q.isPlainObject(i)||q.isArray(i))?(h=h&&(q.isPlainObject(h)||q.isArray(h))?h:q.isArray(i)?[]:{},a[g]=q.extend(e,h,i)):i!==b&&(a[g]=i));return a},q.extend({noConflict:function(b){return a.$=s,b&&(a.jQuery=r),q},isReady:!1,ready:function(){if(!q.isReady){if(!t.body)return setTimeout(q.ready,13);q.isReady=!0;if(C){for(var a,b=0;a=C[b++];)a.call(t,q);C=null}q.fn.triggerHandler&&q(t).triggerHandler("ready")}},bindReady:function(){if(!B){B=!0;if(t.readyState==="complete")return q.ready();if(t.addEventListener)t.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",q.ready,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",D),a.attachEvent("onload",q.ready);var b=!1;try{b=a.frameElement==null}catch(d){}t.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return E.call(a)==="[object Function]"},isArray:function(a){return E.call(a)==="[object Array]"},isPlainObject:function(a){if(!a||E.call(a)!=="[object Object]"||a.nodeType||a.setInterval)return!1;if(a.constructor&&!F.call(a,"constructor")&&!F.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a);return c===b||F.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=q.trim(b);if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))();q.error("Invalid JSON: "+b)},noop:function(){},globalEval:function(a){if(a&&x.test(a)){var b=t.getElementsByTagName("head")[0]||t.documentElement,c=t.createElement("script");c.type="text/javascript",q.support.scriptEval?c.appendChild(t.createTextNode(a)):c.text=a,b.insertBefore(c,b.firstChild),b.removeChild(c)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||q.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(d=a[0];f<g&&c.call(d,f,d)!==!1;d=a[++f]);return a},trim:function(a){return(a||"").replace(y,"")},makeArray:function(a,b){return b=b||[],a!=null&&(a.length==null||typeof a=="string"||q.isFunction(a)||typeof a!="function"&&a.setInterval?G.call(b,a):q.merge(b,a)),b},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)!c!=!b(a[e],e)&&d.push(a[e]);return d},map:function(a,b,c){for(var d=[],e,f=0,g=a.length;f<g;f++)e=b(a[f],f,c),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,d){return arguments.length===2&&(typeof c=="string"?(d=a,a=d[c],c=b):c&&!q.isFunction(c)&&(d=c,c=b)),!c&&a&&(c=function(){return a.apply(d||this,arguments)}),a&&(c.guid=a.guid=a.guid||c.guid||q.guid++),c},uaMatch:function(a){return a=a.toLowerCase(),a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}},browser:{}}),A=q.uaMatch(A),A.browser&&(q.browser[A.browser]=!0,q.browser.version=A.version),q.browser.webkit&&(q.browser.safari=!0),I&&(q.inArray=function(a,b){return I.call(b,a)}),u=q(t),t.addEventListener?D=function(){t.removeEventListener("DOMContentLoaded",D,!1),q.ready()}:t.attachEvent&&(D=function(){t.readyState==="complete"&&(t.detachEvent("onreadystatechange",D),q.ready())}),function(){q.support={};var b=t.documentElement,c=t.createElement("script"),d=t.createElement("div"),e="script"+f();d.style.display="none",d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var g=d.getElementsByTagName("*"),h=d.getElementsByTagName("a")[0];if(!(!g||!g.length||!h)){q.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(h.getAttribute("style")),hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:t.createElement("select").appendChild(t.createElement("option")).selected,parentNode:d.removeChild(d.appendChild(t.createElement("div"))).parentNode===null,deleteExpando:!0,checkClone:!1,scriptEval:!1,noCloneEvent:!0,boxModel:null},c.type="text/javascript";try{c.appendChild(t.createTextNode("window."+e+"=1;"))}catch(i){}b.insertBefore(c,b.firstChild),a[e]&&(q.support.scriptEval=!0,delete a[e]);try{delete c.test}catch(j){q.support.deleteExpando=!1}b.removeChild(c),d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function k(){q.support.noCloneEvent=!1,d.detachEvent("onclick",k)}),d.cloneNode(!0).fireEvent("onclick")),d=t.createElement("div"),d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>",b=t.createDocumentFragment(),b.appendChild(d.firstChild),q.support.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,q(function(){var a=t.createElement("div");a.style.width=a.style.paddingLeft="1px",t.body.appendChild(a),q.boxModel=q.support.boxModel=a.offsetWidth===2,t.body.removeChild(a).style.display="none"}),b=function(a){var b=t.createElement("div");a="on"+a;var c=a in b;return c||(b.setAttribute(a,"return;"),c=typeof b[a]=="function"),c},q.support.submitBubbles=b("submit"),q.support.changeBubbles=b("change"),b=c=d=g=h=null}}(),q.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var J="jQuery"+f(),K=0,L={};q.extend({cache:{},expando:J,noData:{embed:!0,object:!0,applet:!0},data:function(c,d,e){if(!c.nodeName||!q.noData[c.nodeName.toLowerCase()]){c=c==a?L:c;var f=c[J],g=q.cache;return!f&&typeof d=="string"&&e===b?null:(f||(f=++K),typeof d=="object"?(c[J]=f,g[f]=q.extend(!0,{},d)):g[f]||(c[J]=f,g[f]={}),c=g[f],e!==b&&(c[d]=e),typeof d=="string"?c[d]:c)}},removeData:function(b,c){if(!b.nodeName||!q.noData[b.nodeName.toLowerCase()]){b=b==a?L:b;var d=b[J],e=q.cache,f=e[d];c?f&&(delete f[c],q.isEmptyObject(f)&&q.removeData(b)):(q.support.deleteExpando?delete b[q.expando]:b.removeAttribute&&b.removeAttribute(q.expando),delete e[d])}}}),q.fn.extend({data:function(a,c){if(typeof a=="undefined"&&this.length)return q.data(this[0]);if(typeof a=="object")return this.each(function(){q.data(this,a)});var d=a.split(".");d[1]=d[1]?"."+d[1]:"";if(c===b){var e=this.triggerHandler("getData"+d[1]+"!",[d[0]]);return e===b&&this.length&&(e=q.data(this[0],a)),e===b&&d[1]?this.data(d[0]):e}return this.trigger("setData"+d[1]+"!",[d[0],c]).each(function(){q.data(this,a,c)})},removeData:function(a){return this.each(function(){q.removeData(this,a)})}}),q.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var d=q.data(a,b);return c?(!d||q.isArray(c)?d=q.data(a,b,q.makeArray(c)):d.push(c),d):d||[]}},dequeue:function(a,b){b=b||"fx";var c=q.queue(a,b),d=c.shift();d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),d.call(a,function(){q.dequeue(a,b)}))}}),q.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?q.queue(this[0],a):this.each(function(){var b=q.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&q.dequeue(this,a)})},dequeue:function(a){return this.each(function(){q.dequeue(this,a)})},delay:function(a,b){return a=q.fx?q.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(){var c=this;setTimeout(function(){q.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var M=/[\n\t]/g,N=/\s+/,O=/\r/g,P=/href|src|style/,Q=/(button|input)/i,R=/(button|input|object|select|textarea)/i,S=/^(a|area)$/i,T=/radio|checkbox/;q.fn.extend({attr:function(a,b){return e(this,a,b,!0,q.attr)},removeAttr:function(a){return this.each(function(){q.attr(this,a,""),this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(q.isFunction(a))return this.each(function(b){var c=q(this);c.addClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string")for(var b=(a||"").split(N),c=0,d=this.length;c<d;c++){var e=this[c];if(e.nodeType===1)if(e.className){for(var f=" "+e.className+" ",g=e.className,h=0,i=b.length;h<i;h++)f.indexOf(" "+b[h]+" ")<0&&(g+=" "+b[h]);e.className=q.trim(g)}else e.className=a}return this},removeClass:function(a){if(q.isFunction(a))return this.each(function(b){var c=q(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a=="string"||a===b)for(var c=(a||"").split(N),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var g=(" "+f.className+" ").replace(M," "),h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=q.trim(g)}else f.className=""}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return q.isFunction(a)?this.each(function(c){var d=q(this);d.toggleClass(a.call(this,c,d.attr("class"),b),b)}):this.each(function(){if(c==="string")for(var e,f=0,g=q(this),h=b,i=a.split(N);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else if(c==="undefined"||c==="boolean")this.className&&q.data(this,"__className__",this.className),this.className=this.className||a===!1?"":q.data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if((" "+this[b].className+" ").replace(M," ").indexOf(a)>-1)return!0;return!1},val:function(a){if(a===b){var c=this[0];if(c){if(q.nodeName(c,"option"))return(c.attributes.value||{}).specified?c.value:c.text;if(q.nodeName(c,"select")){var d=c.selectedIndex,e=[],f=c.options;c=c.type==="select-one";if(d<0)return null;var g=c?d:0;for(d=c?d+1:f.length;g<d;g++){var h=f[g];if(h.selected){a=q(h).val();if(c)return a;e.push(a)}}return e}return T.test(c.type)&&!q.support.checkOn?c.getAttribute("value")===null?"on":c.value:(c.value||"").replace(O,"")}return b}var i=q.isFunction(a);return this.each(function(b){var c=q(this),d=a;if(this.nodeType===1){i&&(d=a.call(this,b,c.val())),typeof d=="number"&&(d+="");if(q.isArray(d)&&T.test(this.type))this.checked=q.inArray(c.val(),d)>=0;else if(q.nodeName(this,"select")){var e=q.makeArray(d);q("option",this).each(function(){this.selected=q.inArray(q(this).val(),e)>=0}),e.length||(this.selectedIndex=-1)}else this.value=d}})}}),q.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8)return b;if(e&&c in q.attrFn)return q(a)[c](d);e=a.nodeType!==1||!q.isXMLDoc(a);var f=d!==b;c=e&&q.props[c]||c;if(a.nodeType===1){var g=P.test(c);return c in a&&e&&!g?(f&&(c==="type"&&Q.test(a.nodeName)&&a.parentNode&&q.error("type property can't be changed"),a[c]=d),q.nodeName(a,"form")&&a.getAttributeNode(c)?a.getAttributeNode(c).nodeValue:c==="tabIndex"?(c=a.getAttributeNode("tabIndex"))&&c.specified?c.value:R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b:a[c]):!q.support.style&&e&&c==="style"?(f&&(a.style.cssText=""+d),a.style.cssText):(f&&a.setAttribute(c,""+d),a=!q.support.hrefNormalized&&e&&g?a.getAttribute(c,2):a.getAttribute(c),a===null?b:a)}return q.style(a,c,d)}});var U=/\.(.*)$/,V=function(a){return a.replace(/[^\w\s\.\|`]/g,function(a){return"\\"+a})};q.event={add:function(c,d,e,f){if(c.nodeType!==3&&c.nodeType!==8){c.setInterval&&c!==a&&!c.frameElement&&(c=a);var g,h;e.handler&&(g=e,e=g.handler),e.guid||(e.guid=q.guid++);if(h=q.data(c)){var i=h.events=h.events||{},j=h.handle;j||(h.handle=j=function(){return typeof q!="undefined"&&!q.event.triggered?q.event.handle.apply(j.elem,arguments):b}),j.elem=c,d=d.split(" ");for(var k,l=0,m
;k=d[l++];){h=g?q.extend({},g):{handler:e,data:f},k.indexOf(".")>-1?(m=k.split("."),k=m.shift(),h.namespace=m.slice(0).sort().join(".")):(m=[],h.namespace=""),h.type=k,h.guid=e.guid;var n=i[k],o=q.event.special[k]||{};if(!n){n=i[k]=[];if(!o.setup||o.setup.call(c,f,m,j)===!1)c.addEventListener?c.addEventListener(k,j,!1):c.attachEvent&&c.attachEvent("on"+k,j)}o.add&&(o.add.call(c,h),h.handler.guid||(h.handler.guid=e.guid)),n.push(h),q.event.global[k]=!0}c=null}}},global:{},remove:function(a,b,c,d){if(a.nodeType!==3&&a.nodeType!==8){var e,f=0,g,h,i,j,k,l,m=q.data(a),n=m&&m.events;if(m&&n){b&&b.type&&(c=b.handler,b=b.type);if(!b||typeof b=="string"&&b.charAt(0)==="."){b=b||"";for(e in n)q.event.remove(a,e+b)}else{for(b=b.split(" ");e=b[f++];){j=e,g=e.indexOf(".")<0,h=[],g||(h=e.split("."),e=h.shift(),i=new RegExp("(^|\\.)"+q.map(h.slice(0).sort(),V).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(k=n[e])if(c){j=q.event.special[e]||{};for(o=d||0;o<k.length;o++){l=k[o];if(c.guid===l.guid){if(g||i.test(l.namespace))d==null&&k.splice(o--,1),j.remove&&j.remove.call(a,l);if(d!=null)break}}if(k.length===0||d!=null&&k.length===1)(!j.teardown||j.teardown.call(a,h)===!1)&&W(a,e,m.handle),delete n[e]}else for(var o=0;o<k.length;o++){l=k[o];if(g||i.test(l.namespace))q.event.remove(a,j,l.handler,o),k.splice(o--,1)}}if(q.isEmptyObject(n)){if(b=m.handle)b.elem=null;delete m.events,delete m.handle,q.isEmptyObject(m)&&q.removeData(a)}}}}},trigger:function(a,c,d,e){var f=a.type||a;if(!e){a=typeof a=="object"?a[J]?a:q.extend(q.Event(f),a):q.Event(f),f.indexOf("!")>=0&&(a.type=f=f.slice(0,-1),a.exclusive=!0),d||(a.stopPropagation(),q.event.global[f]&&q.each(q.cache,function(){this.events&&this.events[f]&&q.event.trigger(a,c,this.handle.elem)}));if(!d||d.nodeType===3||d.nodeType===8)return b;a.result=b,a.target=d,c=q.makeArray(c),c.unshift(a)}a.currentTarget=d,(e=q.data(d,"handle"))&&e.apply(d,c),e=d.parentNode||d.ownerDocument;try{d&&d.nodeName&&q.noData[d.nodeName.toLowerCase()]||d["on"+f]&&d["on"+f].apply(d,c)===!1&&(a.result=!1)}catch(g){}if(!a.isPropagationStopped()&&e)q.event.trigger(a,c,e,!0);else if(!a.isDefaultPrevented()){e=a.target;var h,i=q.nodeName(e,"a")&&f==="click",j=q.event.special[f]||{};if((!j._default||j._default.call(d,a)===!1)&&!i&&!(e&&e.nodeName&&q.noData[e.nodeName.toLowerCase()])){try{if(e[f]){if(h=e["on"+f])e["on"+f]=null;q.event.triggered=!0,e[f]()}}catch(k){}h&&(e["on"+f]=h),q.event.triggered=!1}}},handle:function(c){var d,e,f,g;c=arguments[0]=q.event.fix(c||a.event),c.currentTarget=this,d=c.type.indexOf(".")<0&&!c.exclusive,d||(e=c.type.split("."),c.type=e.shift(),f=new RegExp("(^|\\.)"+e.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),g=q.data(this,"events"),e=g[c.type];if(g&&e){e=e.slice(0),g=0;for(var h=e.length;g<h;g++){var i=e[g];if(d||f.test(i.namespace)){c.handler=i.handler,c.data=i.data,c.handleObj=i,i=i.handler.apply(this,arguments),i!==b&&(c.result=i,i===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[J])return a;var c=a;a=q.Event(c);for(var d=this.props.length,e;d;)e=this.props[--d],a[e]=c[e];return a.target||(a.target=a.srcElement||t),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),a.pageX==null&&a.clientX!=null&&(c=t.documentElement,d=t.body,a.pageX=a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)),!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode)&&(a.which=a.charCode||a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0),a},guid:1e8,proxy:q.proxy,special:{ready:{setup:q.bindReady,teardown:q.noop},live:{add:function(a){q.event.add(this,a.origType,q.extend({},a,{handler:j}))},remove:function(a){var b=!0,c=a.origType.replace(U,"");q.each(q.data(this,"events").live||[],function(){if(c===this.origType.replace(U,""))return b=!1}),b&&q.event.remove(this,a.origType,j)}},beforeunload:{setup:function(a,b,c){return this.setInterval&&(this.onbeforeunload=c),!1},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};var W=t.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};q.Event=function(a){if(!this.preventDefault)return new q.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type):this.type=a,this.timeStamp=f(),this[J]=!0},q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;a&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};var X=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;b!==this&&(a.type=a.data,q.event.handle.apply(this,arguments))}catch(c){}},Y=function(a){a.type=a.data,q.event.handle.apply(this,arguments)};q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){q.event.special[a]={setup:function(c){q.event.add(this,b,c&&c.selector?Y:X,a)},teardown:function(a){q.event.remove(this,b,a&&a.selector?Y:X)}}}),q.support.submitBubbles||(q.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()==="form")return!1;q.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;if((c==="submit"||c==="image")&&q(b).closest("form").length)return i("submit",this,arguments)}),q.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;if((c==="text"||c==="password")&&q(b).closest("form").length&&a.keyCode===13)return i("submit",this,arguments)})},teardown:function(){q.event.remove(this,".specialSubmit")}});if(!q.support.changeBubbles){var Z=/textarea|input|select/i,$,_=function(a){var b=a.type,c=a.value;return b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?q.map(a.options,function(a){return a.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(c=a.selectedIndex),c},ba=function(a,c){var d=a.target,e,f;if(!!Z.test(d.nodeName)&&!d.readOnly){e=q.data(d,"_change_data"),f=_(d),(a.type!=="focusout"||d.type!=="radio")&&q.data(d,"_change_data",f);if(e!==b&&f!==e)if(e!=null||f)return a.type="change",q.event.trigger(a,c,d)}};q.event.special.change={filters:{focusout:ba,click:function(a){var b=a.target,c=b.type;if(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select")return ba.call(this,a)},keydown:function(a){var b=a.target,c=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")return ba.call(this,a)},beforeactivate:function(a){a=a.target,q.data(a,"_change_data",_(a))}},setup:function(){if(this.type==="file")return!1;for(var a in $)q.event.add(this,a+".specialChange",$[a]);return Z.test(this.nodeName)},teardown:function(){return q.event.remove(this,".specialChange"),Z.test(this.nodeName)}},$=q.event.special.change.filters}t.addEventListener&&q.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){return a=q.event.fix(a),a.type=b,q.event.handle.call(this,a)}q.event.special[b]={setup:function(){this.addEventListener(a,c,!0)},teardown:function(){this.removeEventListener(a,c,!0)}}}),q.each(["bind","one"],function(a,c){q.fn[c]=function(a,d,e){if(typeof a=="object"){for(var f in a)this[c](f,d,a[f],e);return this}q.isFunction(d)&&(e=d,d=b);var g=c==="one"?q.proxy(e,function(a){return q(this).unbind(a,g),e.apply(this,arguments)}):e;if(a==="unload"&&c!=="one")this.one(a,d,e);else{f=0;for(var h=this.length;f<h;f++)q.event.add(this[f],a,g,d)}return this}}),q.fn.extend({unbind:function(a,b){if(typeof a=="object"&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else{c=0;for(var d=this.length;c<d;c++)q.event.remove(this[c],a,b)}return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){q.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return a=q.Event(a),a.preventDefault(),a.stopPropagation(),q.event.trigger(a,b,this[0]),a.result},toggle:function(a){for(var b=arguments,c=1;c<b.length;)q.proxy(a,b[c++]);return this.click(q.proxy(a,function(d){var e=(q.data(this,"lastToggle"+a.guid)||0)%c;return q.data(this,"lastToggle"+a.guid,e+1),d.preventDefault(),b[e].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var bb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};q.each(["live","die"],function(a,c){q.fn[c]=function(a,d,e,f){var g,h=0,i,j,l=f||this.selector,m=f?this:q(this.context);q.isFunction(d)&&(e=d,d=b);for(a=(a||"").split(" ");(g=a[h++])!=null;)f=U.exec(g),i="",f&&(i=f[0],g=g.replace(U,"")),g==="hover"?a.push("mouseenter"+i,"mouseleave"+i):(j=g,g==="focus"||g==="blur"?(a.push(bb[g]+i),g+=i):g=(bb[g]||g)+i,c==="live"?m.each(function(){q.event.add(this,k(g,l),{data:d,selector:l,handler:e,origType:g,origHandler:e,preType:j})}):m.unbind(k(g,l),e));return this}}),q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){q.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)},q.attrFn&&(q.attrFn[b]=!0)}),a.attachEvent&&!a.addEventListener&&a.attachEvent("onunload",function(){for(var a in q.cache)if(q.cache[a].handle)try{q.event.remove(q.cache[a].handle.elem)}catch(b){}}),function(){function a(b){for(var c="",d,e=0;b[e];e++)d=b[e],d.nodeType===3||d.nodeType===4?c+=d.nodeValue:d.nodeType!==8&&(c+=a(d.childNodes));return c}function c(a,b,c,d,e,f){e=0;for(var g=d.length;e<g;e++){var h=d[e];if(h){h=h[a];for(var i=!1;h;){if(h.sizcache===c){i=d[h.sizset];break}h.nodeType===1&&!f&&(h.sizcache=c,h.sizset=e);if(h.nodeName.toLowerCase()===b){i=h;break}h=h[a]}d[e]=i}}}function d(a,b,c,d,e,f){e=0;for(var g=d.length;e<g;e++){var h=d[e];if(h){h=h[a];for(var i=!1;h;){if(h.sizcache===c){i=d[h.sizset];break}if(h.nodeType===1){f||(h.sizcache=c,h.sizset=e);if(typeof b!="string"){if(h===b){i=!0;break}}else if(j.filter(b,[h]).length>0){i=h;break}}h=h[a]}d[e]=i}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f=0,g=Object.prototype.toString,h=!1,i=!0;[0,0].sort(function(){return i=!1,0});var j=function(a,b,c,d){c=c||[];var f=b=b||t;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;for(var h=[],i,m,o,p,q=!0,v=s(b),w=a;(e.exec(""),i=e.exec(w))!==null;){w=i[3],h.push(i[1]);if(i[2]){p=i[3];break}}if(h.length>1&&l.exec(a))if(h.length===2&&k.relative[h[0]])m=u(h[0]+h[1],b);else for(m=k.relative[h[0]]?[b]:j(h.shift(),b);h.length;)a=h.shift(),k.relative[a]&&(a+=h.shift()),m=u(a,m);else{!d&&h.length>1&&b.nodeType===9&&!v&&k.match.ID.test(h[0])&&!k.match.ID.test(h[h.length-1])&&(i=j.find(h.shift(),b,v),b=i.expr?j.filter(i.expr,i.set)[0]:i.set[0]);if(b){i=d?{expr:h.pop(),set:n(d)}:j.find(h.pop(),h.length!==1||h[0]!=="~"&&h[0]!=="+"||!b.parentNode?b:b.parentNode,v),m=i.expr?j.filter(i.expr,i.set):i.set,h.length>0?o=n(m):q=!1;for(;h.length;){var x=h.pop();i=x,k.relative[x]?i=h.pop():x="",i==null&&(i=b),k.relative[x](o,i,v)}}else o=[]}o||(o=m),o||j.error(x||a);if(g.call(o)==="[object Array]")if(q)if(b&&b.nodeType===1)for(a=0;o[a]!=null;a++)o[a]&&(o[a]===!0||o[a].nodeType===1&&r(b,o[a]))&&c.push(m[a]);else for(a=0;o[a]!=null;a++)o[a]&&o[a].nodeType===1&&c.push(m[a]);else c.push.apply(c,o);else n(o,c);return p&&(j(p,f,c,d),j.uniqueSort(c)),c};j.uniqueSort=function(a){if(p){h=i,a.sort(p);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},j.matches=function(a,b){return j(a,null,null,b)},j.find=function(a,b,c){var d,e;if(!a)return[];for(var f=0,g=k.order.length;f<g;f++){var h=k.order[f];if(e=k.leftMatch[h].exec(a)){var i=e[1];e.splice(1,1);if(i.substr(i.length-1)!=="\\"){e[1]=(e[1]||"").replace(/\\/g,""),d=k.find[h](e,b,c);if(d!=null){a=a.replace(k.match[h],"");break}}}}return d||(d=b.getElementsByTagName("*")),{set:d,expr:a}},j.filter=function(a,c,d,e){for(var f=a,g=[],h=c,i,l,m=c&&c[0]&&s(c[0]);a&&c.length;){for(var n in k.filter)if((i=k.leftMatch[n].exec(a))!=null&&i[2]){var o=k.filter[n],p,q;q=i[1],l=!1,i.splice(1,1);if(q.substr(q.length-1)!=="\\"){h===g&&(g=[]);if(k.preFilter[n])if(i=k.preFilter[n](i,h,d,g,e,m)){if(i===!0)continue}else l=p=!0;if(i)for(var r=0;(q=h[r])!=null;r++)if(q){p=o(q,i,r,h);var t=e^!!p;d&&p!=null?t?l=!0:h[r]=!1:t&&(g.push(q),l=!0)}if(p!==b){d||(h=g),a=a.replace(k.match[n],"");if(!l)return[];break}}}if(a===f){if(l!=null)break;j.error(a)}f=a}return h},j.error=function(a){throw"Syntax error, unrecognized expression: "+a};var k=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!/\W/.test(b);c=c&&!d,d&&(b=b.toLowerCase()),d=0;for(var e=a.length,f;d<e;d++)if(f=a[d]){for(;(f=f.previousSibling)&&f.nodeType!==1;);a[d]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&j.filter(b,a,!0)},">":function(a,b){var c=typeof b=="string";if(c&&!/\W/.test(b)){b=b.toLowerCase();for(var d=0,e=a.length;d<e;d++){var f=a[d];f&&(c=f.parentNode,a[d]=c.nodeName.toLowerCase()===b?c:!1)}}else{d=0;for(e=a.length;d<e;d++)if(f=a[d])a[d]=c?f.parentNode:f.parentNode===b;c&&j.filter(b,a,!0)}},"":function(a,b,e){var g=f++,h=d;if(typeof b=="string"&&!/\W/.test(b)){var i=b=b.toLowerCase();h=c}h("parentNode",b,g,a,i,e)},"~":function(a,b,e){var g=f++,h=d;if(typeof b=="string"&&!/\W/.test(b)){var i=b=b.toLowerCase();h=c}h("previousSibling",b,g,a,i,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[];b=b.getElementsByName(a[1]);for(var d=0,e=b.length;d<e;d++)b[d].getAttribute("name")===a[1]&&c.push(b[d]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f)return a;f=0;for(var g;(g=b[f])!=null;f++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){return b=a[1].replace(/\\/g,""),!f&&k.attrMap[b]&&(a[1]=k.attrMap[b]),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,d,f){if(a[1]==="not"){if(!((e.exec(a[3])||"").length>1||/^\w/.test(a[3])))return a=j.filter(a[3],b,c,!0^f),c||d.push.apply(d,a),!1;a[3]=j(a[3],null,null,b)}else if(k.match.POS.test(a[0])||k.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!j(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(b,c,d,e){var f=c[1],g=k.filters[f];if(g)return g(b,d,c,e);if(f==="contains")return(b.textContent||b.innerText||a([b])||"").indexOf(c[3])>=0;if(f==="not"){c=c[3],d=0;for(e=c.length;d<e;d++)if(c[d]===b)return!1;return!0}j.error("Syntax error, unrecognized expression: "+f)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":for(;d=d.previousSibling;)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":for(;d=d.nextSibling;)if(d.nodeType===1)return!1;return!0;case"nth":c=b[2];var e=b[3];if(c===1&&e===0)return!0;b=b[0];var f=a.parentNode;if(f&&(f.sizcache!==b||!a.nodeIndex)){var g=0;for(d=f.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++g);f.sizcache=b}return a=a.nodeIndex-e,c===0?a===0:a%c===0&&a/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1];a=k.attrHandle[c]?k.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),c=a+"";var d=b[2];return b=b[4],a==null?d==="!=":d==="="?c===b:d==="*="?c.indexOf(b)>=0:d==="~="?(" "+c+" ").indexOf(b)>=0:b?d==="!="?c!==b:d==="^="?c.indexOf(b)===0:d==="$="?c.substr(c.length-b.length)===b:d==="|="?c===b||c.substr(0,b.length+1)===b+"-":!1:c&&a!==!1},POS:function(a,b,c,d){var e=k.setFilters[b[2]];if(e)return e(a,c,b,d)}}},l=k.match.POS;for(var m in k.match)k.match[m]=new RegExp(k.match[m].source+/(?![^\[]*\])(?![^\(]*\))/.source),k.leftMatch[m]=new RegExp(/(^(?:.|\r|\n)*?)/.source+k.match[m].source.replace(/\\(\d+)/g,function(a,b){return"\\"+(b-0+1)}));var n=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(o){n=function(a,b){b=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(b,a);else if(typeof a.length=="number")for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else for(c=0;a[c];c++)b.push(a[c]);return b}}var p;t.documentElement.compareDocumentPosition?p=function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?(a==b&&(h=!0),a.compareDocumentPosition?-1:1):(a=a.compareDocumentPosition(b)&4?-1:a===b?0:1,a===0&&(h=!0),a)}:"sourceIndex"in t.documentElement?p=function(a,b){return!a.sourceIndex||!b.sourceIndex?(a==b&&(h=!0),a.sourceIndex?-1:1):(a=a.sourceIndex-b.sourceIndex,a===0&&(h=!0),a)}:t.createRange&&(p=function(a,b){if(!a.ownerDocument||!b.ownerDocument)return a==b&&(h=!0),a.ownerDocument?-1:1;var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();return c.setStart(a,0),c.setEnd(a,0),d.setStart(b,0),d.setEnd(b,0),a=c.compareBoundaryPoints(Range.START_TO_END,d),a===0&&(h=!0),a}),function(){var a=t.createElement("div"),c="script"+(new Date).getTime();a.innerHTML="<a name='"+c+"'/>";var d=t.documentElement;d.insertBefore(a,d.firstChild),t.getElementById(c)&&(k.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:[]},k.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=t.createElement("div");a.appendChild(t.createComment("")),a.getElementsByTagName("*").length>0&&(k.find.TAG=function(a,b){b=b.getElementsByTagName(a[1]);if(a[1]==="*"){a=[];for(var c=0;b[c];c++)b[c].nodeType===1&&a.push(b[c]);b=a}return b}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(k.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),t.querySelectorAll&&function(){var a=j,b=t.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){j=function(b,c,d,e){c=c||t;if(!e&&c.nodeType===9&&!s(c))try{return n(c.querySelectorAll(b),d)}catch(f){}return a(b,c,d,e)};for(var c in a)j[c]=a[c];b=null}}(),function(){var a=t.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>",!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1&&(k.order.splice(1,0,"CLASS"),k.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null))}();var r=t.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):!0)},s=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":!1},u=function(a,b){var c=[],d="",e;for(b=b.nodeType?[b]:b;e=k.match.PSEUDO.exec(a);)d+=e[0],a=a.replace(k.match.PSEUDO,"");a=k.relative[a]?a+"*":a,e=0;for(var f=b.length;e<f;e++)j(a,b[e],c);return j.filter(d,c)};q.find=j,q.expr=j.selectors,q.expr[":"]=q.expr.filters,q.unique=j.uniqueSort,q.text=a,q.isXMLDoc=s,q.contains=r}();var bc=/Until$/,bd=/^(?:parents|prevUntil|prevAll)/,be=/,/;H=Array.prototype.slice;var bf=function(a,b,c){if(q.isFunction(b))return q.grep(a,function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return q.grep(a,function(a){return a===b===c});if(typeof b=="string"){var d=q.grep(a,function(a){return a.nodeType===1});if(w.test(b))return q.filter(b,d,!c);b=q.filter(b,d)}return q.grep(a,function(a){return q.inArray(a,b)>=0===c})};q.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),c=0,d=0,e=this.length;d<e;d++){c=b.length,q.find(a,this[d],b);if(d>0)for(var f=c;f<b.length;f++)for(var g=0;g<c;g++)if(b[g]===b[f]){b.splice(f--,1);break}}return b},has:function(a){var b=q(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(q.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(bf(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bf(this,a,!0),"filter",a)},is:function(a){return!!a&&q.filter(a,this).length>0},closest:function(a,b){if(q.isArray(a)){var c=[],d=this[0],e,f={},g;if(d&&a.length){e=0;for(var h=a.length;e<h;e++)g=a[e],f[g]||(f[g]=q.expr.match.POS.test(g)?q(g,b||this.context):g);for(;d&&d.ownerDocument&&d!==b;){for(g in f){e=f[g];if(e.jquery?e.index(d)>-1:q(d).is(e))c.push({selector:g,elem:d}),delete f[g]}d=d.parentNode}}return c}var i=q.expr.match.POS.test(a)?q(a,b||this.context):null;return this.map(function(c,d){for(;d&&d.ownerDocument&&d!==b;){if(i?i.index(d)>-1:q(d).is(a))return d;d=d.parentNode}return null})},index:function(a){return!a||typeof a=="string"?q.inArray(this[0],a?q(a):this.parent().children()):q.inArray(a.jquery?a[0]:a,this)},add:function(a,b){return a=typeof a=="string"?q(a,b||this.context):q.makeArray(a),b=q.merge(this.get(),a),this.pushStack(l(a[0])||l(b[0])?b:q.unique(b))},andSelf:function(){return this.add(this.prevObject)}}),q.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return q.dir(a,"parentNode")},parentsUntil:function(a,b,c){return q.dir(a,"parentNode",c)},next:function(a){return q.nth(a,2,"nextSibling")},prev:function(a){return q.nth(a,2,"previousSibling")},nextAll:function(a){return q.dir(a,"nextSibling")},prevAll:function(a){return q.dir(a,"previousSibling")},nextUntil:function(a,b,c){return q.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return q.dir(a,"previousSibling",c)},siblings:function(a){return q.sibling(a.parentNode.firstChild,a)},children:function(a){return q.sibling(a.firstChild)},contents:function(a){return q.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:q.makeArray(a.childNodes)}},function(a,b){q.fn[a]=function(c,d){var e=q.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=q.filter(d,e)),e=this.length>1?q.unique(e):e,(this.length>1||be.test(d))&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,H.call(arguments).join(","))}}),q.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),q.find.matches(a,b)},dir:function(a,c,d){var e=[];for(a=a[c];a&&a.nodeType!==9&&(d===b||a.nodeType!==1||!q(a).is(d));)a.nodeType===1&&e.push(a),a=a[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bg=/ jQuery\d+="(?:\d+|null)"/g,bh=/^\s+/,bi=/(<([\w:]+)[^>]*?)\/>/g,bj=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,bk=/<([\w:]+)/,bl=/<tbody/i,bm=/<|&#?\w+;/,bn=/<script|<object|<embed|<option|<style/i,bo=/checked\s*(?:[^=]|=\s*.checked.)/i,bp=function(a,b,c){return bj.test(c)?a:b+"></"+c+">"},bq={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};bq.optgroup=bq.option,bq.tbody=bq.tfoot=bq.colgroup=bq.caption=bq.thead,bq.th=bq.td,q.support.htmlSerialize||(bq._default=[1,"div<div>","</div>"]),q.fn.extend({text:function(a){return q.isFunction(a)?this.each(function(b){var c=q(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a)):q.text(this)},wrapAll:function(a){if(q.isFunction(a))return this.each(function(b){q(this).wrapAll(a.call(this,b))});if(this[0]){var b=q(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return q.isFunction(a)?this.each(function(b){q(this).wrapInner(a.call(this,b))}):this.each(function(){var b=q(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){q(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){q.nodeName(this,"body")||q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=q(arguments[0]);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,q(arguments[0]).toArray()),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||q.filter(a,[d]).length)!b&&d.nodeType===1&&(q.cleanData(d.getElementsByTagName("*")),q.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&q.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a){var b=this.map(function(){if(!q.support.noCloneEvent&&!q.isXMLDoc(this)){var a=this.outerHTML,b=this.ownerDocument;return a||(a=b.createElement("div"),a.appendChild(this.cloneNode(!0)),a=a.innerHTML),q.clean([a.replace(bg,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(bh,"")],b)[0]}return this.cloneNode(!0)});return a===!0&&(m(this,b),m(this.find("*"),b.find("*"))),b},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bg,""):null;if(typeof a=="string"&&!bn.test(a)&&(q.support.leadingWhitespace||!bh.test(a))&&!bq[(bk.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bi,bp);try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(q.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else q.isFunction(a)?this.each(function(b){var c=q(this),d=c.html();c.empty().append(function(){return a.call(this,b,d)})}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?q.isFunction(a)?this.each(function(b){var c=q(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=q(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;q(this).remove(),b?q(b).before(a):q(c).append(a)})):this.pushStack(q(q.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,e){function f(a){return q.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}var g,h,i=a[0],j=[],k;if(!q.support.checkClone&&arguments.length===3&&typeof i=="string"&&bo.test(i))return this.each(function(){q(this).domManip(a,c,e,!0)});if(q.isFunction(i))return this.each(function(d){var f=q(this);a[0]=i.call(this,d,c?f.html():b),f.domManip(a,c,e)});if(this[0]){g=i&&i.parentNode,g=q.support.parentNode&&g&&g.nodeType===11&&g.childNodes.length===this.length?{fragment:g}:n(a,this,j),k=g.fragment;if(h=k.childNodes.length===1?k=k.firstChild:k.firstChild){c=c&&q.nodeName(h,"tr");for(var l=0,m=this.length;l<m;l++)e.call(c?f(this[l],h):this[l],l>0||g.cacheable||this.length>1?k.cloneNode(!0):k)}j.length&&q.each(j,d)}return this}}),q.fragments={},q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){q.fn[a]=function(c){var d=[];c=q(c);var e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&c.length===1)return c[b](this[0]),this;e=0;for(var f=c.length;e<f;e++){var g=(e>0?this.clone(!0):this).get();q.fn[b].apply(q(c[e]),g),d=d.concat(g)}return this.pushStack(d,a,c.selector)}}),q.extend({clean:function(a,b,c,d){b=b||t,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||t);for(var e=[],f=0,g;(g=a[f])!=null;f++){typeof g=="number"&&(g+="");if(g){if(typeof g=="string"&&!bm.test(g))g=b.createTextNode(g);else if(typeof g=="string"){g=g.replace(bi,bp);var h=(bk.exec(g)||["",""])[1].toLowerCase(),i=bq[h]||bq._default,j=i[0],k=b.createElement("div");for(k.innerHTML=i[1]+g+i[2];j--;)k=k.lastChild;if(!q.support.tbody){j=bl.test(g),h=h==="table"&&!j?k.firstChild&&k.firstChild.childNodes:i[1]==="<table>"&&!j?k.childNodes:[];for(i=h.length-1;i>=0;--i)q.nodeName(h[i],"tbody")&&!h[i].childNodes.length&&h[i].parentNode.removeChild(h[i])}!q.support.leadingWhitespace&&bh.test(g)&&k.insertBefore(b.createTextNode(bh.exec(g)[0]),k.firstChild),g=k.childNodes}g.nodeType?e.push(g):e=q.merge(e,g)}}if(c)for(f=0;e[f];f++)d&&q.nodeName(e[f],"script")&&(!e[f].type||e[f].type.toLowerCase()==="text/javascript")?d.push(e[f].parentNode?e[f].parentNode.removeChild(e[f]):e[f]):(e[f].nodeType===1&&e.splice.apply(e,[f+1,0].concat(q.makeArray(e[f].getElementsByTagName("script")))),c.appendChild(e[f]));return e},cleanData:function(a){for(var b,c,d=q.cache,e=q.event.special,f=q.support.deleteExpando,g=0,h;(h=a[g])!=null;g++)if(c=h[q.expando]){b=d[c];if(b.events)for(var i in b.events)e[i]?q.event.remove(h,i):W(h,i,b.handle);f?delete h[q.expando]:h.removeAttribute&&h.removeAttribute
(q.expando),delete d[c]}}});var br=/z-?index|font-?weight|opacity|zoom|line-?height/i,bs=/alpha\([^)]*\)/,bt=/opacity=([^)]*)/,bu=/float/i,bv=/-([a-z])/ig,bw=/([A-Z])/g,bx=/^-?\d+(?:px)?$/i,by=/^-?\d/,bz={position:"absolute",visibility:"hidden",display:"block"},bA=["Left","Right"],bB=["Top","Bottom"],bC=t.defaultView&&t.defaultView.getComputedStyle,bD=q.support.cssFloat?"cssFloat":"styleFloat",bE=function(a,b){return b.toUpperCase()};q.fn.css=function(a,c){return e(this,a,c,!0,function(a,c,d){if(d===b)return q.curCSS(a,c);typeof d=="number"&&!br.test(c)&&(d+="px"),q.style(a,c,d)})},q.extend({style:function(a,c,d){if(!a||a.nodeType===3||a.nodeType===8)return b;(c==="width"||c==="height")&&parseFloat(d)<0&&(d=b);var e=a.style||a,f=d!==b;return!q.support.opacity&&c==="opacity"?(f&&(e.zoom=1,c=parseInt(d,10)+""=="NaN"?"":"alpha(opacity="+d*100+")",a=e.filter||q.curCSS(a,"filter")||"",e.filter=bs.test(a)?a.replace(bs,c):c),e.filter&&e.filter.indexOf("opacity=")>=0?parseFloat(bt.exec(e.filter)[1])/100+"":""):(bu.test(c)&&(c=bD),c=c.replace(bv,bE),f&&(e[c]=d),e[c])},css:function(a,b,c,d){if(b==="width"||b==="height"){var e,f=b==="width"?bA:bB;function g(){e=b==="width"?a.offsetWidth:a.offsetHeight,d!=="border"&&q.each(f,function(){d||(e-=parseFloat(q.curCSS(a,"padding"+this,!0))||0),d==="margin"?e+=parseFloat(q.curCSS(a,"margin"+this,!0))||0:e-=parseFloat(q.curCSS(a,"border"+this+"Width",!0))||0})}return a.offsetWidth!==0?g():q.swap(a,bz,g),Math.max(0,Math.round(e))}return q.curCSS(a,b,c)},curCSS:function(a,b,c){var d,e=a.style;if(!q.support.opacity&&b==="opacity"&&a.currentStyle)return d=bt.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"",d===""?"1":d;bu.test(b)&&(b=bD);if(!c&&e&&e[b])d=e[b];else if(bC){bu.test(b)&&(b="float"),b=b.replace(bw,"-$1").toLowerCase(),e=a.ownerDocument.defaultView;if(!e)return null;if(a=e.getComputedStyle(a,null))d=a.getPropertyValue(b);b==="opacity"&&d===""&&(d="1")}else if(a.currentStyle){c=b.replace(bv,bE),d=a.currentStyle[b]||a.currentStyle[c];if(!bx.test(d)&&by.test(d)){b=e.left;var f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left,e.left=c==="fontSize"?"1em":d||0,d=e.pixelLeft+"px",e.left=b,a.runtimeStyle.left=f}}return d},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),q.expr&&q.expr.filters&&(q.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=a.nodeName.toLowerCase()==="tr";return b===0&&c===0&&!d?!0:b>0&&c>0&&!d?!1:q.curCSS(a,"display")==="none"},q.expr.filters.visible=function(a){return!q.expr.filters.hidden(a)});var bF=f(),bG=/<script(.|\s)*?\/script>/gi,bH=/select|textarea/i,bI=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,bJ=/=\?(&|$)/,bK=/\?/,bL=/(\?|&)_=.*?(&|$)/,bM=/^(\w+:)?\/\/([^\/?#]+)/,bN=/%20/g,bO=q.fn.load;q.fn.extend({load:function(a,b,c){if(typeof a!="string")return bO.call(this,a);if(!this.length)return this;var d=a.indexOf(" ");if(d>=0){var e=a.slice(d,a.length);a=a.slice(0,d)}d="GET",b&&(q.isFunction(b)?(c=b,b=null):typeof b=="object"&&(b=q.param(b,q.ajaxSettings.traditional),d="POST"));var f=this;return q.ajax({url:a,type:d,dataType:"html",data:b,complete:function(a,b){(b==="success"||b==="notmodified")&&f.html(e?q("<div />").append(a.responseText.replace(bG,"")).find(e):a.responseText),c&&f.each(c,[a.responseText,b,a])}}),this},serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bH.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){return a=q(this).val(),a==null?null:q.isArray(a)?q.map(a,function(a){return{name:b.name,value:a}}):{name:b.name,value:a}}).get()}}),q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){q.fn[b]=function(a){return this.bind(b,a)}}),q.extend({get:function(a,b,c,d){return q.isFunction(b)&&(d=d||c,c=b,b=null),q.ajax({type:"GET",url:a,data:b,success:c,dataType:d})},getScript:function(a,b){return q.get(a,null,b,"script")},getJSON:function(a,b,c){return q.get(a,b,c,"json")},post:function(a,b,c,d){return q.isFunction(b)&&(d=d||c,c=b,b={}),q.ajax({type:"POST",url:a,data:b,success:c,dataType:d})},ajaxSetup:function(a){q.extend(q.ajaxSettings,a)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:a.XMLHttpRequest&&(a.location.protocol!=="file:"||!a.ActiveXObject)?function(){return new a.XMLHttpRequest}:function(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(c){function d(){h.success&&h.success.call(l,k,j,v),h.global&&g("ajaxSuccess",[v,h])}function e(){h.complete&&h.complete.call(l,v,j),h.global&&g("ajaxComplete",[v,h]),h.global&&!--q.active&&q.event.trigger("ajaxStop")}function g(a,b){(h.context?q(h.context):q.event).trigger(a,b)}var h=q.extend(!0,{},q.ajaxSettings,c),i,j,k,l=c&&c.context||h,m=h.type.toUpperCase();h.data&&h.processData&&typeof h.data!="string"&&(h.data=q.param(h.data,h.traditional));if(h.dataType==="jsonp"){if(m==="GET")bJ.test(h.url)||(h.url+=(bK.test(h.url)?"&":"?")+(h.jsonp||"callback")+"=?");else if(!h.data||!bJ.test(h.data))h.data=(h.data?h.data+"&":"")+(h.jsonp||"callback")+"=?";h.dataType="json"}h.dataType==="json"&&(h.data&&bJ.test(h.data)||bJ.test(h.url))&&(i=h.jsonpCallback||"jsonp"+bF++,h.data&&(h.data=(h.data+"").replace(bJ,"="+i+"$1")),h.url=h.url.replace(bJ,"="+i+"$1"),h.dataType="script",a[i]=a[i]||function(c){k=c,d(),e(),a[i]=b;try{delete a[i]}catch(f){}p&&p.removeChild(r)}),h.dataType==="script"&&h.cache===null&&(h.cache=!1);if(h.cache===!1&&m==="GET"){var n=f(),o=h.url.replace(bL,"$1_="+n+"$2");h.url=o+(o===h.url?(bK.test(h.url)?"&":"?")+"_="+n:"")}h.data&&m==="GET"&&(h.url+=(bK.test(h.url)?"&":"?")+h.data),h.global&&!(q.active++)&&q.event.trigger("ajaxStart"),n=(n=bM.exec(h.url))&&(n[1]&&n[1]!==location.protocol||n[2]!==location.host);if(h.dataType==="script"&&m==="GET"&&n){var p=t.getElementsByTagName("head")[0]||t.documentElement,r=t.createElement("script");r.src=h.url,h.scriptCharset&&(r.charset=h.scriptCharset);if(!i){var s=!1;r.onload=r.onreadystatechange=function(){!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(s=!0,d(),e(),r.onload=r.onreadystatechange=null,p&&r.parentNode&&p.removeChild(r))}}return p.insertBefore(r,p.firstChild),b}var u=!1,v=h.xhr();if(v){h.username?v.open(m,h.url,h.async,h.username,h.password):v.open(m,h.url,h.async);try{(h.data||c&&c.contentType)&&v.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(q.lastModified[h.url]&&v.setRequestHeader("If-Modified-Since",q.lastModified[h.url]),q.etag[h.url]&&v.setRequestHeader("If-None-Match",q.etag[h.url])),n||v.setRequestHeader("X-Requested-With","XMLHttpRequest"),v.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*":h.accepts._default)}catch(w){}if(h.beforeSend&&h.beforeSend.call(l,v,h)===!1)return h.global&&!--q.active&&q.event.trigger("ajaxStop"),v.abort(),!1;h.global&&g("ajaxSend",[v,h]);var x=v.onreadystatechange=function(a){if(!v||v.readyState===0||a==="abort")u||e(),u=!0,v&&(v.onreadystatechange=q.noop);else if(!u&&v&&(v.readyState===4||a==="timeout")){u=!0,v.onreadystatechange=q.noop,j=a==="timeout"?"timeout":q.httpSuccess(v)?h.ifModified&&q.httpNotModified(v,h.url)?"notmodified":"success":"error";var b;if(j==="success")try{k=q.httpData(v,h.dataType,h)}catch(c){j="parsererror",b=c}j==="success"||j==="notmodified"?i||d():q.handleError(h,v,j,b),e(),a==="timeout"&&v.abort(),h.async&&(v=null)}};try{var y=v.abort;v.abort=function(){v&&y.call(v),x("abort")}}catch(z){}h.async&&h.timeout>0&&setTimeout(function(){v&&!u&&x("timeout")},h.timeout);try{v.send(m==="POST"||m==="PUT"||m==="DELETE"?h.data:null)}catch(A){q.handleError(h,v,null,A),e()}return h.async||x(),v}},handleError:function(a,b,c,d){a.error&&a.error.call(a.context||a,b,c,d),a.global&&(a.context?q(a.context):q.event).trigger("ajaxError",[b,a,d])},active:0,httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223||a.status===0}catch(b){}return!1},httpNotModified:function(a,b){var c=a.getResponseHeader("Last-Modified"),d=a.getResponseHeader("Etag");return c&&(q.lastModified[b]=c),d&&(q.etag[b]=d),a.status===304||a.status===0},httpData:function(a,b,c){var d=a.getResponseHeader("content-type")||"",e=b==="xml"||!b&&d.indexOf("xml")>=0;return a=e?a.responseXML:a.responseText,e&&a.documentElement.nodeName==="parsererror"&&q.error("parsererror"),c&&c.dataFilter&&(a=c.dataFilter(a,b)),typeof a=="string"&&(b==="json"||!b&&d.indexOf("json")>=0?a=q.parseJSON(a):(b==="script"||!b&&d.indexOf("javascript")>=0)&&q.globalEval(a)),a},param:function(a,c){function d(a,b){q.isArray(b)?q.each(b,function(b,f){c||/\[\]$/.test(a)?e(a,f):d(a+"["+(typeof f=="object"||q.isArray(f)?b:"")+"]",f)}):!c&&b!=null&&typeof b=="object"?q.each(b,function(b,c){d(a+"["+b+"]",c)}):e(a,b)}function e(a,b){b=q.isFunction(b)?b():b,f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}var f=[];c===b&&(c=q.ajaxSettings.traditional);if(q.isArray(a)||a.jquery)q.each(a,function(){e(this.name,this.value)});else for(var g in a)d(g,a[g]);return f.join("&").replace(bN,"+")}});var bP={},bQ=/toggle|show|hide/,bR=/^([+-]=)?([\d+-.]+)(.*)$/,bS,bT=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];q.fn.extend({show:function(a,b){if(a||a===0)return this.animate(o("show",3),a,b);a=0;for(b=this.length;a<b;a++){var c=q.data(this[a],"olddisplay");this[a].style.display=c||"";if(q.css(this[a],"display")==="none"){c=this[a].nodeName;var d;if(bP[c])d=bP[c];else{var e=q("<"+c+" />").appendTo("body");d=e.css("display"),d==="none"&&(d="block"),e.remove(),bP[c]=d}q.data(this[a],"olddisplay",d)}}a=0;for(b=this.length;a<b;a++)this[a].style.display=q.data(this[a],"olddisplay")||"";return this},hide:function(a,b){if(a||a===0)return this.animate(o("hide",3),a,b);a=0;for(b=this.length;a<b;a++){var c=q.data(this[a],"olddisplay");!c&&c!=="none"&&q.data(this[a],"olddisplay",q.css(this[a],"display"))}a=0;for(b=this.length;a<b;a++)this[a].style.display="none";return this},_toggle:q.fn.toggle,toggle:function(a,b){var c=typeof a=="boolean";return q.isFunction(a)&&q.isFunction(b)?this._toggle.apply(this,arguments):a==null||c?this.each(function(){var b=c?a:q(this).is(":hidden");q(this)[b?"show":"hide"]()}):this.animate(o("toggle",3),a,b),this},fadeTo:function(a,b,c){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c)},animate:function(a,b,c,d){var e=q.speed(b,c,d);return q.isEmptyObject(a)?this.each(e.complete):this[e.queue===!1?"each":"queue"](function(){var b=q.extend({},e),c,d=this.nodeType===1&&q(this).is(":hidden"),f=this;for(c in a){var g=c.replace(bv,bE);c!==g&&(a[g]=a[c],delete a[c],c=g);if(a[c]==="hide"&&d||a[c]==="show"&&!d)return b.complete.call(this);(c==="height"||c==="width")&&this.style&&(b.display=q.css(this,"display"),b.overflow=this.style.overflow),q.isArray(a[c])&&((b.specialEasing=b.specialEasing||{})[c]=a[c][1],a[c]=a[c][0])}return b.overflow!=null&&(this.style.overflow="hidden"),b.curAnim=q.extend({},a),q.each(a,function(c,e){var g=new q.fx(f,b,c);if(bQ.test(e))g[e==="toggle"?d?"show":"hide":e](a);else{var h=bR.exec(e),i=g.cur(!0)||0;if(h){e=parseFloat(h[2]);var j=h[3]||"px";j!=="px"&&(f.style[c]=(e||1)+j,i=(e||1)/g.cur(!0)*i,f.style[c]=i+j),h[1]&&(e=(h[1]==="-="?-1:1)*e+i),g.custom(i,e,j)}else g.custom(i,e,"")}}),!0})},stop:function(a,b){var c=q.timers;return a&&this.queue([]),this.each(function(){for(var a=c.length-1;a>=0;a--)c[a].elem===this&&(b&&c[a](!0),c.splice(a,1))}),b||this.dequeue(),this}}),q.each({slideDown:o("show",1),slideUp:o("hide",1),slideToggle:o("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(a,b){q.fn[a]=function(a,c){return this.animate(b,a,c)}}),q.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?a:{complete:c||!c&&b||q.isFunction(a)&&a,duration:a,easing:c&&b||b&&!q.isFunction(b)&&b};return d.duration=q.fx.off?0:typeof d.duration=="number"?d.duration:q.fx.speeds[d.duration]||q.fx.speeds._default,d.old=d.complete,d.complete=function(){d.queue!==!1&&q(this).dequeue(),q.isFunction(d.old)&&d.old.call(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig||(b.orig={})}}),q.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(q.fx.step[this.prop]||q.fx.step._default)(this),(this.prop==="height"||this.prop==="width")&&this.elem.style&&(this.elem.style.display="block")},cur:function(a){return this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null?(a=parseFloat(q.css(this.elem,this.prop,a)))&&a>-1e4?a:parseFloat(q.curCSS(this.elem,this.prop))||0:this.elem[this.prop]},custom:function(a,b,c){function d(a){return e.step(a)}this.startTime=f(),this.start=a,this.end=b,this.unit=c||this.unit||"px",this.now=this.start,this.pos=this.state=0;var e=this;d.elem=this.elem,d()&&q.timers.push(d)&&!bS&&(bS=setInterval(q.fx.tick,13))},show:function(){this.options.orig[this.prop]=q.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),q(this.elem).show()},hide:function(){this.options.orig[this.prop]=q.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=f(),c=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var d in this.options.curAnim)this.options.curAnim[d]!==!0&&(c=!1);if(c){this.options.display!=null&&(this.elem.style.overflow=this.options.overflow,a=q.data(this.elem,"olddisplay"),this.elem.style.display=a?a:this.options.display,q.css(this.elem,"display")==="none"&&(this.elem.style.display="block")),this.options.hide&&q(this.elem).hide();if(this.options.hide||this.options.show)for(var e in this.options.curAnim)q.style(this.elem,e,this.options.orig[e]);this.options.complete.call(this.elem)}return!1}return e=b-this.startTime,this.state=e/this.options.duration,a=this.options.easing||(q.easing.swing?"swing":"linear"),this.pos=q.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||a](this.state,e,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},q.extend(q.fx,{tick:function(){for(var a=q.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||q.fx.stop()},stop:function(){clearInterval(bS),bS=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){q.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),q.expr&&q.expr.filters&&(q.expr.filters.animated=function(a){return q.grep(q.timers,function(b){return a===b.elem}).length}),q.fn.offset="getBoundingClientRect"in t.documentElement?function(a){var b=this[0];if(a)return this.each(function(b){q.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return q.offset.bodyOffset(b);var c=b.getBoundingClientRect(),d=b.ownerDocument;return b=d.body,d=d.documentElement,{top:c.top+(self.pageYOffset||q.support.boxModel&&d.scrollTop||b.scrollTop)-(d.clientTop||b.clientTop||0),left:c.left+(self.pageXOffset||q.support.boxModel&&d.scrollLeft||b.scrollLeft)-(d.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){q.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return q.offset.bodyOffset(b);q.offset.initialize();var c=b.offsetParent,d=b,e=b.ownerDocument,f,g=e.documentElement,h=e.body;d=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;for(var i=b.offsetTop,j=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g;){if(q.offset.supportsFixedPosition&&d.position==="fixed")break;f=e?e.getComputedStyle(b,null):b.currentStyle,i-=b.scrollTop,j-=b.scrollLeft,b===c&&(i+=b.offsetTop,j+=b.offsetLeft,q.offset.doesNotAddBorder&&(!q.offset.doesAddBorderForTableAndCells||!/^t(able|d|h)$/i.test(b.nodeName))&&(i+=parseFloat(f.borderTopWidth)||0,j+=parseFloat(f.borderLeftWidth)||0),d=c,c=b.offsetParent),q.offset.subtractsBorderForOverflowNotVisible&&f.overflow!=="visible"&&(i+=parseFloat(f.borderTopWidth)||0,j+=parseFloat(f.borderLeftWidth)||0),d=f}if(d.position==="relative"||d.position==="static")i+=h.offsetTop,j+=h.offsetLeft;return q.offset.supportsFixedPosition&&d.position==="fixed"&&(i+=Math.max(g.scrollTop,h.scrollTop),j+=Math.max(g.scrollLeft,h.scrollLeft)),{top:i,left:j}},q.offset={initialize:function(){var a=t.body,b=t.createElement("div"),c,d,e,f=parseFloat(q.curCSS(a,"marginTop",!0))||0;q.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a.insertBefore(b,a.firstChild),c=b.firstChild,d=c.firstChild,e=c.nextSibling.firstChild.firstChild,this.doesNotAddBorder=d.offsetTop!==5,this.doesAddBorderForTableAndCells=e.offsetTop===5,d.style.position="fixed",d.style.top="20px",this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==f,a.removeChild(b),q.offset.initialize=q.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return q.offset.initialize(),q.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(q.curCSS(a,"marginTop",!0))||0,c+=parseFloat(q.curCSS(a,"marginLeft",!0))||0),{top:b,left:c}},setOffset:function(a,b,c){/static/.test(q.curCSS(a,"position"))&&(a.style.position="relative");var d=q(a),e=d.offset(),f=parseInt(q.curCSS(a,"top",!0),10)||0,g=parseInt(q.curCSS(a,"left",!0),10)||0;q.isFunction(b)&&(b=b.call(a,c,e)),c={top:b.top-e.top+f,left:b.left-e.left+g},"using"in b?b.using.call(a,c):d.css(c)}},q.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=/^body|html$/i.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(q.curCSS(a,"marginTop",!0))||0,c.left-=parseFloat(q.curCSS(a,"marginLeft",!0))||0,d.top+=parseFloat(q.curCSS(b[0],"borderTopWidth",!0))||0,d.left+=parseFloat(q.curCSS(b[0],"borderLeftWidth",!0))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!/^body|html$/i.test(a.nodeName)&&q.css(a,"position")==="static";)a=a.offsetParent;return a})}}),q.each(["Left","Top"],function(a,c){var d="scroll"+c;q.fn[d]=function(c){var e=this[0],f;return e?c!==b?this.each(function(){(f=p(this))?f.scrollTo(a?q(f).scrollLeft():c,a?c:q(f).scrollTop()):this[d]=c}):(f=p(e))?"pageXOffset"in f?f[a?"pageYOffset":"pageXOffset"]:q.support.boxModel&&f.document.documentElement[d]||f.document.body[d]:e[d]:null}}),q.each(["Height","Width"],function(a,c){var d=c.toLowerCase();q.fn["inner"+c]=function(){return this[0]?q.css(this[0],d,!1,"padding"):null},q.fn["outer"+c]=function(a){return this[0]?q.css(this[0],d,!1,a?"margin":"border"):null},q.fn[d]=function(a){var e=this[0];return e?q.isFunction(a)?this.each(function(b){var c=q(this);c[d](a.call(this,b,c[d]()))}):"scrollTo"in e&&e.document?e.document.compatMode==="CSS1Compat"&&e.document.documentElement["client"+c]||e.document.body["client"+c]:e.nodeType===9?Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]):a===b?q.css(e,d):this.css(d,typeof a=="string"?a:a+"px"):a==null?null:this}}),a.jQuery=a.$=q}(window),function(){function a(a,b){if(b)for(key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a}function b(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function c(b,c,f){if(i.isSupported(c.version))b.innerHTML=i.getHTML(c,f);else if(c.expressInstall&&i.isSupported([6,65]))b.innerHTML=i.getHTML(a(c,{src:c.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{b.innerHTML.replace(/\s/g,"")||(b.innerHTML="<h2>Flash version "+c.version+" or greater is required</h2><h3>"+(j[0]>0?"Your version is "+j:"You have no flash plugin installed")+"</h3>"+(b.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+e+"'>here</a></p>"),b.tagName=="A"&&(b.onclick=function(){location.href=e}));if(c.onFail){var g=c.onFail.call(this);typeof g=="string"&&(b.innerHTML=g)}}d&&(window[c.id]=document.getElementById(c.id)),a(this,{getRoot:function(){return b},getOptions:function(){return c},getConf:function(){return f},getApi:function(){return b.firstChild}})}var d=document.all,e="http://www.adobe.com/go/getflashplayer",f=typeof jQuery=="function",g=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,h={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(b,d,e){typeof b=="string"&&(b=document.getElementById(b.replace("#","")));if(b)return typeof d=="string"&&(d={src:d}),new c(b,a(a({},h),d),e)};var i=a(window.flashembed,{conf:h,getVersion:function(){var a;try{a=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(b){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=c&&c.GetVariable("$version")}catch(d){}}return(a=g.exec(a))?[a[1],a[3]]:[0,0]},asString:function(a){if(a===null||a===undefined)return null;var c=typeof a;c=="object"&&a.push&&(c="array");switch(c){case"string":return a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1"),a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct"),'"'+a+'"';case"array":return"["+b(a,function(a){return i.asString(a)}).join(",")+"]";case"function":return'"function()"';case"object":c=[];for(var d in a)a.hasOwnProperty(d)&&c.push('"'+d+'":'+i.asString(a[d]));return"{"+c.join(",")+"}"}return String(a).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(b,c){b=a({},b);var e='<object width="'+b.width+'" height="'+b.height+'" id="'+b.id+'" name="'+b.id+'"';b.cachebusting&&(b.src+=(b.src.indexOf("?")!=-1?"&":"?")+Math.random()),e+=b.w3c||!d?' data="'+b.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',e+=">";if(b.w3c||d)e+='<param name="movie" value="'+b.src+'" />';b.width=b.height=b.id=b.w3c=b.src=null,b.onFail=b.version=b.expressInstall=null;for(var f in b)b[f]&&(e+='<param name="'+f+'" value="'+b[f]+'" />');b="";if(c){for(var g in c)c[g]&&(f=c[g],b+=g+"="+(/function|object/.test(typeof f)?i.asString(f):f)+"&");b=b.slice(0,-1),e+='<param name="flashvars" value=\''+b+"' />"}return e+="</object>",e},isSupported:function(a){return j[0]>a[0]||j[0]==a[0]&&j[1]>=a[1]}}),j=i.getVersion();f&&(jQuery.tools=jQuery.tools||{version:"1.2.3"},jQuery.tools.flashembed={conf:h},jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,a,b))})})}(),function(a){function b(a){if(a){var b=d.contentWindow.document;b.open().close(),b.location.hash=a}}var c,d,e,f;a.tools=a.tools||{version:"1.2.3"},a.tools.history={init:function(j){f||(a.browser.msie&&a.browser.version<"8"?d||(d=a("<iframe/>").attr("src","javascript:false;").hide().get(0),a("body").append(d),setInterval(function(){var b=d.contentWindow.document;b=b.location.hash,c!==b&&a.event.trigger("hash",b)},100),b(location.hash||"#")):setInterval(function(){var b=location.hash;b!==c&&a.event.trigger("hash",b)},100),e=e?e.add(j):j,j.click(function(c){var e=a(this).attr("href");d&&b(e);if(e.slice(0,1)!="#")return location.href="#"+e,c.preventDefault()}),f=!0)}},a(window).bind("hash",function(b,d){d?e.filter(function(){var b=a(this).attr("href");return b==d||b==d.replace("#","")}).trigger("history",[d]):e.eq(0).trigger("history",[d]),c=d,window.location.hash=c}),a.fn.history=function(b){return a.tools.history.init(this),this.bind("history",b)}}(jQuery),function(a){function b(){if(a.browser.msie){var b=a(document).height(),c=a(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b-c<20?c:b]}return[a(document).width(),a(document).height()]}function c(b){if(b)return b.call(a.mask)}a.tools=a.tools||{version:"1.2.3"};var d;d=a.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var e,f,g,h,i;a.mask={load:function(m,n){if(g)return this;typeof m=="string"&&(m={color:m}),m=m||h,h=m=a.extend(a.extend({},d.conf),m),e=a("#"+m.maskId),e.length||(e=a("<div/>").attr("id",m.maskId),a("body").append(e));var o=b();return e.css({position:"absolute",top:0,left:0,width:o[0],height:o[1],display:"none",opacity:m.startOpacity,zIndex:m.zIndex}),m.color&&e.css("backgroundColor",m.color),c(m.onBeforeLoad)===!1?this:(m.closeOnEsc&&a(document).bind("keydown.mask",function(b){b.keyCode==27&&a.mask.close(b)}),m.closeOnClick&&e.bind("click.mask",function(b){a.mask.close(b)}),a(window).bind("resize.mask",function(){a.mask.fit()}),n&&n.length&&(i=n.eq(0).css("zIndex"),a.each(n,function(){var b=a(this);/relative|absolute|fixed/i.test(b.css("position"))||b.css("position","relative")}),f=n.css({zIndex:Math.max(m.zIndex+1,i=="auto"?0:i)})),e.css({display:"block"}).fadeTo(m.loadSpeed,m.opacity,function(){a.mask.fit(),c(m.onLoad)}),g=!0,this)},close:function(){if(g){if(c(h.onBeforeClose)===!1)return this;e.fadeOut(h.closeSpeed,function(){c(h.onClose),f&&f.css({zIndex:i})}),a(document).unbind("keydown.mask"),e.unbind("click.mask"),a(window).unbind("resize.mask"),g=!1}return this},fit:function(){if(g){var a=b();e.css({width:a[0],height:a[1]})}},getMask:function(){return e},isLoaded:function(){return g},getConf:function(){return h},getExposed:function(){return f}},a.fn.mask=function(b){return a.mask.load(b),this},a.fn.expose=function(b){return a.mask.load(b,this),this}}(jQuery),function(a){function b(b){switch(b.type){case"mousemove":return a.extend(b.data,{clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY});case"DOMMouseScroll":a.extend(b,b.data),b.delta=-b.detail/3;break;case"mousewheel":b.delta=b.wheelDelta/120}return b.type="wheel",a.event.handle.call(this,b,b.delta)}a.fn.mousewheel=function(a){return this[a?"bind":"trigger"]("wheel",a)},a.event.special.wheel={setup:function(){a.event.add(this,c,b,{})},teardown:function(){a.event.remove(this,c,b)}};var c=a.browser.mozilla?"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":""):"mousewheel"}(jQuery),function(a){function b(b,d,e){var f=this,g=b.add(this),h=b.find(e.tabs),i=d.jquery?d:b.children(d),j;h.length||(h=b.children()),i.length||(i=b.parent().find(d)),i.length||(i=a(d)),a.extend(this,{click:function(b,d){var i=h.eq(b);typeof b=="string"&&b.replace("#","")&&(i=h.filter("[href*="+b.replace("#","")+"]"),b=Math.max(h.index(i),0));if(e.rotate){var k=h.length-1;if(b<0)return f.click(k,d);if(b>k)return f.click(0,d)}if(!i.length){if(j>=0)return f;b=e.initialIndex,i=h.eq(b)}if(b===j)return f;d=d||a.Event(),d.type="onBeforeClick",g.trigger(d,[b]);if(!d.isDefaultPrevented())return c[e.effect].call(f,b,function(){d.type="onClick",g.trigger(d,[b])}),j=b,h.removeClass(e.current),i.addClass(e.current),f},getConf:function(){return e},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return f.click(j+1)},prev:function(){return f.click(j-1)},destroy:function(){return h.unbind(e.event).removeClass(e.current),i.find("a[href^=#]").unbind("click.T"),f}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){return a(f).bind(c,b),f}}),e.history&&a.fn.history&&(a.tools.history.init(h),e.event="history"),h.each(function(b){a(this).bind(e.event,function(a){return f.click(b,a),a.preventDefault()})}),i.find("a[href^=#]").bind("click.T",function(b){f.click(a(this).attr("href"),b)}),location.hash?f.click(location.hash):(e.initialIndex===0||e.initialIndex>0)&&f.click(e.initialIndex)}a.tools=a.tools||{version:"1.2.3"},a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(a,b){c[a]=b}};var c={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call()},fade:function(a,b){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide(),e.eq(a).fadeIn(c.fadeInSpeed,b)},slide:function(a,b){this.getPanes().slideUp(200),this.getPanes().eq(a).slideDown(400,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},d;a.tools.tabs.addEffect("horizontal",function(b,c){d||(d=this.getPanes().eq(0).width()),this.getCurrentPane().animate({width:0},function(){a(this).hide()}),this.getPanes().eq(b).animate({width:d},function(){a(this).show(),c.call()})}),a.fn.tabs=function(c,d){var e=this.data("tabs");return e&&(e.destroy(),this.removeData("tabs")),a.isFunction(d)&&(d={onBeforeClick:d}),d=a.extend({},a.tools.tabs.conf,d),this.each(function(){e=new b(a(this),c,d),a(this).data("tabs",e)}),d.api?e:this}}(jQuery),function(a){function b(b,c){function e(c){var e=a(c);return e.length<2?e:b.parent().find(c)}var f=this,g=b.add(this),h=b.data("tabs"),i,j,k,l=!1,m=e(c.next).click(function(){h.next()}),n=e(c.prev).click(function(){h.prev()});a.extend(f,{getTabs:function(){return h},getConf:function(){return c},play:function(){if(!i){var b=a.Event("onBeforePlay");g.trigger(b);if(b.isDefaultPrevented())return f;l=!1,i=setInterval(h.next,c.interval),g.trigger("onPlay"),h.next()}},pause:function(){if(!i)return f;var b=a.Event("onBeforePause");g.trigger(b);if(b.isDefaultPrevented())return f;i=clearInterval(i),k=clearInterval(k),g.trigger("onPause")},stop:function(){f.pause(),l=!0}}),a.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(b,e){a.isFunction(c[e])&&f.bind(e,c[e]),f[e]=function(a){return f.bind(e,a)}});if(c.autopause){var o=h.getTabs().add(m).add(n).add(h.getPanes());o.hover(function(){f.pause(),j=clearInterval(j)},function(){l||(j=setTimeout(f.play,c.interval))})}c.autoplay?k=setTimeout(f.play,c.interval):f.stop(),c.clickable&&h.getPanes().click(function(){h.next()});if(!h.getConf().rotate){var p=c.disabledClass;h.getIndex()||n.addClass(p),h.onBeforeClick(function(a,b){b?(n.removeClass(p),b==h.getTabs().length-1?m.addClass(p):m.removeClass(p)):n.addClass(p)})}}var c;c=a.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3e3,clickable:!0,api:!1}},a.fn.slideshow=function(e){var f=this.data("slideshow");return f?f:(e=a.extend({},c.conf,e),this.each(function(){f=new b(a(this),e),a(this).data("slideshow",f)}),e.api?f:this)}}(jQuery),function(a){function b(a,b,c){var d=c.relative?a.position().top:a.offset().top,e=c.relative?a.position().left:a.offset().left,f=c.position[0];d-=b.outerHeight()-c.offset[0],e+=a.outerWidth()+c.offset[1];var g=b.outerHeight()+a.outerHeight();return f=="center"&&(d+=g/2),f=="bottom"&&(d+=g),f=c.position[1],a=b.outerWidth()+a.outerWidth(),f=="center"&&(e-=a/2),f=="left"&&(e-=a),{top:d,left:e}}function c(c,e){var g=this,h=c.add(g),i,j=0,k=0,l=c.attr("title"),m=d[e.effect],o,q=c.is(":input"),r=q&&c.is(":checkbox, :radio, select, :button, :submit"),s=c.attr("type"),t=e.events[s]||e.events[q?r?"widget":"input":"def"];if(!m)throw'Nonexistent effect "'+e.effect+'"';t=t.split(/,\s*/);if(t.length!=2)throw"Tooltip: bad events configuration for "+s;c.bind(t[0],function(a){clearTimeout(j),e.predelay?k=setTimeout(function(){g.show(a)},e.predelay):g.show(a)}).bind(t
[1],function(a){clearTimeout(k),e.delay?j=setTimeout(function(){g.hide(a)},e.delay):g.hide(a)}),l&&e.cancelDefault&&(c.removeAttr("title"),c.data("title",l)),a.extend(g,{show:function(d){if(!i){l?i=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(l):e.tip?i=a(e.tip).eq(0):(i=c.next(),i.length||(i=c.parent().next()));if(!i.length)throw"Cannot find tooltip for "+c}if(g.isShown())return g;i.stop(!0,!0);var n=b(c,i,e);return d=d||a.Event(),d.type="onBeforeShow",h.trigger(d,[n]),d.isDefaultPrevented()?g:(n=b(c,i,e),i.css({position:"absolute",top:n.top,left:n.left}),o=!0,m[0].call(g,function(){d.type="onShow",o="full",h.trigger(d)}),n=e.events.tooltip.split(/,\s*/),i.bind(n[0],function(){clearTimeout(j),clearTimeout(k)}),n[1]&&!c.is("input:not(:checkbox, :radio), textarea")&&i.bind(n[1],function(a){a.relatedTarget!=c[0]&&c.trigger(t[1].split(" ")[0])}),g)},hide:function(b){if(!i||!g.isShown())return g;b=b||a.Event(),b.type="onBeforeHide",h.trigger(b);if(!b.isDefaultPrevented())return o=!1,d[e.effect][1].call(g,function(){b.type="onHide",o=!1,h.trigger(b)}),g},isShown:function(a){return a?o=="full":o},getConf:function(){return e},getTip:function(){return i},getTrigger:function(){return c}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(g).bind(c,e[c]),g[c]=function(b){return a(g).bind(c,b),g}})}a.tools=a.tools||{version:"1.2.3"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){d[a]=[b,c]}};var d={toggle:[function(a){var b=this.getConf(),c=this.getTip();b=b.opacity,b<1&&c.css({opacity:b}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(a){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a)},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a)}]};a.fn.tooltip=function(b){var d=this.data("tooltip");return d?d:(b=a.extend(!0,{},a.tools.tooltip.conf,b),typeof b.position=="string"&&(b.position=b.position.split(/,?\s/)),this.each(function(){d=new c(a(this),b),a(this).data("tooltip",d)}),b.api?d:this)}}(jQuery),function(a){var b=a.tools.tooltip;a.extend(b.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!a.browser.msie});var c={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};b.addEffect("slide",function(a){var b=this.getConf(),d=this.getTip(),f=b.slideFade?{opacity:b.opacity}:{},g=c[b.direction]||c.up;f[g[1]]=g[0]+"="+b.slideOffset,b.slideFade&&d.css({opacity:0}),d.show().animate(f,b.slideInSpeed,a)},function(b){var f=this.getConf(),g=f.slideOffset,h=f.slideFade?{opacity:0}:{},i=c[f.direction]||c.up,j=""+i[0];f.bounce&&(j=j=="+"?"-":"+"),h[i[1]]=j+"="+g,this.getTip().animate(h,f.slideOutSpeed,function(){a(this).hide(),b.call()})})}(jQuery),function(a){function b(b){var c=a(window),d=c.width()+c.scrollLeft(),e=c.height()+c.scrollTop();return[b.offset().top<=c.scrollTop(),d<=b.offset().left+b.width(),e<=b.offset().top+b.height(),c.scrollLeft()>=b.offset().left]}function c(a){for(var b=a.length;b--;)if(a[b])return!1;return!0}var d=a.tools.tooltip;d.dynamic={conf:{classNames:"top right bottom left"}},a.fn.dynamic=function(e){typeof e=="number"&&(e={speed:e}),e=a.extend({},d.dynamic.conf,e);var f=e.classNames.split(/\s/),h;return this.each(function(){var d=a(this).tooltip().onBeforeShow(function(d,i){d=this.getTip();var l=this.getConf();h||(h=[l.position[0],l.position[1],l.offset[0],l.offset[1],a.extend({},l)]),a.extend(l,h[4]),l.position=[h[0],h[1]],l.offset=[h[2],h[3]],d.css({visibility:"hidden",position:"absolute",top:i.top,left:i.left}).show(),i=b(d);if(!c(i)){i[2]&&(a.extend(l,e.top),l.position[0]="top",d.addClass(f[0])),i[3]&&(a.extend(l,e.right),l.position[1]="right",d.addClass(f[1])),i[0]&&(a.extend(l,e.bottom),l.position[0]="bottom",d.addClass(f[2])),i[1]&&(a.extend(l,e.left),l.position[1]="left",d.addClass(f[3]));if(i[0]||i[2])l.offset[0]*=-1;if(i[1]||i[3])l.offset[1]*=-1}d.css({visibility:"visible"}).hide()});d.onBeforeShow(function(){var a=this.getConf();this.getTip(),setTimeout(function(){a.position=[h[0],h[1]],a.offset=[h[2],h[3]]},0)}),d.onHide(function(){var a=this.getTip();a.removeClass(e.classNames)}),ret=d}),e.api?ret:this}}(jQuery),function(a){function b(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}function c(c,f){var g=this,h=c.add(g),i=c.children(),k=0,l=f.vertical;d||(d=g),i.length>1&&(i=a(f.items,c)),a.extend(g,{getConf:function(){return f},getIndex:function(){return k},getSize:function(){return g.getItems().size()},getNaviButtons:function(){return p.add(q)},getRoot:function(){return c},getItemWrap:function(){return i},getItems:function(){return i.children(f.item).not("."+f.clonedClass)},move:function(a,b){return g.seekTo(k+a,b)},next:function(a){return g.move(1,a)},prev:function(a){return g.move(-1,a)},begin:function(a){return g.seekTo(0,a)},end:function(a){return g.seekTo(g.getSize()-1,a)},focus:function(){return d=g},addItem:function(b){return b=a(b),f.circular?(a(".cloned:last").before(b),a(".cloned:first").replaceWith(b.clone().addClass(f.clonedClass))):i.append(b),h.trigger("onAddItem",[b]),g},seekTo:function(b,c,m){if(f.circular&&b===0&&k==-1&&c!==0)return g;if(!f.circular&&b<0||b>g.getSize()||b<-1)return g;var n=b;b.jquery?b=g.getItems().index(b):n=g.getItems().eq(b);var o=a.Event("onBeforeSeek");if(!m){h.trigger(o,[b,c]);if(o.isDefaultPrevented()||!n.length)return g}return n=l?{top:-n.position().top}:{left:-n.position().left},k=b,d=g,c===undefined&&(c=f.speed),i.animate(n,c,f.easing,m||function(){h.trigger("onSeek",[b])}),g}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(f[c])&&a(g).bind(c,f[c]),g[c]=function(b){return a(g).bind(c,b),g}});if(f.circular){var m=g.getItems().slice(-1).clone().prependTo(i),o=g.getItems().eq(1).clone().appendTo(i);m.add(o).addClass(f.clonedClass),g.onBeforeSeek(function(a,b,c){if(!a.isDefaultPrevented()){if(b==-1)return g.seekTo(m,c,function(){g.end(0)}),a.preventDefault();b==g.getSize()&&g.seekTo(o,c,function(){g.begin(0)})}}),g.seekTo(0,0)}var p=b(c,f.prev).click(function(){g.prev()}),q=b(c,f.next).click(function(){g.next()});!f.circular&&g.getSize()>1&&g.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(p.toggleClass(f.disabledClass,b<=0),q.toggleClass(f.disabledClass,b>=g.getSize()-1))},1)}),f.mousewheel&&a.fn.mousewheel&&c.mousewheel(function(a,b){if(f.mousewheel)return g.move(b<0?1:-1,f.wheelSpeed||50),!1}),f.keyboard&&a(document).bind("keydown.scrollable",function(b){if(!(!f.keyboard||b.altKey||b.ctrlKey||a(b.target).is(":input")))if(f.keyboard=="static"||d==g){var c=b.keyCode;if(!(!l||c!=38&&c!=40))return g.move(c==38?-1:1),b.preventDefault();if(!l&&(c==37||c==39))return g.move(c==37?-1:1),b.preventDefault()}}),a(g).trigger("onBeforeSeek",[f.initialIndex])}a.tools=a.tools||{version:"1.2.3"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",speed:400,vertical:!1,wheelSpeed:0}};var d;a.fn.scrollable=function(b){var d=this.data("scrollable");return d?d:(b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){d=new c(a(this),b),a(this).data("scrollable",d)}),b.api?d:this)}}(jQuery),function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(d){typeof d=="number"&&(d={interval:d});var e=a.extend({},b.autoscroll.conf,d),f;return this.each(function(){var b=a(this).data("scrollable");b&&(f=b);var d,g,i=!0;b.play=function(){d||(i=!1,d=setInterval(function(){b.next()},e.interval),b.next())},b.pause=function(){d=clearInterval(d)},b.stop=function(){b.pause(),i=!0},e.autopause&&b.getRoot().add(b.getNaviButtons()).hover(function(){b.pause(),clearInterval(g)},function(){i||(g=setTimeout(b.play,e.interval))}),e.autoplay&&setTimeout(b.play,e.interval)}),e.api?f:this}}(jQuery),function(a){function b(b,c){var e=a(c);return e.length<2?e:b.parent().find(c)}var c=a.tools.scrollable;c.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},a.fn.navigator=function(e){typeof e=="string"&&(e={navi:e}),e=a.extend({},c.navigator.conf,e);var f;return this.each(function(){function c(a,b,c){k.seekTo(b);if(!o)return c.preventDefault();location.hash&&(location.hash=a.attr("href").replace("#",""))}function h(){return l.find(e.naviItem||"> *")}function i(b){var f=a("<"+(e.naviItem||"a")+"/>").click(function(e){c(a(this),b,e)}).attr("href","#"+b);return b===0&&f.addClass(n),e.indexed&&f.text(b+1),e.idPrefix&&f.attr("id",e.idPrefix+b),f.appendTo(l)}function j(a,b){a=h().eq(b.replace("#","")),a.length||(a=h().filter("[href="+b+"]")),a.click()}var k=a(this).data("scrollable"),l=b(k.getRoot(),e.navi),m=k.getNaviButtons(),n=e.activeClass,o=e.history&&a.fn.history;k&&(f=k),k.getNaviButtons=function(){return m.add(l)},h().length?h().each(function(b){a(this).click(function(e){c(a(this),b,e)})}):a.each(k.getItems(),function(a){i(a)}),k.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=h().eq(b);!a.isDefaultPrevented()&&c.length&&h().removeClass(n).eq(b).addClass(n)}},1)}),k.onAddItem(function(a,b){b=i(k.getItems().index(b)),o&&b.history(j)}),o&&h().history(j)}),e.api?f:this}}(jQuery),function(a){function b(b,e){var f=this,g=b.add(f),h=a(window),i,j,k,l=a.tools.expose&&(e.mask||e.expose),m=Math.random().toString().slice(10);l&&(typeof l=="string"&&(l={color:l}),l.closeOnClick=l.closeOnEsc=!1);var n=e.target||b.attr("rel");j=n?a(n):b;if(!j.length)throw"Could not find Overlay: "+n;b&&b.index(j)==-1&&b.click(function(a){return f.load(a),a.preventDefault()}),a.extend(f,{load:function(b){if(f.isOpened())return f;var i=d[e.effect];if(!i)throw'Overlay: cannot find effect : "'+e.effect+'"';e.oneInstance&&a.each(c,function(){this.close(b)}),b=b||a.Event(),b.type="onBeforeLoad",g.trigger(b);if(b.isDefaultPrevented())return f;k=!0,l&&a(j).expose(l);var n=e.top,p=e.left,r=j.outerWidth({margin:!0}),t=j.outerHeight({margin:!0});return typeof n=="string"&&(n=n=="center"?Math.max((h.height()-t)/2,0):parseInt(n,10)/100*h.height()),p=="center"&&(p=Math.max((h.width()-r)/2,0)),i[0].call(f,{top:n,left:p},function(){k&&(b.type="onLoad",g.trigger(b))}),l&&e.closeOnClick&&a.mask.getMask().one("click",f.close),e.closeOnClick&&a(document).bind("click."+m,function(b){a(b.target).parents(j).length||f.close(b)}),e.closeOnEsc&&a(document).bind("keydown."+m,function(a){a.keyCode==27&&f.close(a)}),f},close:function(b){if(!f.isOpened())return f;b=b||a.Event(),b.type="onBeforeClose",g.trigger(b);if(!b.isDefaultPrevented())return k=!1,d[e.effect][1].call(f,function(){b.type="onClose",g.trigger(b)}),a(document).unbind("click."+m).unbind("keydown."+m),l&&a.mask.close(),f},getOverlay:function(){return j},getTrigger:function(){return b},getClosers:function(){return i},isOpened:function(){return k},getConf:function(){return e}}),a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(b,c){a.isFunction(e[c])&&a(f).bind(c,e[c]),f[c]=function(b){return a(f).bind(c,b),f}}),i=j.find(e.close||".close"),!i.length&&!e.close&&(i=a('<a class="close"></a>'),j.prepend(i)),i.click(function(a){f.close(a)}),e.load&&f.load()}a.tools=a.tools||{version:"1.2.3"},a.tools.overlay={addEffect:function(a,b,c){d[a]=[b,c]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var c=[],d={};a.tools.overlay.addEffect("default",function(b,c){var d=this.getConf(),e=a(window);d.fixed||(b.top+=e.scrollTop(),b.left+=e.scrollLeft()),b.position=d.fixed?"fixed":"absolute",this.getOverlay().css(b).fadeIn(d.speed,c)},function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)}),a.fn.overlay=function(d){var e=this.data("overlay");return e?e:(a.isFunction(d)&&(d={onBeforeLoad:d}),d=a.extend(!0,{},a.tools.overlay.conf,d),this.each(function(){e=new b(a(this),d),c.push(e),a(this).data("overlay",e)}),d.api?e:this)}}(jQuery),function(a){function b(a){var b=a.offset();return{top:b.top+a.height()/2,left:b.left+a.width()/2}}function e(c,e){var f=this.getOverlay(),g=this.getConf(),h=this.getTrigger(),k=this,l=f.outerWidth({margin:!0}),m=f.data("img");if(!m){var n=f.css("backgroundImage");if(!n)throw"background-image CSS property not set for overlay";n=n.slice(n.indexOf("(")+1,n.indexOf(")")).replace(/\"/g,""),f.css("backgroundImage","none"),m=a('<img src="'+n+'"/>'),m.css({border:0,display:"none"}).width(l),a("body").append(m),f.data("img",m)}n=g.start.top||Math.round(d.height()/2);var o=g.start.left||Math.round(d.width()/2);h&&(h=b(h),n=h.top,o=h.left),m.css({position:"absolute",top:n,left:o,width:0,zIndex:g.zIndex}).show(),c.top+=d.scrollTop(),c.left+=d.scrollLeft(),c.position="absolute",f.css(c),m.animate({top:f.css("top"),left:f.css("left"),width:l},g.speed,function(){g.fixed&&(c.top-=d.scrollTop(),c.left-=d.scrollLeft(),c.position="fixed",m.add(f).css(c)),f.css("zIndex",g.zIndex+1).fadeIn(g.fadeInSpeed,function(){k.isOpened()&&!a(this).index(f)?e.call():f.hide()})})}function f(c){var e=this.getOverlay().hide(),f=this.getConf(),g=this.getTrigger();e=e.data("img");var h={top:f.start.top,left:f.start.left,width:0};g&&a.extend(h,b(g)),f.fixed&&e.css({position:"absolute"}).animate({top:"+="+d.scrollTop(),left:"+="+d.scrollLeft()},0),e.animate(h,f.closeSpeed,c)}var c=a.tools.overlay,d=a(window);a.extend(c.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999}),c.addEffect("apple",e,f)}(jQuery),function(a){function b(a,b){return 32-(new Date(a,b,32)).getDate()}function c(a,b){a=""+a;for(b=b||2;a.length<b;)a="0"+a;return a}function d(a,b,d){var e=a.getDate(),f=a.getDay(),g=a.getMonth();a=a.getFullYear();var h={d:e,dd:c(e),ddd:l[d].shortDays[f],dddd:l[d].days[f],m:g+1,mm:c(g+1),mmm:l[d].shortMonths[g],mmmm:l[d].months[g],yy:String(a).slice(2),yyyy:a};return b=b.replace(m,function(a){return a in h?h[a]:a.slice(1,a.length-1)}),n.html(b).html()}function e(a){return parseInt(a,10)}function f(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()}function g(a){if(a){if(a.constructor==Date)return a;if(typeof a=="string"){var b=a.split("-");if(b.length==3)return new Date(e(b[0]),e(b[1])-1,e(b[2]));if(!/^-?\d+$/.test(a))return;a=e(a)}return b=new Date,b.setDate(b.getDate()+a),b}}function h(c,h){function j(b,e,f){A=b,w=b.getFullYear(),x=b.getMonth(),z=b.getDate(),f=f||a.Event("api"),f.type="change",H.trigger(f,[b]),f.isDefaultPrevented()||(c.val(d(b,e.format,e.lang)),c.data("date",b),n.hide(f))}function m(b){b.type="onShow",H.trigger(b),a(document).bind("keydown.d",function(b){var d=b.keyCode;if(d==8)return c.val(""),n.hide(b);if(d==27)return n.hide(b);if(a(k).index(d)>=0){if(!F)return n.show(b),b.preventDefault();var e=a("#"+p.weeks+" a"),f=a("."+p.focus),g=e.index(f);f.removeClass(p.focus);if(d==74||d==40)g+=7;else if(d==75||d==38)g-=7;else if(d==76||d==39)g+=1;else if(d==72||d==37)g-=1;return g==-1?(n.addMonth(-1),f=a("#"+p.weeks+" a:last")):g==35?(n.addMonth(),f=a("#"+p.weeks+" a:first")):f=e.eq(g),f.addClass(p.focus),b.preventDefault()}return d==34?n.addMonth():d==33?n.addMonth(-1):d==36?n.today():(d==13&&(a(b.target).is("select")||a("."+p.focus).click()),a([16,17,18,9]).index(d)>=0)}),a(document).bind("click.d",function(b){var d=b.target;!a(d).parents("#"+p.root).length&&d!=c[0]&&(!t||d!=t[0])&&n.hide(b)})}var n=this,o=new Date,p=h.css,q=l[h.lang],r=a("#"+p.root),s=r.find("#"+p.title),t,u,v,w,x,z,A=c.attr("data-value")||h.value||c.val(),D=c.attr("min")||h.min,E=c.attr("max")||h.max,F;A=g(A)||o,D=g(D||h.yearRange[0]*365),E=g(E||h.yearRange[1]*365);if(!q)throw"Dateinput: invalid language: "+h.lang;if(c.attr("type")=="date"){var G=a("<input/>");a.each("name,readonly,disabled,value,required".split(","),function(a,b){G.attr(b,c.attr(b))}),c.replaceWith(G),c=G}c.addClass(p.input);var H=c.add(n);if(!r.length){r=a("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",p.root),r.children().eq(0).attr("id",p.head).end().eq(1).attr("id",p.body).children().eq(0).attr("id",p.days).end().eq(1).attr("id",p.weeks).end().end().end().find("a").eq(0).attr("id",p.prev).end().eq(1).attr("id",p.next),s=r.find("#"+p.head).find("div").attr("id",p.title);if(h.selectors){var I=a("<select/>").attr("id",p.month),J=a("<select/>").attr("id",p.year);s.append(I.add(J))}for(var K=r.find("#"+p.days),L=0;L<7;L++)K.append(a("<span/>").text(q.shortDays[(L+h.firstDay)%7]));c.after(r)}h.trigger&&(t=a("<a/>").attr("href","#").addClass(p.trigger).click(function(a){return n.show(),a.preventDefault()}).insertAfter(c));var M=r.find("#"+p.weeks);J=r.find("#"+p.year),I=r.find("#"+p.month),a.extend(n,{show:function(b){if(!c.is("[readonly]")&&!F){b=b||a.Event(),b.type="onBeforeShow",H.trigger(b);if(!b.isDefaultPrevented()){a.each(i,function(){this.hide()}),F=!0,I.unbind("change").change(function(){n.setValue(J.val(),a(this).val())}),J.unbind("change").change(function(){n.setValue(a(this).val(),I.val())}),u=r.find("#"+p.prev).unbind("click").click(function(){return u.hasClass(p.disabled)||n.addMonth(-1),!1}),v=r.find("#"+p.next).unbind("click").click(function(){return v.hasClass(p.disabled)||n.addMonth(),!1}),n.setValue(A);var d=c.position();return r.css({top:d.top+c.outerHeight({margins:!0})+h.offset[0],left:d.left+h.offset[1]}),h.speed?r.show(h.speed,function(){m(b)}):(r.show(),m(b)),n}}},setValue:function(c,d,g){var i;parseInt(d,10)>=-1?(c=e(c),d=e(d),g=e(g),i=new Date(c,d,g)):(i=c||A,c=i.getFullYear(),d=i.getMonth(),g=i.getDate()),d==-1?(d=11,c--):d==12&&(d=0,c++);if(!F)return j(i,h),n;x=d,w=c,i=new Date(c,d,1-h.firstDay),g=i.getDay();var k=b(c,d),l=b(c,d-1),m;if(h.selectors){I.empty(),a.each(q.months,function(b,d){D<new Date(c,b+1,-1)&&E>new Date(c,b,0)&&I.append(a("<option/>").html(d).attr("value",b))}),J.empty();for(i=c+h.yearRange[0];i<c+h.yearRange[1];i++)D<new Date(i+1,-1,0)&&E>new Date(i,0,0)&&J.append(a("<option/>").text(i));I.val(d),J.val(c)}else s.html(q.months[d]+" "+c);M.empty(),u.add(v).removeClass(p.disabled);for(var r=0,t,z;r<42;r++)t=a("<a/>"),r%7===0&&(m=a("<div/>").addClass(p.week),M.append(m)),r<g?(t.addClass(p.off),z=l-g+r+1,i=new Date(c,d-1,z)):r>=g+k?(t.addClass(p.off),z=r-k-g+1,i=new Date(c,d+1,z)):(z=r-g+1,i=new Date(c,d,z),f(A,i)?t.attr("id",p.current).addClass(p.focus):f(o,i)&&t.attr("id",p.today)),D&&i<D&&t.add(u).addClass(p.disabled),E&&i>E&&t.add(v).addClass(p.disabled),t.attr("href","#"+z).text(z).data("date",i),m.append(t),t.click(function(b){var c=a(this);return c.hasClass(p.disabled)||(a("#"+p.current).removeAttr("id"),c.attr("id",p.current),j(c.data("date"),h,b)),!1});return p.sunday&&M.find(p.week).each(function(){var b=h.firstDay?7-h.firstDay:0;a(this).children().slice(b,b+1).addClass(p.sunday)}),n},setMin:function(a,b){return D=g(a),b&&A<D&&n.setValue(D),n},setMax:function(a,b){return E=g(a),b&&A>E&&n.setValue(E),n},today:function(){return n.setValue(o)},addDay:function(a){return this.setValue(w,x,z+(a||1))},addMonth:function(a){return this.setValue(w,x+(a||1),z)},addYear:function(a){return this.setValue(w+(a||1),x,z)},hide:function(b){if(F){b=b||a.Event(),b.type="onHide",H.trigger(b),a(document).unbind("click.d").unbind("keydown.d");if(b.isDefaultPrevented())return;r.hide(),F=!1}return n},getConf:function(){return h},getInput:function(){return c},getCalendar:function(){return r},getValue:function(a){return a?d(A,a,h.lang):A},isOpen:function(){return F}}),a.each(["onBeforeShow","onShow","change","onHide"],function(b,c){a.isFunction(h[c])&&a(n).bind(c,h[c]),n[c]=function(b){return a(n).bind(c,b),n}}),c.bind("focus click",n.show).keydown(function(b){var c=b.keyCode;return!F&&a(k).index(c)>=0?(n.show(b),b.preventDefault()):b.shiftKey||b.ctrlKey||b.altKey||c==9?!0:b.preventDefault()}),g(c.val())&&j(A,h)}a.tools=a.tools||{version:"1.2.3"};var i=[],j,k=[75,76,38,39,74,72,40,37],l={};j=a.tools.dateinput={conf:{format:"mm/dd/yy",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:0,max:0,trigger:!1,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},localize:function(b,c){a.each(c,function(a,b){c[a]=b.split(",")}),l[b]=c}},j.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var m=/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,n=a("<a/>");a.expr[":"].date=function(b){var c=b.getAttribute("type");return c&&c=="date"||!!a(b).data("dateinput")},a.fn.dateinput=function(b){if(this.data("dateinput"))return this;b=a.extend(!0,{},j.conf,b),a.each(b.css,function(a,c){!c&&a!="prefix"&&(b.css[a]=(b.css.prefix||"")+(c||a))});var c;return this.each(function(){var d=new h(a(this),b);i.push(d),d=d.getInput().data("dateinput",d),c=c?c.add(d):d}),c?c:this}}(jQuery),function(a){function b(a,b){return b=Math.pow(10,b),Math.round(a*b)/b}function c(a,b){return(b=parseInt(a.css(b),10))?b:(a=a[0].currentStyle)&&a.width&&parseInt(a.width,10)}function d(a){return(a=a.data("events"))&&a.onSlide}function e(e,f){function g(a,c,d,g){d===undefined?d=c/q*u:g&&(d-=f.min),v&&(d=Math.round(d/v)*v);if(c===undefined||v)c=d*q/u;if(isNaN(d))return j;c=Math.max(0,Math.min(c,q)),d=c/q*u;if(g||!m)d+=f.min;m&&(g?c=q-c:d=f.max-d),d=b(d,w);var h=a.type=="click";if(A&&n!==undefined&&!h){a.type="onSlide",z.trigger(a,[d,c]);if(a.isDefaultPrevented())return j}return g=h?f.speed:0,h=h?function(){a.type="change",z.trigger(a,[d])}:null,m?(s.animate({top:c},g,h),f.progress&&t.animate({height:q-c+s.width()/2},g)):(s.animate({left:c},g,h),f.progress&&t.animate({width:c+s.width()/2},g)),n=d,r=c,e.val(d),j}function h(){(m=f.vertical||c(l,"height")>c(l,"width"))?(q=c(l,"height")-c(s,"height"),o=l.offset().top+q):(q=c(l,"width")-c(s,"width"),o=l.offset().left)}function i(){h(),j.setValue(f.value||f.min)}var j=this,k=f.css,l=a("<div><div/><a href='#'/></div>").data("rangeinput",j),m,n,o,q,r;e.before(l);var s=l.addClass(k.slider).find("a").addClass(k.handle),t=l.find("div").addClass(k.progress);a.each("min,max,step,value".split(","),function(a,b){a=e.attr(b),parseFloat(a)&&(f[b]=parseFloat(a,10))});var u=f.max-f.min,v=f.step=="any"?0:f.step,w=f.precision;if(w===undefined)try{w=v.toString().split(".")[1].length}catch(x){w=0}if(e.attr("type")=="range"){var y=a("<input/>");a.each("name,readonly,disabled,required".split(","),function(a,b){y.attr(b,e.attr(b))}),y.val(f.value),e.replaceWith(y),e=y}e.addClass(k.input);var z=a(j).add(e),A=!0;a.extend(j,{getValue:function(){return n},setValue:function(b,c){return g(c||a.Event("api"),undefined,b,!0)},getConf:function(){return f},getProgress:function(){return t},getHandle:function(){return s},getInput:function(){return e},step:function(b,c){c=c||a.Event();var d=f.step=="any"?1:f.step;j.setValue(n+d*(b||1),c)},stepUp:function(a){return j.step(a||1)},stepDown:function(a){return j.step(-a||-1)}}),a.each("onSlide,change".split(","),function(b,c){a.isFunction(f[c])&&a(j).bind(c,f[c]),j[c]=function(b){return a(j).bind(c,b),j}}),s.drag({drag:!1}).bind("dragStart",function(){A=d(a(j))||d(e)}).bind("drag",function(a,b,c){if(e.is(":disabled"))return!1;g(a,m?b:c)}).bind("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",z.trigger(a,[n]))}).click(function(a){return a.preventDefault()}),l.click(function(a){if(e.is(":disabled")||a.target==s[0])return a.preventDefault();h();var b=s.width()/2;g(a,m?q-o-b+a.pageY:a.pageX-o-b)}),f.keyboard&&e.keydown(function(b){if(!e.attr("readonly")){var c=b.keyCode,d=a([75,76,38,33,39]).index(c)!=-1,f=a([74,72,40,34,37]).index(c)!=-1;if((d||f)&&!(b.shiftKey||b.altKey||b.ctrlKey))return d?j.step(c==33?10:1,b):f&&j.step(c==34?-10:-1,b),b.preventDefault()}}),e.blur(function(b){var c=a(this).val();c!==n&&j.setValue(c,b)}),a.extend(e[0],{stepUp:j.stepUp,stepDown:j.stepDown}),i(),q||a(window).load(i)}a.tools=a.tools||{version:"1.2.3"};var f;f=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var g,h;a.fn.drag=function(b){return document.ondragstart=function(){return!1},b=a.extend({x:!0,y:!0,drag:!0},b),g=g||a(document).bind("mousedown mouseup",function(c){var d=a(c.target);if(c.type=="mousedown"&&d.data("drag")){var e=d.position(),f=c.pageX-e.left,i=c.pageY-e.top,j=!0;g.bind("mousemove.drag",function(a){var c=a.pageX-f;a=a.pageY-i;var e={};b.x&&(e.left=c),b.y&&(e.top=a),j&&(d.trigger("dragStart"),j=!1),b.drag&&d.css(e),d.trigger("drag",[a,c]),h=d}),c.preventDefault()}else try{h&&h.trigger("dragEnd")}finally{g.unbind("mousemove.drag"),h=null}}),this.data("drag",!0)},a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&c=="range"||!!a(b).filter("input").data("rangeinput")},a.fn.rangeinput=function(b){if(this.data("rangeinput"))return this;b=a.extend(!0,{},f.conf,b);var c;return this.each(function(){var d=new e(a(this),a.extend(!0,{},b));d=d.getInput().data("rangeinput",d),c=c?c.add(d):d}),c?c:this}}(jQuery),function(a){function b(a,b,c){var d=a.offset().top,e=a.offset().left,f=c.position.split(/,?\s+/),g=f[0];return f=f[1],d-=b.outerHeight()-c.offset[0],e+=a.outerWidth()+c.offset[1],c=b.outerHeight()+a.outerHeight(),g=="center"&&(d+=c/2),g=="bottom"&&(d+=c),a=a.outerWidth(),f=="center"&&(e-=(a+b.outerWidth())/2),f=="left"&&(e-=a),{top:d,left:e}}function c(a){function b(){return this.getAttribute("type")==a}return b.key="[type="+a+"]",b}function d(b,c,d){function e(b,c,e){if(!!d.grouped||!b.length){var f;e===!1||a.isArray(e)?(f=i.messages[c.key||c]||i.messages["*"],f=f[d.lang]||i.messages["*"].en,(c=f.match(/\$\d/g))&&a.isArray(e)&&a.each(c,function(a){f=f.replace(this,e[a])})):f=e[d.lang]||e,b.push(f)}}var f=this,g=c.add(f);b=b.not(":button, :image, :reset, :submit"),a.extend(f,{getConf:function(){return d},getForm:function(){return c},getInputs:function(){return b},invalidate:function(c,e){if(!e){var h=[];a.each(c,function(a,c){a=b.filter("[name="+a+"]"),a.length&&(a.trigger("OI",[c]),h.push({input:a,messages:[c]}))}),c=h,e=a.Event()}return e.type="onFail",g.trigger(e,[c]),e.isDefaultPrevented()||k[d.effect][0].call(f,c,e),f},reset:function(c){return c=c||b,c.removeClass(d.errorClass).each(function(){var b=a(this).data("msg.el");b&&(b.remove(),a(this).data("msg.el",null))}).unbind(d.errorInputEvent||""),f},destroy:function(){return c.unbind(d.formEvent).unbind("reset.V"),b.unbind(d.inputEvent||"").unbind("change.V"),f.reset()},checkValidity:function(c,h){c=c||b,c=c.not(":disabled");if(!c.length)return!0;h=h||a.Event(),h.type="onBeforeValidate",g.trigger(h,[c]);if(h.isDefaultPrevented())return h.result;var i=[],m=d.errorInputEvent+".v";c.each(function(){var b=[],c=a(this).unbind(m).data("messages",b);a.each(j,function(){var a=this,i=a[0];if(c.filter(i).length){a=a[1].call(f,c,c.val());if(a!==!0){h.type="onBeforeFail",g.trigger(h,[c,i]);if(h.isDefaultPrevented())return!1;var j=c.attr(d.messageAttr);if(j)return b=[j],!1;e(b,i,a)}}}),b.length&&(i.push({input:c,messages:b}),c.trigger("OI",[b]),d.errorInputEvent&&c.bind(m,function(a){f.checkValidity(c,a)}));if(d.singleError&&i.length)return!1});var n=k[d.effect];if(!n)throw'Validator: cannot find effect "'+d.effect+'"';return i.length?(f.invalidate(i,h),!1):(n[1].call(f,c,h),h.type="onSuccess",g.trigger(h,[c]),c.unbind(m),!0)}}),a.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(b,c){a.isFunction(d[c])&&a(f).bind(c,d[c]),f[c]=function(b){return a(f).bind(c,b),f}}),d.formEvent&&c.bind(d.formEvent,function(a){if(!f.checkValidity(null,a))return a.preventDefault()}),c.bind("reset.V",function(){f.reset()}),b[0]&&b[0].validity&&b.each(function(){this.oninvalid=function(){return!1}}),c[0]&&(c[0].checkValidity=f.checkValidity),d.inputEvent&&b.bind(d.inputEvent,function(b){f.checkValidity(a(this),b)}),b.filter(":checkbox, select").filter("[required]").bind("change.V",function(b){var c=a(this);(this.checked||c.is("select")&&a(this).val())&&k[d.effect][1].call(f,c,b)})}a.tools=a.tools||{version:"1.2.3"};var e=/\[type=([a-z]+)\]/,f=/^-?[0-9]*(\.[0-9]+)?$/,g=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,h=/^(https?:\/\/)?([\da-z\.\-]+)\.([a-z\.]{2,6})([\/\w \.\-]*)*\/?$/i,i;i=a.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(b,c){a.each(c,function(a,c){i.messages[a]=i.messages[a]||{},i.messages[a][b]=c})},localizeFn:function(b,c){i.messages[b]=i.messages[b]||{},a.extend(i.messages[b],c)},fn:function(b,d,f){a.isFunction(d)?f=d:(typeof d=="string"&&(d={en:d}),this.messages[b.key||b]=d);if(d=e.exec(b))b=c(d[1]);j.push([b,f])},addEffect:function(a,b,c){k[a]=[b,c]}};var j=[],k={"default":[function(c){var d=this.getConf();a.each(c,function(c,e){c=e.input,c.addClass(d.errorClass);var f=c.data("msg.el");f||(f=a(d.message).addClass(d.messageClass).appendTo(document.body),c.data("msg.el",f)),f.css({visibility:"hidden"}).find("span").remove(),a.each(e.messages,function(b,c){a("<span/>").html(c).appendTo(f)}),f.outerWidth()==f.parent().width()&&f.add(f.find("p")).css({display:"inline"}),e=b(c,f,d),f.css({visibility:"visible",position:"absolute",top:e.top,left:e.left}).fadeIn(d.speed)})},function(b){var c=this.getConf();b.removeClass(c.errorClass).each(function(){var b=a(this).data("msg.el");b&&b.css({visibility:"hidden"})})}]};a.each("email,url,number".split(","),function(b,c){a.expr[":"][c]=function(a){return a.getAttribute("type")===c}}),a.fn.oninvalid=function(a){return this[a?"bind":"trigger"]("OI",a)},i.fn(":email","Please enter a valid email address",function(a,b){return!b||g.test(b)}),i.fn(":url","Please enter a valid URL",function(a,b){return!b||h.test(b)}),i.fn(":number","Please enter a numeric value.",function(a,b){return f.test(b)}),i.fn("[max]","Please enter a value smaller than $1",function(b,c){return a.tools.dateinput&&b.is(":date")?!0:(b=b.attr("max"),parseFloat(c)<=parseFloat(b)?!0:[b])}),i.fn("[min]","Please enter a value larger than $1",function(b,c){return a.tools.dateinput&&b.is(":date")?!0:(b=b.attr("min"),parseFloat(c)>=parseFloat(b)?!0:[b])}),i.fn("[required]","Please complete this mandatory field.",function(a,b){return a.is(":checkbox")?a.is(":checked"):!!b}),i.fn("[pattern]",function(a){var b=new RegExp("^"+a.attr("pattern")+"$");return b.test(a.val())}),a.fn.validator=function(b){var c=this.data("validator");return c&&(c.destroy(),this.removeData("validator")),b=a.extend(!0,{},i.conf,b),this.is("form")?this.each(function(){var e=a(this);c=new d(e.find(":input"),e,b),e.data("validator",c)}):(c=new d(this,this.eq(0).closest("form"),b),this.data("validator",c))}}(jQuery),MM_reloadPage(!0),$(document).ready(function(){$(".services").hide(),$("#services").click(function(){$(".seo").hide(),$(".hosting").hide(),$(".website").hide(),$(".portfolio").hide(),$(".business").hide(),$(this).siblings(".services").slideToggle("slow"),$(".services").mouseleave(function(){$(".services").hide()})}),$(".seo").hide(),$("#seo").click(function(){$(".hosting").hide(),$(".website").hide(),$(".portfolio").hide(),$(".business").hide(),$(this).siblings(".seo").slideToggle("slow"),$(".seo").mouseleave(function(){$(".seo").hide()})}),$(".hosting").hide(),$("#hosting").click(function(){$(".seo").hide(),$(".website").hide(),$(".portfolio").hide(),$(".business").hide(),$(this).siblings(".hosting").slideToggle("slow"),$(".hosting").mouseleave(function(){$(".hosting").hide()})}),$(".website").hide(),$("#website").click(function(){$(".seo").hide(),$(".hosting").hide(),$(".portfolio").hide(),$(".business").hide(),$(this).siblings(".website").slideToggle("slow"),$(".website").mouseleave(function(){$(".website").hide()})}),$(".portfolio").hide(),$("#portfolio").click(function(){$(".seo").hide(),$(".hosting").hide(),$(".website").hide(),$(".business").hide(),$(this).siblings(".portfolio").slideToggle("slow"),$(".portfolio").mouseleave
(function(){$(".portfolio").hide()})}),$(".business").hide(),$("#business").click(function(){$(".seo").hide(),$(".hosting").hide(),$(".website").hide(),$(".portfolio").hide(),$(this).siblings(".business").slideToggle(),$(".business").mouseleave(function(){$(".business").hide()})})}),eval(function(a,b,c,d,e,f){e=function(a){return(a<b?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(c--)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}while(c--)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}("(9($){$.1f.1q=9(1X){b 3=$.2i({},$.1f.1q.2c,1X);I g.E(9(){b 4={f:0,t:'',U:0,o:'',N:m,1k:m,1N:m};b 5=$(g);5.1S('7:4',4);5.e('2h','2g');5.1n('1q');b d=5.2j();d.E(9(){b j=$(g);b 1p='';6(!j.K('B')){6(j.K('a')){j.1n('7-2k');1p=j}j=j.1g('B:1s')}b 1c=j.w();6(1c==0)1c=j.s('w');b 1d=j.x();6(1d==0)1d=j.s('x');6(1c>5.w()){5.w(1c)}6(1d>5.x()){5.x(1d)}6(1p!=''){1p.e('P','1h')}j.e('P','1h');4.U++});6(3.1a>0){6(3.1a>=4.U)3.1a=4.U-1;4.f=3.1a}6($(d[4.f]).K('B')){4.t=$(d[4.f])}n{4.t=$(d[4.f]).1g('B:1s')}6($(d[4.f]).K('a')){$(d[4.f]).e('P','1w')}5.e('W','V('+4.t.s('D')+') R-Y');2b(b i=0;i<3.h;i++){b G=X.27(5.w()/3.h);6(i==3.h-1){5.J($('<C z=\"7-c\"></C>').e({21:(G*i)+'13',w:(5.w()-(G*i))+'13'}))}n{5.J($('<C z=\"7-c\"></C>').e({21:(G*i)+'13',w:G+'13'}))}}5.J($('<C z=\"7-H\"><p></p></C>').e({P:'1h',y:3.1Y}));6(4.t.s('16')!=''){$('.7-H p',5).1y(4.t.s('16'));$('.7-H',5).1x(3.q)}b l=0;6(!3.1i&&d.1j>1){l=1v(9(){F(5,d,3,m)},3.1m)}6(3.T){5.J('<C z=\"7-T\"><a z=\"7-2a\">2f</a><a z=\"7-29\">2m</a></C>');6(3.2d){$('.7-T',5).24();5.25(9(){$('.7-T',5).2l()},9(){$('.7-T',5).24()})}$('a.7-2a',5).1J('1I',9(){6(4.N)I m;S(l);l='';4.f-=2;F(5,d,3,'1C')});$('a.7-29',5).1J('1I',9(){6(4.N)I m;S(l);l='';F(5,d,3,'1A')})}6(3.M){b 1b=$('<C z=\"7-M\"></C>');5.J(1b);2b(b i=0;i<d.1j;i++){6(3.20){b j=d.1B(i);6(!j.K('B')){j=j.1g('B:1s')}6(3.1Q){1b.J('<a z=\"7-1l\" 11=\"'+i+'\"><B D=\"'+j.s('11')+'\" 28=\"\" /></a>')}n{1b.J('<a z=\"7-1l\" 11=\"'+i+'\"><B D=\"'+j.s('D').2n(3.1R,3.1P)+'\" 28=\"\" /></a>')}}n{1b.J('<a z=\"7-1l\" 11=\"'+i+'\">'+i+'</a>')}}$('.7-M a:1B('+4.f+')',5).1n('1o');$('.7-M a',5).1J('1I',9(){6(4.N)I m;6($(g).2e('1o'))I m;S(l);l='';5.e('W','V('+4.t.s('D')+') R-Y');4.f=$(g).s('11')-1;F(5,d,3,'1l')})}6(3.1M){$(2q).2A(9(1L){6(1L.1Z=='2C'){6(4.N)I m;S(l);l='';4.f-=2;F(5,d,3,'1C')}6(1L.1Z=='2D'){6(4.N)I m;S(l);l='';F(5,d,3,'1A')}})}6(3.1T){5.25(9(){4.1k=Q;S(l);l=''},9(){4.1k=m;6(l==''&&!3.1i){l=1v(9(){F(5,d,3,m)},3.1m)}})}5.2E('7:Z',9(){4.N=m;$(d).E(9(){6($(g).K('a')){$(g).e('P','1h')}});6($(d[4.f]).K('a')){$(d[4.f]).e('P','1w')}6(l==''&&!4.1k&&!3.1i){l=1v(9(){F(5,d,3,m)},3.1m)}3.1U.1z(g)})});9 F(5,d,3,19){b 4=5.1S('7:4');6((!4||4.1N)&&!19)I m;3.1W.1z(g);6(!19){5.e('W','V('+4.t.s('D')+') R-Y')}n{6(19=='1C'){5.e('W','V('+4.t.s('D')+') R-Y')}6(19=='1A'){5.e('W','V('+4.t.s('D')+') R-Y')}}4.f++;6(4.f==4.U){4.f=0;3.1V.1z(g)}6(4.f<0)4.f=(4.U-1);6($(d[4.f]).K('B')){4.t=$(d[4.f])}n{4.t=$(d[4.f]).1g('B:1s')}6(3.M){$('.7-M a',5).2F('1o');$('.7-M a:1B('+4.f+')',5).1n('1o')}6(4.t.s('16')!=''){6($('.7-H',5).e('P')=='1w'){$('.7-H p',5).22(3.q,9(){$(g).1y(4.t.s('16'));$(g).1x(3.q)})}n{$('.7-H p',5).1y(4.t.s('16'))}$('.7-H',5).1x(3.q)}n{$('.7-H',5).22(3.q)}b i=0;$('.7-c',5).E(9(){b G=X.27(5.w()/3.h);$(g).e({x:'O',y:'0',W:'V('+4.t.s('D')+') R-Y -'+((G+(i*G))-G)+'13 0%'});i++});6(3.k=='1t'){b 10=2G 2B(\"1K\",\"14\",\"1F\",\"17\",\"1E\",\"12\",\"1D\",\"1r\");4.o=10[X.26(X.1t()*(10.1j+1))];6(4.o==2y)4.o='1r'}6(3.k.2o(',')!=-1){b 10=3.k.2r(',');4.o=$.2z(10[X.26(X.1t()*10.1j)])}4.N=Q;6(3.k=='2p'||3.k=='1K'||4.o=='1K'||3.k=='14'||4.o=='14'){b u=0;b i=0;b h=$('.7-c',5);6(3.k=='14'||4.o=='14')h=$('.7-c',5).1e();h.E(9(){b c=$(g);c.e('1G','O');6(i==3.h-1){L(9(){c.A({x:'r%',y:'1.0'},3.q,'',9(){5.18('7:Z')})},(r+u))}n{L(9(){c.A({x:'r%',y:'1.0'},3.q)},(r+u))}u+=1u;i++})}n 6(3.k=='2t'||3.k=='1F'||4.o=='1F'||3.k=='17'||4.o=='17'){b u=0;b i=0;b h=$('.7-c',5);6(3.k=='17'||4.o=='17')h=$('.7-c',5).1e();h.E(9(){b c=$(g);c.e('23','O');6(i==3.h-1){L(9(){c.A({x:'r%',y:'1.0'},3.q,'',9(){5.18('7:Z')})},(r+u))}n{L(9(){c.A({x:'r%',y:'1.0'},3.q)},(r+u))}u+=1u;i++})}n 6(3.k=='1E'||3.k=='2u'||4.o=='1E'||3.k=='12'||4.o=='12'){b u=0;b i=0;b v=0;b h=$('.7-c',5);6(3.k=='12'||4.o=='12')h=$('.7-c',5).1e();h.E(9(){b c=$(g);6(i==0){c.e('1G','O');i++}n{c.e('23','O');i=0}6(v==3.h-1){L(9(){c.A({x:'r%',y:'1.0'},3.q,'',9(){5.18('7:Z')})},(r+u))}n{L(9(){c.A({x:'r%',y:'1.0'},3.q)},(r+u))}u+=1u;v++})}n 6(3.k=='1D'||4.o=='1D'){b u=0;b i=0;$('.7-c',5).E(9(){b c=$(g);b 1H=c.w();c.e({1G:'O',x:'r%',w:'O'});6(i==3.h-1){L(9(){c.A({w:1H,y:'1.0'},3.q,'',9(){5.18('7:Z')})},(r+u))}n{L(9(){c.A({w:1H,y:'1.0'},3.q)},(r+u))}u+=1u;i++})}n 6(3.k=='1r'||4.o=='1r'){b i=0;$('.7-c',5).E(9(){$(g).e('x','r%');6(i==3.h-1){$(g).A({y:'1.0'},(3.q*2),'',9(){5.18('7:Z')})}n{$(g).A({y:'1.0'},(3.q*2))}i++})}}};$.1f.1q.2c={k:'1t',h:15,q:2x,1m:2w,1a:0,T:Q,2d:Q,M:Q,20:m,1Q:m,1R:'.1O',1P:'2v.1O',1M:Q,1T:Q,1i:m,1Y:0.8,1W:9(){},1U:9(){},1V:9(){}};$.1f.1e=[].1e})(2s);",62,167,"|||settings|vars|slider|if|nivo||function||var|slice|kids|css|currentSlide|this|slices||child|effect|timer|false|else|randAnim||animSpeed|100|attr|currentImage|timeBuff||width|height|opacity|class|animate|img|div|src|each|nivoRun|sliceWidth|caption|return|append|is|setTimeout|controlNav|running|0px|display|true|no|clearInterval|directionNav|totalSlides|url|background|Math|repeat|animFinished|anims|rel|sliceUpDownLeft|px|sliceDownLeft||title|sliceUpLeft|trigger|nudge|startSlide|nivoControl|childWidth|childHeight|reverse|fn|find|none|manualAdvance|length|paused|control|pauseTime|addClass|active|link|nivoSlider|fade|first|random|50|setInterval|block|fadeIn|html|call|next|eq|prev|fold|sliceUpDown|sliceUpRight|top|origWidth|click|live|sliceDownRight|event|keyboardNav|stop|jpg|controlNavThumbsReplace|controlNavThumbsFromRel|controlNavThumbsSearch|data|pauseOnHover|afterChange|slideshowEnd|beforeChange|options|captionOpacity|keyCode|controlNavThumbs|left|fadeOut|bottom|hide|hover|floor|round|alt|nextNav|prevNav|for|defaults|directionNavHide|hasClass|Prev|relative|position|extend|children|imageLink|show|Next|replace|indexOf|sliceDown|window|split|jQuery|sliceUp|sliceUpDownRight|_thumb|3000|500|undefined|trim|keypress|Array|37|39|bind|removeClass|new".split("|"),0,{})),function(a,b){function p(){var a=c.errorInfo,b=c.plugins,d,f,g,h,i,j,k,l;for(var m=0;m<c.gallery.length;++m){d=c.gallery[m],f=!1,g=null;switch(d.player){case"flv":case"swf":b.fla||(g="fla");break;case"qt":b.qt||(g="qt");break;case"wmp":c.isMac?b.qt&&b.f4m?d.player="qt":g="qtf4m":b.wmp||(g="wmp");break;case"qtwmp":b.qt?d.player="qt":b.wmp?d.player="wmp":g="qtwmp"}if(g)if(c.options.handleUnsupported=="link"){switch(g){case"qtf4m":i="shared",j=[a.qt.url,a.qt.name,a.f4m.url,a.f4m.name];break;case"qtwmp":i="either",j=[a.qt.url,a.qt.name,a.wmp.url,a.wmp.name];break;default:i="single",j=[a[g].url,a[g].name]}d.player="html",d.content='<div class="sb-message">'+z(c.lang.errors[i],j)+"</div>"}else f=!0;else if(d.player=="inline")h=e.exec(d.content),h?(k=B(h[1]),k?d.content=k.innerHTML:f=!0):f=!0;else if(d.player=="swf"||d.player=="flv")l=d.options&&d.options.flashVersion||c.options.flashVersion,c.flash&&!c.flash.hasFlashPlayerVersion(l)&&(d.width=310,d.height=177);f&&(c.gallery.splice(m,1),m<c.current?--c.current:m==c.current&&(c.current=m>0?m-1:m),--m)}}function q(a){if(!c.options.enableKeys)return;(a?K:L)(document,"keydown",r)}function r(a){if(a.metaKey||a.shiftKey||a.altKey||a.ctrlKey)return;var b=J(a),d;switch(b){case 81:case 88:case 27:d=c.close;break;case 37:d=c.previous;break;case 39:d=c.next;break;case 32:d=typeof o=="number"?c.pause:c.play}d&&(I(a),d())}function s(a){q(!1);var b=c.getCurrent(),d=b.player=="inline"?"html":b.player;if(typeof c[d]!="function")throw"unknown player "+d;a&&(c.player.remove(),c.revertOptions(),c.applyOptions(b.options||{})),c.player=new c[d](b,c.playerId);if(c.gallery.length>1){var e=c.gallery[c.current+1]||c.gallery[0];if(e.player=="img"){var f=new Image;f.src=e.content}var g=c.gallery[c.current-1]||c.gallery[c.gallery.length-1];if(g.player=="img"){var h=new Image;h.src=g.content}}c.skin.onLoad(a,t)}function t(){if(!j)return;if(typeof c.player.ready!="undefined")var a=setInterval(function(){j?c.player.ready&&(clearInterval(a),a=null,c.skin.onReady(u)):(clearInterval(a),a=null)},10);else c.skin.onReady(u)}function u(){if(!j)return;c.player.append(c.skin.body,c.dimensions),c.skin.onShow(v)}function v(){if(!j)return;c.player.onLoad&&c.player.onLoad(),c.options.onFinish(c.getCurrent()),c.isPaused()||c.play(),q(!0)}function w(){return(new Date).getTime()}function x(a,b){for(var c in b)a[c]=b[c];return a}function y(a,b){var c=0,d=a.length;for(var e=a[0];c<d&&b.call(e,c,e)!==!1;e=a[++c]);}function z(a,b){return a.replace(/\{(\w+?)\}/g,function(a,c){return b[c]})}function A(){}function B(a){return document.getElementById(a)}function C(a){a.parentNode.removeChild(a)}function F(){var a=document.body,b=document.createElement("div");D=typeof b.style.opacity=="string",b.style.position="fixed",b.style.margin=0,b.style.top="20px",a.appendChild(b,a.firstChild),E=b.offsetTop==20,a.removeChild(b)}function G(a){return a.target}function H(a){return[a.pageX,a.pageY]}function I(a){a.preventDefault()}function J(a){return a.keyCode}function K(a,b,c){jQuery(a).bind(b,c)}function L(a,b,c){jQuery(a).unbind(b,c)}function O(){if(M)return;try{document.documentElement.doScroll("left")}catch(a){setTimeout(O,1);return}c.load()}function P(){if(document.readyState==="complete")return c.load();if(document.addEventListener)document.addEventListener("DOMContentLoaded",N,!1),a.addEventListener("load",c.load,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",N),a.attachEvent("onload",c.load);var b=!1;try{b=a.frameElement===null}catch(d){}document.documentElement.doScroll&&b&&O()}}function W(a){c.open(this),c.gallery.length&&I(a)}function ba(){Z={x:0,y:0,startX:null,startY:null}}function bb(){var a=c.dimensions;x($.style,{height:a.innerHeight+"px",width:a.innerWidth+"px"})}function bc(){ba();var a=["position:absolute","cursor:"+(c.isGecko?"-moz-grab":"move"),"background-color:"+(c.isIE?"#fff;filter:alpha(opacity=0)":"transparent")].join(";");c.appendHTML(c.skin.body,'<div id="'+Y+'" style="'+a+'"></div>'),$=B(Y),bb(),K($,"mousedown",be)}function bd(){$&&(L($,"mousedown",be),C($),$=null),_=null}function be(a){I(a);var b=H(a);Z.startX=b[0],Z.startY=b[1],_=B(c.player.id),K(document,"mousemove",bf),K(document,"mouseup",bg),c.isGecko&&($.style.cursor="-moz-grabbing")}function bf(a){var b=c.player,d=c.dimensions,e=H(a),f=e[0]-Z.startX;Z.startX+=f,Z.x=Math.max(Math.min(0,Z.x+f),d.innerWidth-b.width);var g=e[1]-Z.startY;Z.startY+=g,Z.y=Math.max(Math.min(0,Z.y+g),d.innerHeight-b.height),x(_.style,{left:Z.x+"px",top:Z.y+"px"})}function bg(){L(document,"mousemove",bf),L(document,"mouseup",bg),c.isGecko&&($.style.cursor="-moz-grab")}function br(a,b,d,e,f){var g=b=="opacity",h=g?c.setOpacity:function(a,c){a.style[b]=""+c+"px"};if(e==0||!g&&!c.options.animate||g&&!c.options.animateFade){h(a,d),f&&f();return}var i=parseFloat(c.getStyle(a,b))||0,j=d-i;if(j==0){f&&f();return}e*=1e3;var k=w(),l=c.ease,m=k+e,n,o=setInterval(function(){n=w(),n>=m?(clearInterval(o),o=null,h(a,d),f&&f()):h(a,i+l((n-k)/e)*j)},10)}function bs(){bn.style.height=c.getWindowSize("Height")+"px",bn.style.width=c.getWindowSize("Width")+"px"}function bt(){bn.style.top=document.documentElement.scrollTop+"px",bn.style.left=document.documentElement.scrollLeft+"px"}function bu(a){a?y(bl,function(a,b){b[0].style.visibility=b[1]||""}):(bl=[],y(c.options.troubleElements,function(a,b){y(document.getElementsByTagName(b),function(a,b){bl.push([b,b.style.visibility]),b.style.visibility="hidden"})}))}function bv(a,b){var c=B("sb-nav-"+a);c&&(c.style.display=b?"":"none")}function bw(a,b){var d=B("sb-loading"),e=c.getCurrent().player,f=e=="img"||e=="html";if(a){c.setOpacity(d,0),d.style.display="block";var g=function(){c.clearOpacity(d),b&&b()};f?br(d,"opacity",1,c.options.fadeDuration,g):g()}else{var g=function(){d.style.display="none",c.clearOpacity(d),b&&b()};f?br(d,"opacity",0,c.options.fadeDuration,g):g()}}function bx(a){var b=c.getCurrent();B("sb-title-inner").innerHTML=b.title||"";var d,e,f,g,h;if(c.options.displayNav){d=!0;var i=c.gallery.length;i>1&&(c.options.continuous?e=h=!0:(e=i-1>c.current,h=c.current>0)),c.options.slideshowDelay>0&&c.hasNext()&&(g=!c.isPaused(),f=!g)}else d=e=f=g=h=!1;bv("close",d),bv("next",e),bv("play",f),bv("pause",g),bv("previous",h);var j="";if(c.options.displayCounter&&c.gallery.length>1){var i=c.gallery.length;if(c.options.counterType=="skip"){var k=0,l=i,m=parseInt(c.options.counterLimit)||0;if(m<i&&m>2){var n=Math.floor(m/2);k=c.current-n,k<0&&(k+=i),l=c.current+(m-n),l>i&&(l-=i)}while(k!=l)k==i&&(k=0),j+='<a onclick="Shadowbox.change('+k+');"',k==c.current&&(j+=' class="sb-counter-current"'),j+=">"+ ++k+"</a>"}else j=[c.current+1,c.lang.of,i].join(" ")}B("sb-counter").innerHTML=j,a()}function by(a){var b=B("sb-title-inner"),c=B("sb-info-inner"),d=.35;b.style.visibility=c.style.visibility="",b.innerHTML!=""&&br(b,"marginTop",0,d),br(c,"marginTop",0,d,a)}function bz(a,b){var c=B("sb-title"),d=B("sb-info"),e=c.offsetHeight,f=d.offsetHeight,g=B("sb-title-inner"),h=B("sb-info-inner"),i=a?.35:0;br(g,"marginTop",e,i),br(h,"marginTop",f*-1,i,function(){g.style.visibility=h.style.visibility="hidden",b()})}function bA(a,b,d,e){var f=B("sb-wrapper-inner"),g=d?c.options.resizeDuration:0;br(bp,"top",b,g),br(f,"height",a,g,e)}function bB(a,b,d,e){var f=d?c.options.resizeDuration:0;br(bp,"left",b,f),br(bp,"width",a,f,e)}function bC(a,b){var d=B("sb-body-inner"),a=parseInt(a),b=parseInt(b),e=bp.offsetHeight-d.offsetHeight,f=bp.offsetWidth-d.offsetWidth,g=bo.offsetHeight,h=bo.offsetWidth,i=parseInt(c.options.viewportPadding)||20,j=c.player&&c.options.handleOversize!="drag";return c.setDimensions(a,b,g,h,e,f,i,j)}var c={version:"3.0.3"},d=navigator.userAgent.toLowerCase();d.indexOf("windows")>-1||d.indexOf("win32")>-1?c.isWindows=!0:d.indexOf("macintosh")>-1||d.indexOf("mac os x")>-1?c.isMac=!0:d.indexOf("linux")>-1&&(c.isLinux=!0),c.isIE=d.indexOf("msie")>-1,c.isIE6=d.indexOf("msie 6")>-1,c.isIE7=d.indexOf("msie 7")>-1,c.isGecko=d.indexOf("gecko")>-1&&d.indexOf("safari")==-1,c.isWebKit=d.indexOf("applewebkit/")>-1;var e=/#(.+)$/,f=/^(light|shadow)box\[(.*?)\]/i,g=/\s*([a-z_]*?)\s*=\s*(.+)\s*/,h=/[0-9a-z]+$/i,i=/(.+\/)shadowbox\.js/i,j=!1,k=!1,l={},m=0,n,o;c.current=-1,c.dimensions=null,c.ease=function(a){return 1+Math.pow(a-1,3)},c.errorInfo={fla:{name:"Flash",url:"http://www.adobe.com/products/flashplayer/"},qt:{name:"QuickTime",url:"http://www.apple.com/quicktime/download/"},wmp:{name:"Windows Media Player",url:"http://www.microsoft.com/windows/windowsmedia/"},f4m:{name:"Flip4Mac",url:"http://www.flip4mac.com/wmv_download.htm"}},c.gallery=[],c.onReady=A,c.path=null,c.player=null,c.playerId="sb-player",c.options={animate:!0,animateFade:!0,autoplayMovies:!0,continuous:!1,enableKeys:!0,flashParams:{bgcolor:"#000000",allowfullscreen:!0},flashVars:{},flashVersion:"9.0.115",handleOversize:"resize",handleUnsupported:"link",onChange:A,onClose:A,onFinish:A,onOpen:A,showMovieControls:!0,skipSetup:!1,slideshowDelay:0,viewportPadding:20},c.getCurrent=function(){return c.current>-1?c.gallery[c.current]:null},c.hasNext=function(){return c.gallery.length>1&&(c.current!=c.gallery.length-1||c.options.continuous)},c.isOpen=function(){return j},c.isPaused=function(){return o=="pause"},c.applyOptions=function(a){l=x({},c.options),x(c.options,a)},c.revertOptions=function(){x(c.options,l)},c.init=function(a,b){if(k)return;k=!0,c.skin.options&&x(c.options,c.skin.options),a&&x(c.options,a);if(!c.path){var d,e=document.getElementsByTagName("script");for(var f=0,g=e.length;f<g;++f){d=i.exec(e[f].src);if(d){c.path=d[1];break}}}b&&(c.onReady=b),P()},c.open=function(a){if(j)return;var b=c.makeGallery(a);c.gallery=b[0],c.current=b[1],a=c.getCurrent();if(a==null)return;c.applyOptions(a.options||{}),p();if(c.gallery.length){a=c.getCurrent();if(c.options.onOpen(a)===!1)return;j=!0,c.skin.onOpen(a,s)}},c.close=function(){if(!j)return;j=!1,c.player&&(c.player.remove(),c.player=null),typeof o=="number"&&(clearTimeout(o),o=null),m=0,q(!1),c.options.onClose(c.getCurrent()),c.skin.onClose(),c.revertOptions()},c.play=function(){if(!c.hasNext())return;m||(m=c.options.slideshowDelay*1e3),m&&(n=w(),o=setTimeout(function(){m=n=0,c.next()},m),c.skin.onPlay&&c.skin.onPlay())},c.pause=function(){if(typeof o!="number")return;m=Math.max(0,m-(w()-n)),m&&(clearTimeout(o),o="pause",c.skin.onPause&&c.skin.onPause())},c.change=function(a){if(!(a in c.gallery)){if(!c.options.continuous)return;a=a<0?c.gallery.length+a:0;if(!(a in c.gallery))return}c.current=a,typeof o=="number"&&(clearTimeout(o),o=null,m=n=0),c.options.onChange(c.getCurrent()),s(!0)},c.next=function(){c.change(c.current+1)},c.previous=function(){c.change(c.current-1)},c.setDimensions=function(a,b,d,e,f,g,h,i){var j=a,k=b,l=2*h+f;a+l>d&&(a=d-l);var m=2*h+g;b+m>e&&(b=e-m);var n=(j-a)/j,o=(k-b)/k,p=n>0||o>0;return i&&p&&(n>o?b=Math.round(k/j*a):o>n&&(a=Math.round(j/k*b))),c.dimensions={height:a+f,width:b+g,innerHeight:a,innerWidth:b,top:Math.floor((d-(a+l))/2+h),left:Math.floor((e-(b+m))/2+h),oversized:p},c.dimensions},c.makeGallery=function(a){var b=[],d=-1;typeof a=="string"&&(a=[a]);if(typeof a.length=="number")y(a,function(a,c){c.content?b[a]=c:b[a]={content:c}}),d=0;else{if(a.tagName){var e=c.getCache(a);a=e?e:c.makeObject(a)}if(a.gallery){b=[];var f;for(var g in c.cache)f=c.cache[g],f.gallery&&f.gallery==a.gallery&&(d==-1&&f.content==a.content&&(d=b.length),b.push(f));d==-1&&(b.unshift(a),d=0)}else b=[a],d=0}return y(b,function(a,c){b[a]=x({},c)}),[b,d]},c.makeObject=function(a,b){var d={content:a.href,title:a.getAttribute("title")||"",link:a};b?(b=x({},b),y(["player","title","height","width","gallery"],function(a,c){typeof b[c]!="undefined"&&(d[c]=b[c],delete b[c])}),d.options=b):d.options={},d.player||(d.player=c.getPlayer(d.content));var e=a.getAttribute("rel");if(e){var h=e.match(f);h&&(d.gallery=escape(h[2])),y(e.split(";"),function(a,b){h=b.match(g),h&&(d[h[1]]=h[2])})}return d},c.getPlayer=function(a){if(a.indexOf("#")>-1&&a.indexOf(document.location.href)==0)return"inline";var b=a.indexOf("?");b>-1&&(a=a.substring(0,b));var d,e=a.match(h);e&&(d=e[0].toLowerCase());if(d){if(c.img&&c.img.ext.indexOf(d)>-1)return"img";if(c.swf&&c.swf.ext.indexOf(d)>-1)return"swf";if(c.flv&&c.flv.ext.indexOf(d)>-1)return"flv";if(c.qt&&c.qt.ext.indexOf(d)>-1)return c.wmp&&c.wmp.ext.indexOf(d)>-1?"qtwmp":"qt";if(c.wmp&&c.wmp.ext.indexOf(d)>-1)return"wmp"}return"iframe"},Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0;b=b||0,b<0&&(b+=c);for(;b<c;++b)if(b in this&&this[b]===a)return b;return-1});var D=!0,E=!0;c.getStyle=function(){var a=/opacity=([^)]*)/,b=document.defaultView&&document.defaultView.getComputedStyle;return function(c,d){var e;if(!D&&d=="opacity"&&c.currentStyle)return e=a.test(c.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"",e===""?"1":e;if(b){var f=b(c,null);f&&(e=f[d]),d=="opacity"&&e==""&&(e="1")}else e=c.currentStyle[d];return e}}(),c.appendHTML=function(a,b){if(a.insertAdjacentHTML)a.insertAdjacentHTML("BeforeEnd",b);else if(a.lastChild){var c=a.ownerDocument.createRange();c.setStartAfter(a.lastChild);var d=c.createContextualFragment(b);a.appendChild(d)}else a.innerHTML=b},c.getWindowSize=function(a){return document.compatMode==="CSS1Compat"?document.documentElement["client"+a]:document.body["client"+a]},c.setOpacity=function(a,b){var c=a.style;D?c.opacity=b==1?"":b:(c.zoom=1,b==1?typeof c.filter=="string"&&/alpha/i.test(c.filter)&&(c.filter=c.filter.replace(/\s*[\w\.]*alpha\([^\)]*\);?/gi,"")):c.filter=(c.filter||"").replace(/\s*[\w\.]*alpha\([^\)]*\)/gi,"")+" alpha(opacity="+b*100+")")},c.clearOpacity=function(a){c.setOpacity(a,1)},jQuery.fn.shadowbox=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.extend({},a||{},jQuery.metadata?b.metadata():jQuery.meta?b.data():{}),d=this.className||"";c.width=parseInt((d.match(/w:(\d+)/)||[])[1])||c.width,c.height=parseInt((d.match(/h:(\d+)/)||[])[1])||c.height,Shadowbox.setup(b,c)})};var M=!1,N;document.addEventListener?N=function(){document.removeEventListener("DOMContentLoaded",N,!1),c.load()}:document.attachEvent&&(N=function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",N),c.load())}),c.load=function(){if(M)return;if(!document.body)return setTimeout(c.load,13);M=!0,F(),c.onReady(),c.options.skipSetup||c.setup(),c.skin.init()},c.plugins={};if(navigator.plugins&&navigator.plugins.length){var Q=[];y(navigator.plugins,function(a,b){Q.push(b.name)}),Q=Q.join(",");var R=Q.indexOf("Flip4Mac")>-1;c.plugins={fla:Q.indexOf("Shockwave Flash")>-1,qt:Q.indexOf("QuickTime")>-1,wmp:!R&&Q.indexOf("Windows Media")>-1,f4m:R}}else{var S=function(a){var b;try{b=new ActiveXObject(a)}catch(c){}return!!b};c.plugins={fla:S("ShockwaveFlash.ShockwaveFlash"),qt:S("QuickTime.QuickTime"),wmp:S("wmplayer.ocx"),f4m:!1}}var T=/^(light|shadow)box/i,U="shadowboxCacheKey",V=1;c.cache={},c.select=function(a){var b=[];if(!a){var d;y(document.getElementsByTagName("a"),function(a,c){d=c.getAttribute("rel"),d&&T.test(d)&&b.push(c)})}else{var e=a.length;if(e)if(typeof a=="string")c.find&&(b=c.find(a));else if(e==2&&typeof a[0]=="string"&&a[1].nodeType)c.find&&(b=c.find(a[0],a[1]));else for(var f=0;f<e;++f)b[f]=a[f];else b.push(a)}return b},c.setup=function(a,b){y(c.select(a),function(a,d){c.addCache(d,b)})},c.teardown=function(a){y(c.select(a),function(a,b){c.removeCache(b)})},c.addCache=function(a,d){var e=a[U];e==b&&(e=V++,a[U]=e,K(a,"click",W)),c.cache[e]=c.makeObject(a,d)},c.removeCache=function(a){L(a,"click",W),delete c.cache[a[U]],a[U]=null},c.getCache=function(a){var b=a[U];return b in c.cache&&c.cache[b]},c.clearCache=function(){for(var a in c.cache)c.removeCache(c.cache[a].link);c.cache={}},c.find=function(){function n(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=n(c.childNodes));return b}function o(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){i=i[a];var j=!1;while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}function p(a,b,c,d,e,f){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){j=j[a];var k=!1;while(j){if(j.sizcache===c){k=d[j.sizset];break}if(j.nodeType===1){f||(j.sizcache=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(g.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=0,d=Object.prototype.toString,e=!1,f=!0;[0,0].sort(function(){return f=!1,0});var g=function(b,c,e,f){e=e||[];var j=c=c||document;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!b||typeof b!="string")return e;var l=[],m,n,o,p,t=!0,u=r(c),v=b;while((a.exec(""),m=a.exec(v))!==null){v=m[3],l.push(m[1]);if(m[2]){p=m[3];break}}if(l.length>1&&i.exec(b))if(l.length===2&&h.relative[l[0]])n=s(l[0]+l[1],c);else{n=h.relative[l[0]]?[c]:g(l.shift(),c);while(l.length)b=l.shift(),h.relative[b]&&(b+=l.shift()),n=s(b,n)}else{if(!f&&l.length>1&&c.nodeType===9&&!u&&h.match.ID.test(l[0])&&!h.match.ID.test(l[l.length-1])){var w=g.find(l.shift(),c,u);c=w.expr?g.filter(w.expr,w.set)[0]:w.set[0]}if(c){var w=f?{expr:l.pop(),set:k(f)}:g.find(l.pop(),l.length!==1||l[0]!=="~"&&l[0]!=="+"||!c.parentNode?c:c.parentNode,u);n=w.expr?g.filter(w.expr,w.set):w.set,l.length>0?o=k(n):t=!1;while(l.length){var x=l.pop(),y=x;h.relative[x]?y=l.pop():x="",y==null&&(y=c),h.relative[x](o,y,u)}}else o=l=[]}o||(o=n);if(!o)throw"Syntax error, unrecognized expression: "+(x||b);if(d.call(o)==="[object Array]")if(!t)e.push.apply(e,o);else if(c&&c.nodeType===1)for(var z=0;o[z]!=null;z++)o[z]&&(o[z]===!0||o[z].nodeType===1&&q(c,o[z]))&&e.push(n[z]);else for(var z=0;o[z]!=null;z++)o[z]&&o[z].nodeType===1&&e.push(n[z]);else k(o,e);return p&&(g(p,j,e,f),g.uniqueSort(e)),e};g.uniqueSort=function(a){if(m){e=f,a.sort(m);if(e)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},g.matches=function(a,b){return g(a,null,null,b)},g.find=function(a,b,c){var d,e;if(!a)return[];for(var f=0,g=h.order.length;f<g;f++){var i=h.order[f],e;if(e=h.leftMatch[i].exec(a)){var j=e[1];e.splice(1,1);if(j.substr(j.length-1)!=="\\"){e[1]=(e[1]||"").replace(/\\/g,""),d=h.find[i](e,b,c);if(d!=null){a=a.replace(h.match[i],"");break}}}}return d||(d=b.getElementsByTagName("*")),{set:d,expr:a}},g.filter=function(a,c,d,e){var f=a,g=[],i=c,j,k,l=c&&c[0]&&r(c[0]);while(a&&c.length){for(var m in h.filter)if((j=h.match[m].exec(a))!=null){var n=h.filter[m],o,p;k=!1,i===g&&(g=[]);if(h.preFilter[m]){j=h.preFilter[m](j,i,d,g,e,l);if(!j)k=o=!0;else if(j===!0)continue}if(j)for(var q=0;(p=i[q])!=null;q++)if(p){o=n(p,j,q,i);var s=e^!!o;d&&o!=null?s?k=!0:i[q]=!1:s&&(g.push(p),k=!0)}if(o!==b){d||(i=g),a=a.replace(h.match[m],"");if(!k)return[];break}}if(a===f){if(k==null)throw"Syntax error, unrecognized expression: "+a;break}f=a}return i};var h=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!/\W/.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,h=a.length,i;f<h;f++)if(i=a[f]){while((i=i.previousSibling)&&i.nodeType!==1);a[f]=e||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}e&&g.filter(b,a,!0)},">":function(a,b){var c=typeof b=="string";if(c&&!/\W/.test(b)){b=b.toLowerCase();for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f){var h=f.parentNode;a[d]=h.nodeName.toLowerCase()===b?h:!1}}}else{for(var d=0,e=a.length;d<e;d++){var f=a[d];f&&(a[d]=c?f.parentNode:f.parentNode===b)}c&&g.filter(b,a,!0)}},"":function(a,b,d){var e=c++,f=p;if(typeof b=="string"&&!/\W/.test(b)){var g=b=b.toLowerCase();f=o}f("parentNode",b,e,a,g,d)},"~":function(a,b,d){var e=c++,f=p;if(typeof b=="string"&&!/\W/.test(b)){var g=b=b.toLowerCase();f=o}f("previousSibling",b,e,a,g,d)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a,b){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}return a[0]=c++,a},ATTR:function(a,b,c,d,e,f){var g=a[1].replace(/\\/g,"");return!f&&h.attrMap[g]&&(a[1]=h.attrMap[g]),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var i=g.filter(b[3],c,d,!0^f);return d||e.push.apply(e,i),!1}b[3]=g(b[3],null,null,c)}else if(h.match.POS.test(b[0])||h.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!g(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=h.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var c=0,i=g.length;c<i;c++)if(g[c]===a)return!1;return!0}throw"Syntax error, unrecognized expression: "+e},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=h.attrHandle[c]?h.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=h.setFilters[e];if(f)return f(a,c,b,d)}}},i=h.match.POS;for(var j in h.match)h.match[j]=new RegExp(h.match[j].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[j]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[j].source);var k=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(l){k=function(a,b){var c=b||[];if(d.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length=="number")for(var e=0,f=a.length;e<f;e++)c.push(a[e]);else for(var e=0;a[e];e++)c.push(a[e]);return c}}var m;document.documentElement.compareDocumentPosition?m=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a==b&&(e=!0),a.compareDocumentPosition?-1:1;var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;return c===0&&(e=!0),c}:"sourceIndex"in document.documentElement?m=function(a,b){if(!a.sourceIndex||!b.sourceIndex)return a==b&&(e=!0),a.sourceIndex?-1:1;var c=a.sourceIndex-b.sourceIndex;return c===0&&(e=!0),c}:document.createRange&&(m=function(a,b){if(!a.ownerDocument||!b.ownerDocument)return a==b&&(e=!0),a.ownerDocument?-1:1;var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.setStart(a,0),c.setEnd(a,0),d.setStart(b,0),d.setEnd(b,0);var f=c.compareBoundaryPoints(Range.START_TO_END,d);return f===0&&(e=!0),f}),function(){var a=document.createElement("div"),c="script"+(new Date).getTime();a.innerHTML="<a name='"+c+"'/>";var d=document.documentElement;d.insertBefore(a,d.firstChild),document.getElementById(c)&&(h.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},h.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=document.createElement("div");a.appendChild(document.createComment("")),a.getElementsByTagName
("*").length>0&&(h.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(h.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;g=function(b,c,d,e){c=c||document;if(!e&&c.nodeType===9&&!r(c))try{return k(c.querySelectorAll(b),d)}catch(f){}return a(b,c,d,e)};for(var c in a)g[c]=a[c];b=null}(),function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}();var q=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):!0)},r=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1},s=function(a,b){var c=[],d="",e,f=b.nodeType?[b]:b;while(e=h.match.PSEUDO.exec(a))d+=e[0],a=a.replace(h.match.PSEUDO,"");a=h.relative[a]?a+"*":a;for(var i=0,j=f.length;i<j;i++)g(a,f[i],c);return g.filter(d,c)};return g}(),c.flash=function(){var c=function(){function y(){q.readyState=="complete"&&(q.parentNode.removeChild(q),z())}function z(){if(u)return;if(w.ie&&w.win){var a=M("span");try{var b=k.getElementsByTagName("body")[0].appendChild(a);b.parentNode.removeChild(b)}catch(c){return}}u=!0,r&&(clearInterval(r),r=null);var d=m.length;for(var e=0;e<d;e++)m[e]()}function A(a){u?a():m[m.length]=a}function B(a){if(typeof j.addEventListener!=d)j.addEventListener("load",a,!1);else if(typeof k.addEventListener!=d)k.addEventListener("load",a,!1);else if(typeof j.attachEvent!=d)N(j,"onload",a);else if(typeof j.onload=="function"){var b=j.onload;j.onload=function(){b(),a()}}else j.onload=a}function C(){var a=n.length;for(var b=0;b<a;b++){var c=n[b].id;if(w.pv[0]>0){var d=L(c);d&&(n[b].width=d.getAttribute("width")?d.getAttribute("width"):"0",n[b].height=d.getAttribute("height")?d.getAttribute("height"):"0",O(n[b].swfVersion)?(w.webkit&&w.webkit<312&&D(d),Q(c,!0)):n[b].expressInstall&&!v&&O("6.0.65")&&(w.win||w.mac)?E(n[b]):F(d))}else Q(c,!0)}}function D(a){var b=a.getElementsByTagName(e)[0];if(b){var c=M("embed"),d=b.attributes;if(d){var f=d.length;for(var g=0;g<f;g++)d[g].nodeName=="DATA"?c.setAttribute("src",d[g].nodeValue):c.setAttribute(d[g].nodeName,d[g].nodeValue)}var h=b.childNodes;if(h){var i=h.length;for(var j=0;j<i;j++)h[j].nodeType==1&&h[j].nodeName=="PARAM"&&c.setAttribute(h[j].getAttribute("name"),h[j].getAttribute("value"))}a.parentNode.replaceChild(c,a)}}function E(a){v=!0;var b=L(a.id);if(b){if(a.altContentId){var c=L(a.altContentId);c&&(s=c,t=a.altContentId)}else s=G(b);!/%$/.test(a.width)&&parseInt(a.width,10)<310&&(a.width="310"),!/%$/.test(a.height)&&parseInt(a.height,10)<137&&(a.height="137"),k.title=k.title.slice(0,47)+" - Flash Player Installation";var d=w.ie&&w.win?"ActiveX":"PlugIn",e=k.title,f="MMredirectURL="+j.location+"&MMplayerType="+d+"&MMdoctitle="+e,g=a.id;if(w.ie&&w.win&&b.readyState!=4){var h=M("div");g+="SWFObjectNew",h.setAttribute("id",g),b.parentNode.insertBefore(h,b),b.style.display="none";var l=function(){b.parentNode.removeChild(b)};N(j,"onload",l)}H({data:a.expressInstall,id:i,width:a.width,height:a.height},{flashvars:f},g)}}function F(a){if(w.ie&&w.win&&a.readyState!=4){var b=M("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(G(a),b),a.style.display="none";var c=function(){a.parentNode.removeChild(a)};N(j,"onload",c)}else a.parentNode.replaceChild(G(a),a)}function G(a){var b=M("div");if(w.win&&w.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(e)[0];if(c){var d=c.childNodes;if(d){var f=d.length;for(var g=0;g<f;g++)(d[g].nodeType!=1||d[g].nodeName!="PARAM")&&d[g].nodeType!=8&&b.appendChild(d[g].cloneNode(!0))}}}return b}function H(a,b,c){var f,g=L(c);if(g){typeof a.id==d&&(a.id=c);if(w.ie&&w.win){var i="";for(var j in a)a[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?b.movie=a[j]:j.toLowerCase()=="styleclass"?i+=' class="'+a[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+a[j]+'"'));var k="";for(var l in b)b[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+b[l]+'" />');g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",o[o.length]=a.id,f=L(a.id)}else if(w.webkit&&w.webkit<312){var m=M("embed");m.setAttribute("type",h);for(var n in a)a[n]!=Object.prototype[n]&&(n.toLowerCase()=="data"?m.setAttribute("src",a[n]):n.toLowerCase()=="styleclass"?m.setAttribute("class",a[n]):n.toLowerCase()!="classid"&&m.setAttribute(n,a[n]));for(var p in b)b[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&m.setAttribute(p,b[p]);g.parentNode.replaceChild(m,g),f=m}else{var q=M(e);q.setAttribute("type",h);for(var r in a)a[r]!=Object.prototype[r]&&(r.toLowerCase()=="styleclass"?q.setAttribute("class",a[r]):r.toLowerCase()!="classid"&&q.setAttribute(r,a[r]));for(var s in b)b[s]!=Object.prototype[s]&&s.toLowerCase()!="movie"&&I(q,s,b[s]);g.parentNode.replaceChild(q,g),f=q}}return f}function I(a,b,c){var d=M("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function J(a){var b=L(a);b&&(b.nodeName=="OBJECT"||b.nodeName=="EMBED")&&(w.ie&&w.win?b.readyState==4?K(a):j.attachEvent("onload",function(){K(a)}):b.parentNode.removeChild(b))}function K(a){var b=L(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function L(a){var b=null;try{b=k.getElementById(a)}catch(c){}return b}function M(a){return k.createElement(a)}function N(a,b,c){a.attachEvent(b,c),p[p.length]=[a,b,c]}function O(a){var b=w.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function P(a,b){if(w.ie&&w.mac)return;var c=k.getElementsByTagName("head")[0],f=M("style");f.setAttribute("type","text/css"),f.setAttribute("media","screen"),(!w.ie||!w.win)&&typeof k.createTextNode!=d&&f.appendChild(k.createTextNode(a+" {"+b+"}")),c.appendChild(f);if(w.ie&&w.win&&typeof k.styleSheets!=d&&k.styleSheets.length>0){var g=k.styleSheets[k.styleSheets.length-1];typeof g.addRule==e&&g.addRule(a,b)}}function Q(a,b){var c=b?"visible":"hidden";u&&L(a)?L(a).style.visibility=c:P("#"+a,"visibility:"+c)}function R(a){var b=/[\\\"<>\.;]/,c=b.exec(a)!=null;return c?encodeURIComponent(a):a}var d="undefined",e="object",f="Shockwave Flash",g="ShockwaveFlash.ShockwaveFlash",h="application/x-shockwave-flash",i="SWFObjectExprInst",j=a,k=document,l=navigator,m=[],n=[],o=[],p=[],q,r=null,s=null,t=null,u=!1,v=!1,w=function(){var a=typeof k.getElementById!=d&&typeof k.getElementsByTagName!=d&&typeof k.createElement!=d,b=[0,0,0],c=null;if(typeof l.plugins!=d&&typeof l.plugins[f]==e)c=l.plugins[f].description,c&&(typeof l.mimeTypes==d||!l.mimeTypes[h]||!!l.mimeTypes[h].enabledPlugin)&&(c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),b[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),b[2]=/r/.test(c)?parseInt(c.replace(/^.*r(.*)$/,"$1"),10):0);else if(typeof j.ActiveXObject!=d){var i=null,m=!1;try{i=new ActiveXObject(g+".7")}catch(n){try{i=new ActiveXObject(g+".6"),b=[6,0,21],i.AllowScriptAccess="always"}catch(n){b[0]==6&&(m=!0)}if(!m)try{i=new ActiveXObject(g)}catch(n){}}if(!m&&i)try{c=i.GetVariable("$version"),c&&(c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)])}catch(n){}}var o=l.userAgent.toLowerCase(),p=l.platform.toLowerCase(),q=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,r=!1,s=p?/win/.test(p):/win/.test(o),t=p?/mac/.test(p):/mac/.test(o);return{w3cdom:a,pv:b,webkit:q,ie:r,win:s,mac:t}}(),x=function(){if(!w.w3cdom)return;A(C);if(w.ie&&w.win)try{k.write("<script id=__ie_ondomload defer=true src=//:></script>"),q=L("__ie_ondomload"),q&&N(q,"onreadystatechange",y)}catch(a){}w.webkit&&typeof k.readyState!=d&&(r=setInterval(function(){/loaded|complete/.test(k.readyState)&&z()},10)),typeof k.addEventListener!=d&&k.addEventListener("DOMContentLoaded",z,null),B(z)}(),S=function(){w.ie&&w.win&&a.attachEvent("onunload",function(){var a=p.length;for(var b=0;b<a;b++)p[b][0].detachEvent(p[b][1],p[b][2]);var d=o.length;for(var e=0;e<d;e++)J(o[e]);for(var f in w)w[f]=null;w=null;for(var g in c)c[g]=null;c=null})}();return{registerObject:function(a,b,c){if(!w.w3cdom||!a||!b)return;var d={};d.id=a,d.swfVersion=b,d.expressInstall=c?c:!1,n[n.length]=d,Q(a,!1)},getObjectById:function(a){var b=null;if(w.w3cdom){var c=L(a);if(c){var f=c.getElementsByTagName(e)[0];!f||f&&typeof c.SetVariable!=d?b=c:typeof f.SetVariable!=d&&(b=f)}}return b},embedSWF:function(a,b,c,f,g,h,i,j,k){if(!w.w3cdom||!a||!b||!c||!f||!g)return;c+="",f+="";if(O(g)){Q(b,!1);var l={};if(k&&typeof k===e)for(var m in k)k[m]!=Object.prototype[m]&&(l[m]=k[m]);l.data=a,l.width=c,l.height=f;var n={};if(j&&typeof j===e)for(var o in j)j[o]!=Object.prototype[o]&&(n[o]=j[o]);if(i&&typeof i===e)for(var p in i)i[p]!=Object.prototype[p]&&(typeof n.flashvars!=d?n.flashvars+="&"+p+"="+i[p]:n.flashvars=p+"="+i[p]);A(function(){H(l,n,b),l.id==b&&Q(b,!0)})}else h&&!v&&O("6.0.65")&&(w.win||w.mac)&&(v=!0,Q(b,!1),A(function(){var a={};a.id=a.altContentId=b,a.width=c,a.height=f,a.expressInstall=h,E(a)}))},getFlashPlayerVersion:function(){return{major:w.pv[0],minor:w.pv[1],release:w.pv[2]}},hasFlashPlayerVersion:O,createSWF:function(a,c,d){return w.w3cdom?H(a,c,d):b},removeSWF:function(a){w.w3cdom&&J(a)},createCSS:function(a,b){w.w3cdom&&P(a,b)},addDomLoadEvent:A,addLoadEvent:B,getQueryParamValue:function(a){var b=k.location.search||k.location.hash;if(a==null)return R(b);if(b){var c=b.substring(1).split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return R(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(v&&s){var a=L(i);a&&(a.parentNode.replaceChild(s,a),t&&(Q(t,!0),w.ie&&w.win&&(s.style.display="block")),s=null,t=null,v=!1)}}}}();return c}(),c.lang={code:"en",of:"of",loading:"loading",cancel:"Cancel",next:"Next",previous:"Previous",play:"Play",pause:"Pause",close:"Close",errors:{single:'You must install the <a href="{0}">{1}</a> browser plugin to view this content.',shared:'You must install both the <a href="{0}">{1}</a> and <a href="{2}">{3}</a> browser plugins to view this content.',either:'You must install either the <a href="{0}">{1}</a> or the <a href="{2}">{3}</a> browser plugin to view this content.'}};var X,Y="sb-drag-proxy",Z,$,_;c.img=function(a,b){this.obj=a,this.id=b,this.ready=!1;var c=this;X=new Image,X.onload=function(){c.height=a.height?parseInt(a.height,10):X.height,c.width=a.width?parseInt(a.width,10):X.width,c.ready=!0,X.onload=null,X=null},X.src=a.content},c.img.ext=["bmp","gif","jpg","jpeg","png"],c.img.prototype={append:function(a,b){var d=document.createElement("img");d.id=this.id,d.src=this.obj.content,d.style.position="absolute";var e,f;b.oversized&&c.options.handleOversize=="resize"?(e=b.innerHeight,f=b.innerWidth):(e=this.height,f=this.width),d.setAttribute("height",e),d.setAttribute("width",f),a.appendChild(d)},remove:function(){var a=B(this.id);a&&C(a),bd(),X&&(X.onload=null,X=null)},onLoad:function(){var a=c.dimensions;a.oversized&&c.options.handleOversize=="drag"&&bc()},onWindowResize:function(){var a=c.dimensions;switch(c.options.handleOversize){case"resize":var b=B(this.id);b.height=a.innerHeight,b.width=a.innerWidth;break;case"drag":if(_){var d=parseInt(c.getStyle(_,"top")),e=parseInt(c.getStyle(_,"left"));d+this.height<a.innerHeight&&(_.style.top=a.innerHeight-this.height+"px"),e+this.width<a.innerWidth&&(_.style.left=a.innerWidth-this.width+"px"),bb()}}}},c.iframe=function(a,b){this.obj=a,this.id=b;var c=B("sb-overlay");this.height=a.height?parseInt(a.height,10):c.offsetHeight,this.width=a.width?parseInt(a.width,10):c.offsetWidth},c.iframe.prototype={append:function(a,b){var d='<iframe id="'+this.id+'" name="'+this.id+'" height="100%" width="100%" frameborder="0" marginwidth="0" marginheight="0" style="visibility:hidden" onload="this.style.visibility=\'visible\'" scrolling="auto"';c.isIE&&(d+=' allowtransparency="true"',c.isIE6&&(d+=" src=\"javascript:false;document.write('');\"")),d+="></iframe>",a.innerHTML=d},remove:function(){var b=B(this.id);b&&(C(b),c.isGecko&&delete a.frames[this.id])},onLoad:function(){var b=c.isIE?B(this.id).contentWindow:a.frames[this.id];b.location.href=this.obj.content}},c.html=function(a,b){this.obj=a,this.id=b,this.height=a.height?parseInt(a.height,10):300,this.width=a.width?parseInt(a.width,10):500},c.html.prototype={append:function(a,b){var c=document.createElement("div");c.id=this.id,c.className="html",c.innerHTML=this.obj.content,a.appendChild(c)},remove:function(){var a=B(this.id);a&&C(a)}},c.swf=function(a,b){this.obj=a,this.id=b,this.height=a.height?parseInt(a.height,10):300,this.width=a.width?parseInt(a.width,10):300},c.swf.ext=["swf"],c.swf.prototype={append:function(a,b){var d=document.createElement("div");d.id=this.id,a.appendChild(d);var e=b.innerHeight,f=b.innerWidth,g=this.obj.content,h=c.options.flashVersion,i=c.path+"expressInstall.swf",j=c.options.flashVars,k=c.options.flashParams;c.flash.embedSWF(g,this.id,f,e,h,i,j,k)},remove:function(){c.flash.expressInstallCallback(),c.flash.removeSWF(this.id)},onWindowResize:function(){var a=c.dimensions,b=B(this.id);b.height=a.innerHeight,b.width=a.innerWidth}};var bh=20;c.flv=function(a,b){this.obj=a,this.id=b,this.height=a.height?parseInt(a.height,10):300,c.options.showMovieControls&&(this.height+=bh),this.width=a.width?parseInt(a.width,10):300},c.flv.ext=["flv","m4v"],c.flv.prototype={append:function(a,b){var d=document.createElement("div");d.id=this.id,a.appendChild(d);var e=b.innerHeight,f=b.innerWidth,g=c.path+"player.swf",h=c.options.flashVersion,i=c.path+"expressInstall.swf",j=x({file:this.obj.content,height:e,width:f,autostart:c.options.autoplayMovies?"true":"false",controlbar:c.options.showMovieControls?"bottom":"none",backcolor:"0x000000",frontcolor:"0xCCCCCC",lightcolor:"0x557722"},c.options.flashVars),k=c.options.flashParams;c.flash.embedSWF(g,this.id,f,e,h,i,j,k)},remove:function(){c.flash.expressInstallCallback(),c.flash.removeSWF(this.id)},onWindowResize:function(){var a=c.dimensions,b=B(this.id);b.height=a.innerHeight,b.width=a.innerWidth}};var bi=16;c.qt=function(a,b){this.obj=a,this.id=b,this.height=a.height?parseInt(a.height,10):300,c.options.showMovieControls&&(this.height+=bi),this.width=a.width?parseInt(a.width,10):300},c.qt.ext=["dv","mov","moov","movie","mp4","avi","mpg","mpeg"],c.qt.prototype={append:function(a,b){var d=c.options,e=String(d.autoplayMovies),f=String(d.showMovieControls),g="<object",h={id:this.id,name:this.id,height:this.height,width:this.width,kioskmode:"true"};c.isIE?(h.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",h.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0"):(h.type="video/quicktime",h.data=this.obj.content);for(var i in h)g+=" "+i+'="'+h[i]+'"';g+=">";var j={src:this.obj.content,scale:"aspect",controller:f,autoplay:e};for(var k in j)g+='<param name="'+k+'" value="'+j[k]+'">';g+="</object>",a.innerHTML=g},remove:function(){try{document[this.id].Stop()}catch(a){}var b=B(this.id);b&&C(b)}};var bj=c.isIE?70:45;c.wmp=function(a,b){this.obj=a,this.id=b,this.height=a.height?parseInt(a.height,10):300,c.options.showMovieControls&&(this.height+=bj),this.width=a.width?parseInt(a.width,10):300},c.wmp.ext=["asf","avi","mpg","mpeg","wm","wmv"],c.wmp.prototype={append:function(a,b){var d=c.options,e=d.autoplayMovies?1:0,f='<object id="'+this.id+'" name="'+this.id+'" height="'+this.height+'" width="'+this.width+'"',g={autostart:d.autoplayMovies?1:0};c.isIE?(f+=' classid="clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6"',g.url=this.obj.content,g.uimode=d.showMovieControls?"full":"none"):(f+=' type="video/x-ms-wmv"',f+=' data="'+this.obj.content+'"',g.showcontrols=d.showMovieControls?1:0),f+=">";for(var h in g)f+='<param name="'+h+'" value="'+g[h]+'">';f+="</object>",a.innerHTML=f},remove:function(){if(c.isIE)try{a[this.id].controls.stop(),a[this.id].URL="movie"+w()+".wmv",a[this.id]=function(){}}catch(b){}var d=B(this.id);d&&setTimeout(function(){C(d)},10)}};var bk=!1,bl=[],bm=["sb-nav-close","sb-nav-next","sb-nav-play","sb-nav-pause","sb-nav-previous"],bn,bo,bp,bq=!0,bD={};bD.markup='<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>{loading}</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="{close}" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="{next}" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="{play}" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="{pause}" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="{previous}" onclick="Shadowbox.previous()"></a></div></div></div></div></div>',bD.options={animSequence:"sync",counterLimit:10,counterType:"default",displayCounter:!0,displayNav:!0,fadeDuration:.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:.5,resizeDuration:.35,showOverlay:!0,troubleElements:["select","object","embed","canvas"]},bD.init=function(){c.appendHTML(document.body,z(bD.markup,c.lang)),bD.body=B("sb-body-inner"),bn=B("sb-container"),bo=B("sb-overlay"),bp=B("sb-wrapper"),E||(bn.style.position="absolute");if(!D){var b,d,e=/url\("(.*\.png)"\)/;y(bm,function(a,f){b=B(f),b&&(d=c.getStyle(b,"backgroundImage").match(e),d&&(b.style.backgroundImage="none",b.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="+d[1]+",sizingMethod=scale);"))})}var f;K(a,"resize",function(){f&&(clearTimeout(f),f=null),j&&(f=setTimeout(bD.onWindowResize,10))})},bD.onOpen=function(b,d){bq=!1,bn.style.display="block",bs();var e=bC(c.options.initialHeight,c.options.initialWidth);bA(e.innerHeight,e.top),bB(e.width,e.left),c.options.showOverlay&&(bo.style.backgroundColor=c.options.overlayColor,c.setOpacity(bo,0),c.options.modal||K(bo,"click",c.close),bk=!0),E||(bt(),K(a,"scroll",bt)),bu(),bn.style.visibility="visible",bk?br(bo,"opacity",c.options.overlayOpacity,c.options.fadeDuration,d):d()},bD.onLoad=function(a,b){bw(!0);while(bD.body.firstChild)C(bD.body.firstChild);bz(a,function(){if(!j)return;a||(bp.style.visibility="visible"),bx(b)})},bD.onReady=function(a){if(!j)return;var b=c.player,d=bC(b.height,b.width),e=function(){by(a)};switch(c.options.animSequence){case"hw":bA(d.innerHeight,d.top,!0,function(){bB(d.width,d.left,!0,e)});break;case"wh":bB(d.width,d.left,!0,function(){bA(d.innerHeight,d.top,!0,e)});break;default:bB(d.width,d.left,!0),bA(d.innerHeight,d.top,!0,e)}},bD.onShow=function(a){bw(!1,a),bq=!0},bD.onClose=function(){E||L(a,"scroll",bt),L(bo,"click",c.close),bp.style.visibility="hidden";var b=function(){bn.style.visibility="hidden",bn.style.display="none",bu(!0)};bk?br(bo,"opacity",0,c.options.fadeDuration,b):b()},bD.onPlay=function(){bv("play",!1),bv("pause",!0)},bD.onPause=function(){bv("pause",!1),bv("play",!0)},bD.onWindowResize=function(){if(!bq)return;bs();var a=c.player,b=bC(a.height,a.width);bB(b.width,b.left),bA(b.innerHeight,b.top),a.onWindowResize&&a.onWindowResize()},c.skin=bD,a.Shadowbox=c}(window);var swfobject=function(){function A(){if(t)return;try{var a=i.getElementsByTagName("body")[0].appendChild(Q("span"));a.parentNode.removeChild(a)}catch(b){return}t=!0;var c=l.length;for(var d=0;d<c;d++)l[d]()}function B(a){t?a():l[l.length]=a}function C(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)R(h,"onload",b);else if(typeof h.onload=="function"){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function D(){k?E():F()}function E(){var c=i.getElementsByTagName("body")[0],d=Q(b);d.setAttribute("type",e);var f=c.appendChild(d);if(f){var g=0;(function(){if(typeof f.GetVariable!=a){var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),y.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(g<10){g++,setTimeout(arguments.callee,10);return}c.removeChild(d),f=null,F()})()}else F()}function F(){var b=m.length;if(b>0)for(var c=0;c<b;c++){var d=m[c].id,e=m[c].callbackFn,f={success:!1,id:d};if(y.pv[0]>0){var g=P(d);if(g)if(S(m[c].swfVersion)&&!(y.wk&&y.wk<312))U(d,!0),e&&(f.success=!0,f.ref=G(d),e(f));else if(m[c].expressInstall&&H()){var h={};h.data=m[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));I(h,i,d,e)}else J(g),e&&e(f)}else{U(d,!0);if(e){var n=G(d);n&&typeof n.SetVariable!=a&&(f.success=!0,f.ref=n),e(f)}}}}function G(c){var d=null,e=P(c);if(e&&e.nodeName=="OBJECT")if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function H(){return!u&&S("6.0.65")&&(y.win||y.mac)&&!(y.wk&&y.wk<312)}function I(b,c,d,e){u=!0,r=e||null,s={success:!1,id:d};var g=P(d);if(g){g.nodeName=="OBJECT"?(p=K(g),q=null):(p=g,q=d),b.id=f;if(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";i.title=i.title.slice(0,47)+" - Flash Player Installation";var j=y.ie&&y.win?"ActiveX":"PlugIn",k="MMredirectURL="+h.location.toString().replace(/&/g,"%26")+"&MMplayerType="+j+"&MMdoctitle="+i.title;typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(y.ie&&y.win&&g.readyState!=4){var l=Q("div");d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",function(){g.readyState==4?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()}L(b,c,d)}}function J(a){if(y.ie&&y.win&&a.readyState!=4){var b=Q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(K(a),b),a.style.display="none",function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(K(a),a)}function K(a){var c=Q("div");if(y.win&&y.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function L(c,d,f){var g,h=P(f);if(y.wk&&y.wk<312)return g;if(h){typeof c.id==a&&(c.id=f);if(y.ie&&y.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=' class="'+c[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",n[n.length]=c.id,g=P(c.id)}else{var m=Q(b);m.setAttribute("type",e);for(var o in c)c[o]!=Object.prototype[o]&&(o.toLowerCase()=="styleclass"?m.setAttribute("class",c[o]):o.toLowerCase()!="classid"&&m.setAttribute(o,c[o]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&M(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}}return g}function M(a,b,c){var d=Q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function N(a){var b=P(a);b&&b.nodeName=="OBJECT"&&(y.ie&&y.win?(b.style.display="none",function(){b.readyState==4?O(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function O(a){var b=P(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function P(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function Q(a){return i.createElement(a)}function R(a,b,c){a.attachEvent(b,c),o[o.length]=[a,b,c]}function S(a){var b=y.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function T(c,d,e,f){if(y.ie&&y.mac)return;var g=i.getElementsByTagName("head")[0];if(!g)return;var h=e&&typeof e=="string"?e:"screen";f&&(v=null,w=null);if(!v||w!=h){var j=Q("style");j.setAttribute("type","text/css"),j.setAttribute("media",h),v=g.appendChild(j),y.ie&&y.win&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(v=i.styleSheets[i.styleSheets.length-1]),w=h}y.ie&&y.win?v&&typeof v.addRule==b&&v.addRule(c,d):v&&typeof i.createTextNode!=a&&v.appendChild(i.createTextNode(c+" {"+d+"}"))}function U(a,b){if(!x)return;var c=b?"visible":"hidden";t&&P(a)?P(a).style.visibility=c:T("#"+a,"visibility:"+c)}function V(b){var c=/[\\\"<>\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k=!1,l=[D],m=[],n=[],o=[],p,q,r,s,t=!1,u=!1,v,w,x=!0,y=function(){var f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),l=j.platform.toLowerCase(),m=l?/win/.test(l):/win/.test(g),n=l?/mac/.test(l):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,r&&(typeof j.mimeTypes==a||!j.mimeTypes[e]||!!j.mimeTypes[e].enabledPlugin)&&(k=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=a)try{var s=new ActiveXObject(d);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}(),z=function(){if(!y.w3)return;(typeof i.readyState!=a&&i.readyState=="complete"||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&A(),t||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",A,!1),y.ie&&y.win&&(i.attachEvent(g,function(){i.readyState=="complete"&&(i.detachEvent(g,arguments.callee),A())}),h==top&&function(){if(t)return;try{i.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}A()}()),y.wk&&function(){if(t)return;if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}A()}(),C(A))}(),W=function(){y.ie&&y.win&&window.attachEvent("onunload",function(){var a=o.length;for(var b=0;b<a;b++)o[b][0].detachEvent(o[b][1],o[b][2]);var c=n.length;for(var d=0;d<c;d++)N(n[d]);for(var e in y)y[e]=null;y=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(y.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,m[m.length]=e,U(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(y.w3)return G(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};y.w3&&!(y.wk&&y.wk<312)&&c&&d&&e&&f&&g?(U(d,!1),B(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(S(g)){var s=L(n,p,d);n.id==d&&U(d,!0),m.success=!0,m.ref=s}else{if(h&&H()){n.data=h,I(n,p,d,l);return}U(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){x=!1},ua:y,getFlashPlayerVersion:function(){return{major:y.pv[0],minor:y.pv[1],release:y.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(a,b,c){return y.w3?L(a,b,c):undefined},showExpressInstall:function(a,b,c,d){y.w3&&H()&&I(a,b,c,d)},removeSWF:function(a){y.w3&&N(a)},createCSS:function(a,b,c,d){y.w3&&T(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return V(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return V(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(u){var a=P(f);a&&p&&(a.parentNode.replaceChild(p,a),q&&(U(q,!0),y.ie&&y.win&&(p.style.display="block")),r&&r(s)),u=!1}}}}();(function(a){function f(){function c(a){a==="remove"&&this.each(function(a,b){var c=f(b);c&&c.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(a,b){var c=tinyMCE.get(b.id.replace(/_parent$/,""));c&&c.remove()})}function d(a){var d=this,e;if(a!==b)c.call(d),d.each(function(b,c){var d;(d=tinyMCE.get(c.id))&&d.setContent(a)});else if(d.length>0)if(e=tinyMCE.get(d[0].id))return e.getContent()}function f(a){var b=null;return a&&a.id&&e.tinymce&&(b=tinyMCE.get(a.id)),b}function g(a){return!!(a&&a.length&&e.tinymce&&a.is(":tinymce"))}var h={};a.each(["text","html","val"],function(c,e){var i=h[e]=a.fn[e],l=e==="text";a.fn[e]=function(c){var e=this;if(!g(e))return i.apply(e,arguments);if(c!==b)return d.call(e.filter(":tinymce"),c),i.apply(e.not(":tinymce"),arguments),e;var h="",j=arguments;return(l?e:e.eq(0)).each(function(b,c){var d=f(c);h+=d?l?d.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):d.getContent():i.apply(a(c),j)}),h}}),a.each(["append","prepend"],function(c,d){var e=h[d]=a.fn[d],i=d==="prepend";a.fn[d]=function(a){var c=this;if(!g(c))return e.apply(c,arguments);if(a!==b)return c.filter(":tinymce").each(function(b,c){var d=f(c);d&&d.setContent(i?a+d.getContent():d.getContent()+a)}),e.apply(c.not(":tinymce"),arguments),c}}),a.each(["remove","replaceWith","replaceAll","empty"],function(b,d){var e=h[d]=a.fn[d];a.fn[d]=function(){return c.call(this,d),e.apply(this,arguments)}}),h.attr=a.fn.attr,a.fn.attr=function(c,e,i){var l=this;if(!c||c!=="value"||!g(l))return h.attr.call(l,c,e,i);if(e!==b)return d.call(l.filter(":tinymce"),e),h.attr.call(l.not(":tinymce"),c,e,i),l;var m=l[0],n=f(m);return n?n.getContent():h.attr.call(a(m),c,e,i)}}var b,c,d=[],e=window;a.fn.tinymce=function(b){function o(){var c=[],d=0;f&&(f(),f=null),g.each(function(a,e){var f,g=e.id,h=b.oninit;g||(e.id=g=tinymce.DOM.uniqueId()),f=new tinymce.Editor(g,b),c.push(f),h&&f.onInit.add(function(){var a,b=h;++d==c.length&&(tinymce.is(b,"string")&&(a=b.indexOf(".")===-1?null:tinymce.resolve(b.replace(/\.\w+$/,"")),b=tinymce.resolve(b)),b.apply(a||tinymce,c))})}),a.each(c,function(a,b){b.render()})}var g=this,h,i,j,k,l,m="",n="";return g.length?b?(!e.tinymce&&!c&&(h=b.script_url)?(c=1,j=h.substring(0,h.lastIndexOf("/")),/_(src|dev)\.js/g.test(h)&&(n="_src"),k=h.lastIndexOf("?"),k!=-1&&(m=h.substring(k+1)),e.tinyMCEPreInit=e.tinyMCEPreInit||{base:j,suffix:n,query:m},h.indexOf("gzip")!=-1&&(l=b.language||"en",h=h+(/\?/.test(h)?"&":"?")+"js=true&core=true&suffix="+escape(n)+"&themes="+escape(b.theme)+"&plugins="+escape(b.plugins)+"&languages="+l,e.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function c(a){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(a))}tinymce.suffix=n,c("langs/"+l+".js"),c("themes/"+b.theme+"/editor_template"+n+".js"),c("themes/"+b.theme+"/langs/"+l+".js"),a.each(b.plugins.split(","),function(a,b){b&&(c("plugins/"+b+"/editor_plugin"+n+".js"),c("plugins/"+b+"/langs/"+l+".js"))})},end:function(){}})),a.ajax({type:"GET",url:h,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,c=2,b.script_loaded&&b.script_loaded(),o(),a.each(d,function(a,b){b()})}})):c===1?d.push(o):o(),g):tinyMCE.get(g[0].id):g},a.extend(a.expr[":"],{tinymce:function(a){return a.id&&!!tinyMCE.get(a.id)}})})(jQuery),tinyMCE.addI18n({en:{common:{edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",apply:"Apply",insert:"Insert",update:"Update",cancel:"Cancel",close:"Close",browse:"Browse",class_name:"Class",not_set:"-- Not set --",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?"
,clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",invalid_data:"Error: Invalid values entered, these are marked in red.",more_colors:"More colors"},contextmenu:{align:"Alignment",left:"Left",center:"Center",right:"Right",full:"Full"},insertdatetime:{date_fmt:"%Y-%m-%d",time_fmt:"%H:%M:%S",insertdate_desc:"Insert date",inserttime_desc:"Insert time",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{ltr_desc:"Direction left to right",rtl_desc:"Direction right to left"},layer:{insertlayer_desc:"Insert new layer",forward_desc:"Move forward",backward_desc:"Move backward",absolute_desc:"Toggle absolute positioning",content:"New layer..."},save:{save_desc:"Save",cancel_desc:"Cancel all changes"},nonbreaking:{nonbreaking_desc:"Insert non-breaking space character"},iespell:{iespell_desc:"Run spell checking",download:"ieSpell not detected. Do you want to install it now?"},advhr:{advhr_desc:"Horizontal rule"},emotions:{emotions_desc:"Emotions"},searchreplace:{search_desc:"Find",replace_desc:"Find/Replace"},advimage:{image_desc:"Insert/edit image"},advlink:{link_desc:"Insert/edit link"},xhtmlxtras:{cite_desc:"Citation",abbr_desc:"Abbreviation",acronym_desc:"Acronym",del_desc:"Deletion",ins_desc:"Insertion",attribs_desc:"Insert/Edit Attributes"},style:{desc:"Edit CSS Style"},paste:{paste_text_desc:"Paste as Plain Text",paste_word_desc:"Paste from Word",selectall_desc:"Select All",plaintext_mode_sticky:"Paste is now in plain text mode. Click again to toggle back to regular paste mode. After you paste something you will be returned to regular paste mode.",plaintext_mode:"Paste is now in plain text mode. Click again to toggle back to regular paste mode."},paste_dlg:{text_title:"Use CTRL+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep linebreaks",word_title:"Use CTRL+V on your keyboard to paste the text into the window."},table:{desc:"Inserts a new table",row_before_desc:"Insert row before",row_after_desc:"Insert row after",delete_row_desc:"Delete row",col_before_desc:"Insert column before",col_after_desc:"Insert column after",delete_col_desc:"Remove column",split_cells_desc:"Split merged table cells",merge_cells_desc:"Merge table cells",row_desc:"Table row properties",cell_desc:"Table cell properties",props_desc:"Table properties",paste_row_before_desc:"Paste table row before",paste_row_after_desc:"Paste table row after",cut_row_desc:"Cut table row",copy_row_desc:"Copy table row",del:"Delete table",row:"Row",col:"Column",cell:"Cell"},autosave:{unload_msg:"The changes you made will be lost if you navigate away from this page.",restore_content:"Restore auto-saved content.",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?."},fullscreen:{desc:"Toggle fullscreen mode"},media:{desc:"Insert / edit embedded media",edit:"Edit embedded media"},fullpage:{desc:"Document properties"},template:{desc:"Insert predefined template content"},visualchars:{desc:"Visual control characters on/off."},spellchecker:{desc:"Toggle spellchecker",menu:"Spellchecker settings",ignore_word:"Ignore word",ignore_words:"Ignore all",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No suggestions",no_mpell:"No misspellings found."},pagebreak:{desc:"Insert page break."},advlist:{types:"Types",def:"Default",lower_alpha:"Lower alpha",lower_greek:"Lower greek",lower_roman:"Lower roman",upper_alpha:"Upper alpha",upper_roman:"Upper roman",circle:"Circle",disc:"Disc",square:"Square"}}}),function(){tinymce.create("tinymce.plugins.AdvancedHRPlugin",{init:function(a,b){a.addCommand("mceAdvancedHr",function(){a.windowManager.open({file:b+"/rule.htm",width:250+parseInt(a.getLang("advhr.delta_width",0)),height:160+parseInt(a.getLang("advhr.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("advhr",{title:"advhr.advhr_desc",cmd:"mceAdvancedHr"}),a.onNodeChange.add(function(a,b,c){b.setActive("advhr",c.nodeName=="HR")}),a.onClick.add(function(a,b){b=b.target,b.nodeName==="HR"&&a.selection.select(b)})},getInfo:function(){return{longname:"Advanced HR",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advhr",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advhr",tinymce.plugins.AdvancedHRPlugin)}(),function(){tinymce.create("tinymce.plugins.AdvancedHRPlugin",{init:function(a,b){a.addCommand("mceAdvancedHr",function(){a.windowManager.open({file:b+"/rule.htm",width:250+parseInt(a.getLang("advhr.delta_width",0)),height:160+parseInt(a.getLang("advhr.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("advhr",{title:"advhr.advhr_desc",cmd:"mceAdvancedHr"}),a.onNodeChange.add(function(a,b,c){b.setActive("advhr",c.nodeName=="HR")}),a.onClick.add(function(a,b){b=b.target,b.nodeName==="HR"&&a.selection.select(b)})},getInfo:function(){return{longname:"Advanced HR",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advhr",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advhr",tinymce.plugins.AdvancedHRPlugin)}();var AdvHRDialog={init:function(a){var b=a.dom,c=document.forms[0],d=a.selection.getNode(),e;e=b.getAttrib(d,"width"),c.width.value=e?parseInt(e):b.getStyle("width")||"",c.size.value=b.getAttrib(d,"size")||parseInt(b.getStyle("height"))||"",c.noshade.checked=!!b.getAttrib(d,"noshade")||!!b.getStyle("border-width"),selectByValue(c,"width2",e.indexOf("%")!=-1?"%":"px")},update:function(){var a=tinyMCEPopup.editor,b,c=document.forms[0],d="";b="<hr",c.size.value&&(b+=' size="'+c.size.value+'"',d+=" height:"+c.size.value+"px;"),c.width.value&&(b+=' width="'+c.width.value+(c.width2.value=="%"?"%":"")+'"',d+=" width:"+c.width.value+(c.width2.value=="%"?"%":"px")+";"),c.noshade.checked&&(b+=' noshade="noshade"',d+=" border-width: 1px; border-style: solid; border-color: #CCCCCC; color: #ffffff;"),a.settings.inline_styles&&(b+=' style="'+tinymce.trim(d)+'"'),b+=" />",a.execCommand("mceInsertContent",!1,b),tinyMCEPopup.close()}};tinyMCEPopup.requireLangPack(),tinyMCEPopup.onInit.add(AdvHRDialog.init,AdvHRDialog),tinyMCE.addI18n("en.advhr_dlg",{width:"Width",size:"Height",noshade:"No shadow"}),function(){tinymce.create("tinymce.plugins.AdvancedImagePlugin",{init:function(a,b){a.addCommand("mceAdvImage",function(){if(a.dom.getAttrib(a.selection.getNode(),"class").indexOf("mceItem")!=-1)return;a.windowManager.open({file:b+"/image.htm",width:480+parseInt(a.getLang("advimage.delta_width",0)),height:385+parseInt(a.getLang("advimage.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("image",{title:"advimage.image_desc",cmd:"mceAdvImage"})},getInfo:function(){return{longname:"Advanced image",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advimage",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advimage",tinymce.plugins.AdvancedImagePlugin)}(),function(){tinymce.create("tinymce.plugins.AdvancedImagePlugin",{init:function(a,b){a.addCommand("mceAdvImage",function(){if(a.dom.getAttrib(a.selection.getNode(),"class").indexOf("mceItem")!=-1)return;a.windowManager.open({file:b+"/image.htm",width:480+parseInt(a.getLang("advimage.delta_width",0)),height:385+parseInt(a.getLang("advimage.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("image",{title:"advimage.image_desc",cmd:"mceAdvImage"})},getInfo:function(){return{longname:"Advanced image",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advimage",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advimage",tinymce.plugins.AdvancedImagePlugin)}();var ImageDialog={preInit:function(){var a;tinyMCEPopup.requireLangPack(),(a=tinyMCEPopup.getParam("external_image_list_url"))&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(a)+'"></script>')},init:function(a){var b=document.forms[0],c=b.elements,a=tinyMCEPopup.editor,d=a.dom,e=a.selection.getNode();tinyMCEPopup.resizeToInnerSize(),this.fillClassList("class_list"),this.fillFileList("src_list","tinyMCEImageList"),this.fillFileList("over_list","tinyMCEImageList"),this.fillFileList("out_list","tinyMCEImageList"),TinyMCE_EditableSelects.init(),e.nodeName=="IMG"&&(c.src.value=d.getAttrib(e,"src"),c.width.value=d.getAttrib(e,"width"),c.height.value=d.getAttrib(e,"height"),c.alt.value=d.getAttrib(e,"alt"),c.title.value=d.getAttrib(e,"title"),c.vspace.value=this.getAttrib(e,"vspace"),c.hspace.value=this.getAttrib(e,"hspace"),c.border.value=this.getAttrib(e,"border"),selectByValue(b,"align",this.getAttrib(e,"align")),selectByValue(b,"class_list",d.getAttrib(e,"class"),!0,!0),c.style.value=d.getAttrib(e,"style"),c.id.value=d.getAttrib(e,"id"),c.dir.value=d.getAttrib(e,"dir"),c.lang.value=d.getAttrib(e,"lang"),c.usemap.value=d.getAttrib(e,"usemap"),c.longdesc.value=d.getAttrib(e,"longdesc"),c.insert.value=a.getLang("update"),/^\s*this.src\s*=\s*\'([^\']+)\';?\s*$/.test(d.getAttrib(e,"onmouseover"))&&(c.onmouseoversrc.value=d.getAttrib(e,"onmouseover").replace(/^\s*this.src\s*=\s*\'([^\']+)\';?\s*$/,"$1")),/^\s*this.src\s*=\s*\'([^\']+)\';?\s*$/.test(d.getAttrib(e,"onmouseout"))&&(c.onmouseoutsrc.value=d.getAttrib(e,"onmouseout").replace(/^\s*this.src\s*=\s*\'([^\']+)\';?\s*$/,"$1")),a.settings.inline_styles&&(d.getAttrib(e,"align")&&this.updateStyle("align"),d.getAttrib(e,"hspace")&&this.updateStyle("hspace"),d.getAttrib(e,"border")&&this.updateStyle("border"),d.getAttrib(e,"vspace")&&this.updateStyle("vspace"))),document.getElementById("srcbrowsercontainer").innerHTML=getBrowserHTML("srcbrowser","src","image","theme_advanced_image"),isVisible("srcbrowser")&&(document.getElementById("src").style.width="260px"),document.getElementById("onmouseoversrccontainer").innerHTML=getBrowserHTML("overbrowser","onmouseoversrc","image","theme_advanced_image"),isVisible("overbrowser")&&(document.getElementById("onmouseoversrc").style.width="260px"),document.getElementById("onmouseoutsrccontainer").innerHTML=getBrowserHTML("outbrowser","onmouseoutsrc","image","theme_advanced_image"),isVisible("outbrowser")&&(document.getElementById("onmouseoutsrc").style.width="260px"),a.getParam("advimage_constrain_proportions",!0)&&(b.constrain.checked=!0),c.onmouseoversrc.value||c.onmouseoutsrc.value?this.setSwapImage(!0):this.setSwapImage(!1),this.changeAppearance(),this.showPreviewImage(c.src.value,1)},insert:function(a,b){var c=tinyMCEPopup.editor,d=this,e=document.forms[0];if(e.src.value===""){c.selection.getNode().nodeName=="IMG"&&(c.dom.remove(c.selection.getNode()),c.execCommand("mceRepaint")),tinyMCEPopup.close();return}if(tinyMCEPopup.getParam("accessibility_warnings",1)&&!e.alt.value){tinyMCEPopup.confirm(tinyMCEPopup.getLang("advimage_dlg.missing_alt"),function(a){a&&d.insertAndClose()});return}d.insertAndClose()},insertAndClose:function(){var a=tinyMCEPopup.editor,b=document.forms[0],c=b.elements,d,e={},f;tinyMCEPopup.restoreSelection(),tinymce.isWebKit&&a.getWin().focus(),a.settings.inline_styles?e={vspace:"",hspace:"",border:"",align:""}:e={vspace:c.vspace.value,hspace:c.hspace.value,border:c.border.value,align:getSelectValue(b,"align")},tinymce.extend(e,{src:c.src.value,width:c.width.value,height:c.height.value,alt:c.alt.value,title:c.title.value,"class":getSelectValue(b,"class_list"),style:c.style.value,id:c.id.value,dir:c.dir.value,lang:c.lang.value,usemap:c.usemap.value,longdesc:c.longdesc.value}),e.onmouseover=e.onmouseout="",b.onmousemovecheck.checked&&(c.onmouseoversrc.value&&(e.onmouseover="this.src='"+c.onmouseoversrc.value+"';"),c.onmouseoutsrc.value&&(e.onmouseout="this.src='"+c.onmouseoutsrc.value+"';")),f=a.selection.getNode(),f&&f.nodeName=="IMG"?a.dom.setAttribs(f,e):(a.execCommand("mceInsertContent",!1,'<img id="__mce_tmp" />',{skip_undo:1}),a.dom.setAttribs("__mce_tmp",e),a.dom.setAttrib("__mce_tmp","id",""),a.undoManager.add()),tinyMCEPopup.close()},getAttrib:function(a,b){var c=tinyMCEPopup.editor,d=c.dom,e,f;if(c.settings.inline_styles)switch(b){case"align":if(e=d.getStyle(a,"float"))return e;if(e=d.getStyle(a,"vertical-align"))return e;break;case"hspace":e=d.getStyle(a,"margin-left"),f=d.getStyle(a,"margin-right");if(e&&e==f)return parseInt(e.replace(/[^0-9]/g,""));break;case"vspace":e=d.getStyle(a,"margin-top"),f=d.getStyle(a,"margin-bottom");if(e&&e==f)return parseInt(e.replace(/[^0-9]/g,""));break;case"border":e=0,tinymce.each(["top","right","bottom","left"],function(b){b=d.getStyle(a,"border-"+b+"-width");if(!b||b!=e&&e!==0)return e=0,!1;b&&(e=b)});if(e)return parseInt(e.replace(/[^0-9]/g,""))}return(e=d.getAttrib(a,b))?e:""},setSwapImage:function(a){var b=document.forms[0];b.onmousemovecheck.checked=a,setBrowserDisabled("overbrowser",!a),setBrowserDisabled("outbrowser",!a),b.over_list&&(b.over_list.disabled=!a),b.out_list&&(b.out_list.disabled=!a),b.onmouseoversrc.disabled=!a,b.onmouseoutsrc.disabled=!a},fillClassList:function(a){var b=tinyMCEPopup.dom,c=b.get(a),d,e;(d=tinyMCEPopup.getParam("theme_advanced_styles"))?(e=[],tinymce.each(d.split(";"),function(a){var b=a.split("=");e.push({title:b[0],"class":b[1]})})):e=tinyMCEPopup.editor.dom.getClasses(),e.length>0?(c.options.length=0,c.options[c.options.length]=new Option(tinyMCEPopup.getLang("not_set"),""),tinymce.each(e,function(a){c.options[c.options.length]=new Option(a.title||a["class"],a["class"])})):b.remove(b.getParent(a,"tr"))},fillFileList:function(a,b){var c=tinyMCEPopup.dom,d=c.get(a),e,f;b=window[b],d.options.length=0,b&&b.length>0?(d.options[d.options.length]=new Option("",""),tinymce.each(b,function(a){d.options[d.options.length]=new Option(a[0],a[1])})):c.remove(c.getParent(a,"tr"))},resetImageData:function(){var a=document.forms[0];a.elements.width.value=a.elements.height.value=""},updateImageData:function(a,b){var c=document.forms[0];b||(c.elements.width.value=a.width,c.elements.height.value=a.height),this.preloadImg=a},changeAppearance:function(){var a=tinyMCEPopup.editor,b=document.forms[0],c=document.getElementById("alignSampleImg");c&&(a.getParam("inline_styles")?a.dom.setAttrib(c,"style",b.style.value):(c.align=b.align.value,c.border=b.border.value,c.hspace=b.hspace.value,c.vspace=b.vspace.value))},changeHeight:function(){var a=document.forms[0],b,c=this;if(!a.constrain.checked||!c.preloadImg)return;if(a.width.value==""||a.height.value=="")return;b=parseInt(a.width.value)/parseInt(c.preloadImg.width)*c.preloadImg.height,a.height.value=b.toFixed(0)},changeWidth:function(){var a=document.forms[0],b,c=this;if(!a.constrain.checked||!c.preloadImg)return;if(a.width.value==""||a.height.value=="")return;b=parseInt(a.height.value)/parseInt(c.preloadImg.height)*c.preloadImg.width,a.width.value=b.toFixed(0)},updateStyle:function(a){var b=tinyMCEPopup.dom,c,d,e=document.forms[0],f=b.create("img",{style:b.get("style").value});if(tinyMCEPopup.editor.settings.inline_styles){a=="align"&&(b.setStyle(f,"float",""),b.setStyle(f,"vertical-align",""),d=getSelectValue(e,"align"),d&&(d=="left"||d=="right"?b.setStyle(f,"float",d):f.style.verticalAlign=d));if(a=="border"){b.setStyle(f,"border",""),d=e.border.value;if(d||d=="0")d=="0"?f.style.border="0":f.style.border=d+"px solid black"}a=="hspace"&&(b.setStyle(f,"marginLeft",""),b.setStyle(f,"marginRight",""),d=e.hspace.value,d&&(f.style.marginLeft=d+"px",f.style.marginRight=d+"px")),a=="vspace"&&(b.setStyle(f,"marginTop",""),b.setStyle(f,"marginBottom",""),d=e.vspace.value,d&&(f.style.marginTop=d+"px",f.style.marginBottom=d+"px")),b.get("style").value=b.serializeStyle(b.parseStyle(f.style.cssText),"img")}},changeMouseMove:function(){},showPreviewImage:function(a,b){if(!a){tinyMCEPopup.dom.setHTML("prev","");return}!b&&tinyMCEPopup.getParam("advimage_update_dimensions_onchange",!0)&&this.resetImageData(),a=tinyMCEPopup.editor.documentBaseURI.toAbsolute(a),b?tinyMCEPopup.dom.setHTML("prev",'<img id="previewImg" src="'+a+'" border="0" onload="ImageDialog.updateImageData(this, 1);" />'):tinyMCEPopup.dom.setHTML("prev",'<img id="previewImg" src="'+a+'" border="0" onload="ImageDialog.updateImageData(this);" onerror="ImageDialog.resetImageData();" />')}};ImageDialog.preInit(),tinyMCEPopup.onInit.add(ImageDialog.init,ImageDialog),tinyMCE.addI18n("en.advimage_dlg",{tab_general:"General",tab_appearance:"Appearance",tab_advanced:"Advanced",general:"General",title:"Title",preview:"Preview",constrain_proportions:"Constrain proportions",langdir:"Language direction",langcode:"Language code",long_desc:"Long description link",style:"Style",classes:"Classes",ltr:"Left to right",rtl:"Right to left",id:"Id",map:"Image map",swap_image:"Swap image",alt_image:"Alternative image",mouseover:"for mouse over",mouseout:"for mouse out",misc:"Miscellaneous",example_img:"Appearance preview image",missing_alt:"Are you sure you want to continue without including an Image Description? Without it the image may not be accessible to some users with disabilities, or to those using a text browser, or browsing the Web with images turned off.",dialog_title:"Insert/edit image",src:"Image URL",alt:"Image description",list:"Image list",border:"Border",dimensions:"Dimensions",vspace:"Vertical space",hspace:"Horizontal space",align:"Alignment",align_baseline:"Baseline",align_top:"Top",align_middle:"Middle",align_bottom:"Bottom",align_texttop:"Text top",align_textbottom:"Text bottom",align_left:"Left",align_right:"Right",image_list:"Image list"}),function(){tinymce.create("tinymce.plugins.AdvancedLinkPlugin",{init:function(a,b){this.editor=a,a.addCommand("mceAdvLink",function(){var c=a.selection;if(c.isCollapsed()&&!a.dom.getParent(c.getNode(),"A"))return;a.windowManager.open({file:b+"/link.htm",width:480+parseInt(a.getLang("advlink.delta_width",0)),height:400+parseInt(a.getLang("advlink.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("link",{title:"advlink.link_desc",cmd:"mceAdvLink"}),a.addShortcut("ctrl+k","advlink.advlink_desc","mceAdvLink"),a.onNodeChange.add(function(a,b,c,d){b.setDisabled("link",d&&c.nodeName!="A"),b.setActive("link",c.nodeName=="A"&&!c.name)})},getInfo:function(){return{longname:"Advanced link",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlink",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlink",tinymce.plugins.AdvancedLinkPlugin)}(),function(){tinymce.create("tinymce.plugins.AdvancedLinkPlugin",{init:function(a,b){this.editor=a,a.addCommand("mceAdvLink",function(){var c=a.selection;if(c.isCollapsed()&&!a.dom.getParent(c.getNode(),"A"))return;a.windowManager.open({file:b+"/link.htm",width:480+parseInt(a.getLang("advlink.delta_width",0)),height:400+parseInt(a.getLang("advlink.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("link",{title:"advlink.link_desc",cmd:"mceAdvLink"}),a.addShortcut("ctrl+k","advlink.advlink_desc","mceAdvLink"),a.onNodeChange.add(function(a,b,c,d){b.setDisabled("link",d&&c.nodeName!="A"),b.setActive("link",c.nodeName=="A"&&!c.name)})},getInfo:function(){return{longname:"Advanced link",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlink",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlink",tinymce.plugins.AdvancedLinkPlugin)}(),tinyMCEPopup.requireLangPack();var templates={"window.open":"window.open('${url}','${target}','${options}')"};preinit(),tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.advlink_dlg",{title:"Insert/edit link",url:"Link URL",target:"Target",titlefield:"Title",is_email:"The URL you entered seems to be an email address, do you want to add the required mailto: prefix?",is_external:"The URL you entered seems to external link, do you want to add the required http:// prefix?",list:"Link list",general_tab:"General",popup_tab:"Popup",events_tab:"Events",advanced_tab:"Advanced",general_props:"General properties",popup_props:"Popup properties",event_props:"Events",advanced_props:"Advanced properties",popup_opts:"Options",anchor_names:"Anchors",target_same:"Open in this window / frame",target_parent:"Open in parent window / frame",target_top:"Open in top frame (replaces all frames)",target_blank:"Open in new window",popup:"Javascript popup",popup_url:"Popup URL",popup_name:"Window name",popup_return:"Insert 'return false'",popup_scrollbars:"Show scrollbars",popup_statusbar:"Show status bar",popup_toolbar:"Show toolbars",popup_menubar:"Show menu bar",popup_location:"Show location bar",popup_resizable:"Make window resizable",popup_dependent:"Dependent (Mozilla/Firefox only)",popup_size:"Size",popup_position:"Position (X/Y)",id:"Id",style:"Style",classes:"Classes",target_name:"Target name",langdir:"Language direction",target_langcode:"Target language",langcode:"Language code",encoding:"Target character encoding",mime:"Target MIME type",rel:"Relationship page to target",rev:"Relationship target to page",tabindex:"Tabindex",accesskey:"Accesskey",ltr:"Left to right",rtl:"Right to left",link_list:"Link list"}),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(b,c){function e(b){var c=[];return a(b.split(/,/),function(a){c.push({title:"advlist."+(a=="default"?"def":a.replace(/-/g,"_")),styles:{listStyleType:a=="default"?"":a}})}),c}var d=this;d.editor=b,d.numlist=b.getParam("advlist_number_styles")||e("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"),d.bullist=b.getParam("advlist_bullet_styles")||e("default,circle,disc,square")},createControl:function(b,c){var d=this,e,f;if(b=="numlist"||b=="bullist"){d[b][0].title=="advlist.def"&&(f=d[b][0]);function g(b,c){var e=!0;return a(c.styles,function(a,c){if(d.editor.dom.getStyle(b,c)!=a)return e=!1,!1}),e}function h(){var a,c=d.editor,e=c.dom,h=c.selection;a=e.getParent(h.getNode(),"ol,ul"),(!a||a.nodeName==(b=="bullist"?"OL":"UL")||g(a,f))&&c.execCommand(b=="bullist"?"InsertUnorderedList":"InsertOrderedList"),f&&(a=e.getParent(h.getNode(),"ol,ul"),a&&(e.setStyles(a,f.styles),a.removeAttribute("_mce_style")))}return e=c.createSplitButton(b,{title:"advanced."+b+"_desc","class":"mce_"+b,onclick:function(){h()}}),e.onRenderMenu.add(function(c,e){e.onShowMenu.add(function(){var c=d.editor.dom,h=c.getParent(d.editor.selection.getNode(),"ol,ul"),i;if(h||f)i=d[b],a(e.items,function(b){var c=!0;b.setSelected(0),h&&!b.isDisabled()&&(a(i,function(a){if(a.id==b.id&&!g(h,a))return c=!1,!1}),c&&b.setSelected(1))}),h||e.items[f.id].setSelected(1)}),e.add({id:d.editor.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle"}).setDisabled(1),a(d[b],function(a){a.id=d.editor.dom.uniqueId(),e.add({id:a.id,title:a.title,onclick:function(){f=a,h()}})})}),e}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)}(),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(b,c){function e(b){var c=[];return a(b.split(/,/),function(a){c.push({title:"advlist."+(a=="default"?"def":a.replace(/-/g,"_")),styles:{listStyleType:a=="default"?"":a}})}),c}var d=this;d.editor=b,d.numlist=b.getParam("advlist_number_styles")||e("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"),d.bullist=b.getParam("advlist_bullet_styles")||e("default,circle,disc,square")},createControl:function(b,c){var d=this,e,f;if(b=="numlist"||b=="bullist"){d[b][0].title=="advlist.def"&&(f=d[b][0]);function g(b,c){var e=!0;return a(c.styles,function(a,c){if(d.editor.dom.getStyle(b,c)!=a)return e=!1,!1}),e}function h(){var a,c=d.editor,e=c.dom,h=c.selection;a=e.getParent(h.getNode(),"ol,ul"),(!a||a.nodeName==(b=="bullist"?"OL":"UL")||g(a,f))&&c.execCommand(b=="bullist"?"InsertUnorderedList":"InsertOrderedList"),f&&(a=e.getParent(h.getNode(),"ol,ul"),a&&(e.setStyles(a,f.styles),a.removeAttribute("_mce_style")))}return e=c.createSplitButton(b,{title:"advanced."+b+"_desc","class":"mce_"+b,onclick:function(){h()}}),e.onRenderMenu.add(function(c,e){e.onShowMenu.add(function(){var c=d.editor.dom,h=c.getParent(d.editor.selection.getNode(),"ol,ul"),i;if(h||f)i=d[b],a(e.items,function(b){var c=!0;b.setSelected(0),h&&!b.isDisabled()&&(a(i,function(a){if(a.id==b.id&&!g(h,a))return c=!1,!1}),c&&b.setSelected(1))}),h||e.items[f.id].setSelected(1)}),e.add({id:d.editor.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle"}).setDisabled(1),a(d[b],function(a){a.id=d.editor.dom.uniqueId(),e.add({id:a.id,title:a.title,onclick:function(){f=a,h()}})})}),e}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)}(),function(){tinymce.create("tinymce.plugins.AutoResizePlugin",{init:function(a,b){function d(){var b=a.getDoc(),d=b.body,e=b.documentElement,f=tinymce.DOM,g=c.autoresize_min_height,h;h=tinymce.isIE?d.scrollHeight:e.offsetHeight,h>c.autoresize_min_height&&(g=h),f.setStyle(f.get(a.id+"_ifr"),"height",g+"px"),c.throbbing&&(a.setProgressState(!1),a.setProgressState(!0))}var c=this;if(a.getParam("fullscreen_is_enabled"))return;c.editor=a,c.autoresize_min_height=a.getElement().offsetHeight,a.onChange.add(d),a.onSetContent.add(d),a.onPaste.add(d),a.onKeyUp.add(d),a.onPostRender.add(d),a.getParam("autoresize_on_init",!0)&&(a.onInit.add(function(a,b){a.setProgressState(!0),c.throbbing=!0,a.getBody().style.overflowY="hidden"}),a.onLoadContent.add(function(a,b){d(),setTimeout(function(){d(),a.setProgressState(!1),c.throbbing=!1},1250)})),a.addCommand("mceAutoResize",d)},getInfo:function(){return{longname:"Auto Resize",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autoresize",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("autoresize",tinymce.plugins.AutoResizePlugin)}(),function(){tinymce.create("tinymce.plugins.AutoResizePlugin",{init:function(a,b){function d(){var b=a.getDoc(),d=b.body,e=b.documentElement,f=tinymce.DOM,g=c.autoresize_min_height,h;h=tinymce.isIE?d.scrollHeight:e.offsetHeight,h>c.autoresize_min_height&&(g=h),f.setStyle(f.get(a.id+"_ifr"),"height",g+"px"),c.throbbing&&(a.setProgressState(!1),a.setProgressState(!0))}var c=this;if(a.getParam("fullscreen_is_enabled"))return;c.editor=a,c.autoresize_min_height=a.getElement().offsetHeight,a.onChange.add(d),a.onSetContent.add(d),a.onPaste.add(d),a.onKeyUp.add(d),a.onPostRender.add(d),a.getParam("autoresize_on_init",!0)&&(a.onInit.add(function(a,b){a.setProgressState(!0),c.throbbing=!0,a.getBody().style.overflowY="hidden"}),a.onLoadContent.add(function(a,b){d(),setTimeout(function(){d(),a.setProgressState(!1),c.throbbing=!1},1250)})),a.addCommand("mceAutoResize",d)},getInfo:function(){return{longname:"Auto Resize",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autoresize",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("autoresize",tinymce.plugins.AutoResizePlugin)}(),function(a){var b="autosave",c="restoredraft",d=!0,e,f,g=a.util.Dispatcher;a.create("tinymce.plugins.AutoSave",{init:function(h,i){function l(a){var b={s:1e3,m:6e4};return a=/^(\d+)([ms]?)$/.exec(""+a),(a[2]?b[a[2]]:1)*parseInt(a)}var j=this,k=h.settings;j.editor=h,a.each({ask_before_unload:d,interval:"30s",retention:"20m",minlength:50},function(a,c){c=b+"_"+c,k[c]===e&&(k[c]=a)}),k.autosave_interval=l(k.autosave_interval),k.autosave_retention=l(k.autosave_retention),h.addButton(c,{title:b+".restore_content",onclick:function(){h.getContent({draft:!0}).replace(/\s|&nbsp;|<\/?p[^>]*>|<br[^>]*>/gi,"").length>0?h.windowManager.confirm(b+".warning_message",function(a){a&&j.restoreDraft()}):j.restoreDraft()}}),h.onNodeChange.add(function(){var a=h.controlManager;a.get(c)&&a.setDisabled(c,!j.hasDraft())}),h.onInit.add(function(){h.controlManager.get(c)&&(j.setupStorage(h),setInterval(function(){j.storeDraft(),h.nodeChanged()},k.autosave_interval))}),j.onStoreDraft=new g(j),j.onRestoreDraft=new g(j),j.onRemoveDraft=new g(j),f||(window.onbeforeunload=a.plugins.AutoSave._beforeUnloadHandler,f=d)},getInfo:function(){return{longname:"Auto save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autosave",version:a.majorVersion+"."+a.minorVersion}},getExpDate:function(){return(new Date((new Date).getTime()+this.editor.settings.autosave_retention)).toUTCString()},setupStorage:function(c){var e=this,f=b+"_test",g="OK";e.key=b+c.id,a.each([function(){if(localStorage){localStorage.setItem(f,g);if(localStorage.getItem(f)===g)return localStorage.removeItem(f),localStorage}},function(){if(sessionStorage){sessionStorage.setItem(f,g);if(sessionStorage.getItem(f)===g)return sessionStorage.removeItem(f),sessionStorage}},function(){if(a.isIE)return c.getElement().style.behavior="url('#default#userData')",{autoExpires:d,setItem:function(a,b){var d=c.getElement();d.setAttribute(a,b),d.expires=e.getExpDate(),d.save("TinyMCE")},getItem:function(a){var b=c.getElement();return b.load("TinyMCE"),b.getAttribute(a)},removeItem:function(a){c.getElement().removeAttribute(a)}}}],function(a){try{e.storage=a();if(e.storage)return!1}catch(b){}})},storeDraft:function(){var a=this,b=a.storage,c=a.editor,d,e;if(b){if(!b.getItem(a.key)&&!c.isDirty())return;e=c.getContent({draft:!0}),e.length>c.settings.autosave_minlength&&(d=a.getExpDate(),a.storage.autoExpires||a.storage.setItem(a.key+"_expires",d),a.storage.setItem(a.key,e),a.onStoreDraft.dispatch(a,{expires:d,content:e}))}},restoreDraft:function(){var a=this,b=a.storage;b&&(content=b.getItem(a.key),content&&(a.editor.setContent(content),a.onRestoreDraft.dispatch(a,{content:content})))},hasDraft:function(){var a=this,b=a.storage,c,e;if(b){e=!!b.getItem(a.key);if(e){if(!!a.storage.autoExpires)return d;c=new Date(b.getItem(a.key+"_expires"));if((new Date).getTime()<c.getTime())return d;a.removeDraft()}}return!1},removeDraft:function(){var a=this,b=a.storage,c=a.key,d;b&&(d=b.getItem(c),b.removeItem(c),b.removeItem(c+"_expires"),d&&a.onRemoveDraft.dispatch(a,{content:d}))},"static":{_beforeUnloadHandler:function(b){var c;return a.each(tinyMCE.editors,function(a){a.plugins.autosave&&a.plugins.autosave.storeDraft();if(a.getParam("fullscreen_is_enabled"))return;!c&&a.isDirty()&&a.getParam("autosave_ask_before_unload")&&(c=a.getLang("autosave.unload_msg"))}),c}}}),a.PluginManager.add("autosave",a.plugins.AutoSave)}(tinymce),function(a){var b="autosave",c="restoredraft",d=!0,e,f,g=a.util.Dispatcher;a.create("tinymce.plugins.AutoSave",{init:function(h,i){function l(a){var b={s:1e3,m:6e4};return a=/^(\d+)([ms]?)$/.exec(""+a),(a[2]?b[a[2]]:1)*parseInt(a)}var j=this,k=h.settings;j.editor=h,a.each({ask_before_unload:d,interval:"30s",retention:"20m",minlength:50},function(a,c){c=b+"_"+c,k[c]===e&&(k[c]=a)}),k.autosave_interval=l(k.autosave_interval),k.autosave_retention=l(k.autosave_retention),h.addButton(c,{title:b+".restore_content",onclick:function(){h.getContent({draft:!0}).replace(/\s|&nbsp;|<\/?p[^>]*>|<br[^>]*>/gi,"").length>0?h.windowManager.confirm(b+".warning_message",function(a){a&&j.restoreDraft()}):j.restoreDraft()}}),h.onNodeChange.add(function(){var a=h.controlManager;a.get(c)&&a.setDisabled(c,!j.hasDraft())}),h.onInit.add(function(){h.controlManager.get(c)&&(j.setupStorage(h),setInterval(function(){j.storeDraft(),h.nodeChanged()},k.autosave_interval))}),j.onStoreDraft=new g(j),j.onRestoreDraft=new g(j),j.onRemoveDraft=new 
g(j),f||(window.onbeforeunload=a.plugins.AutoSave._beforeUnloadHandler,f=d)},getInfo:function(){return{longname:"Auto save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autosave",version:a.majorVersion+"."+a.minorVersion}},getExpDate:function(){return(new Date((new Date).getTime()+this.editor.settings.autosave_retention)).toUTCString()},setupStorage:function(c){var e=this,f=b+"_test",g="OK";e.key=b+c.id,a.each([function(){if(localStorage){localStorage.setItem(f,g);if(localStorage.getItem(f)===g)return localStorage.removeItem(f),localStorage}},function(){if(sessionStorage){sessionStorage.setItem(f,g);if(sessionStorage.getItem(f)===g)return sessionStorage.removeItem(f),sessionStorage}},function(){if(a.isIE)return c.getElement().style.behavior="url('#default#userData')",{autoExpires:d,setItem:function(a,b){var d=c.getElement();d.setAttribute(a,b),d.expires=e.getExpDate(),d.save("TinyMCE")},getItem:function(a){var b=c.getElement();return b.load("TinyMCE"),b.getAttribute(a)},removeItem:function(a){c.getElement().removeAttribute(a)}}}],function(a){try{e.storage=a();if(e.storage)return!1}catch(b){}})},storeDraft:function(){var a=this,b=a.storage,c=a.editor,d,e;if(b){if(!b.getItem(a.key)&&!c.isDirty())return;e=c.getContent({draft:!0}),e.length>c.settings.autosave_minlength&&(d=a.getExpDate(),a.storage.autoExpires||a.storage.setItem(a.key+"_expires",d),a.storage.setItem(a.key,e),a.onStoreDraft.dispatch(a,{expires:d,content:e}))}},restoreDraft:function(){var a=this,b=a.storage;b&&(content=b.getItem(a.key),content&&(a.editor.setContent(content),a.onRestoreDraft.dispatch(a,{content:content})))},hasDraft:function(){var a=this,b=a.storage,c,e;if(b){e=!!b.getItem(a.key);if(e){if(!!a.storage.autoExpires)return d;c=new Date(b.getItem(a.key+"_expires"));if((new Date).getTime()<c.getTime())return d;a.removeDraft()}}return!1},removeDraft:function(){var a=this,b=a.storage,c=a.key,d;b&&(d=b.getItem(c),b.removeItem(c),b.removeItem(c+"_expires"),d&&a.onRemoveDraft.dispatch(a,{content:d}))},"static":{_beforeUnloadHandler:function(b){var c;return a.each(tinyMCE.editors,function(a){a.plugins.autosave&&a.plugins.autosave.storeDraft();if(a.getParam("fullscreen_is_enabled"))return;!c&&a.isDirty()&&a.getParam("autosave_ask_before_unload")&&(c=a.getLang("autosave.unload_msg"))}),c}}}),a.PluginManager.add("autosave",a.plugins.AutoSave)}(tinymce),tinyMCE.addI18n("en.autosave",{restore_content:"Restore auto-saved content",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?"}),function(){tinymce.create("tinymce.plugins.BBCodePlugin",{init:function(a,b){var c=this,d=a.getParam("bbcode_dialect","punbb").toLowerCase();a.onBeforeSetContent.add(function(a,b){b.content=c["_"+d+"_bbcode2html"](b.content)}),a.onPostProcess.add(function(a,b){b.set&&(b.content=c["_"+d+"_bbcode2html"](b.content)),b.get&&(b.content=c["_"+d+"_html2bbcode"](b.content))})},getInfo:function(){return{longname:"BBCode Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/bbcode",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_punbb_html2bbcode:function(a){function b(b,c){a=a.replace(b,c)}return a=tinymce.trim(a),b(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),b(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),b(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),b(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),b(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),b(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),b(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),b(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),b(/<font>(.*?)<\/font>/gi,"$1"),b(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),b(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),b(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),b(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),b(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),b(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),b(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),b(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),b(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),b(/<\/(strong|b)>/gi,"[/b]"),b(/<(strong|b)>/gi,"[b]"),b(/<\/(em|i)>/gi,"[/i]"),b(/<(em|i)>/gi,"[i]"),b(/<\/u>/gi,"[/u]"),b(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),b(/<u>/gi,"[u]"),b(/<blockquote[^>]*>/gi,"[quote]"),b(/<\/blockquote>/gi,"[/quote]"),b(/<br \/>/gi,"\n"),b(/<br\/>/gi,"\n"),b(/<br>/gi,"\n"),b(/<p>/gi,""),b(/<\/p>/gi,"\n"),b(/&nbsp;/gi," "),b(/&quot;/gi,'"'),b(/&lt;/gi,"<"),b(/&gt;/gi,">"),b(/&amp;/gi,"&"),a},_punbb_bbcode2html:function(a){function b(b,c){a=a.replace(b,c)}return a=tinymce.trim(a),b(/\n/gi,"<br />"),b(/\[b\]/gi,"<strong>"),b(/\[\/b\]/gi,"</strong>"),b(/\[i\]/gi,"<em>"),b(/\[\/i\]/gi,"</em>"),b(/\[u\]/gi,"<u>"),b(/\[\/u\]/gi,"</u>"),b(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),b(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),b(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),b(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),b(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),b(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),a}}),tinymce.PluginManager.add("bbcode",tinymce.plugins.BBCodePlugin)}(),function(){tinymce.create("tinymce.plugins.BBCodePlugin",{init:function(a,b){var c=this,d=a.getParam("bbcode_dialect","punbb").toLowerCase();a.onBeforeSetContent.add(function(a,b){b.content=c["_"+d+"_bbcode2html"](b.content)}),a.onPostProcess.add(function(a,b){b.set&&(b.content=c["_"+d+"_bbcode2html"](b.content)),b.get&&(b.content=c["_"+d+"_html2bbcode"](b.content))})},getInfo:function(){return{longname:"BBCode Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/bbcode",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_punbb_html2bbcode:function(a){function b(b,c){a=a.replace(b,c)}return a=tinymce.trim(a),b(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),b(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),b(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),b(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),b(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),b(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),b(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),b(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),b(/<font>(.*?)<\/font>/gi,"$1"),b(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),b(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),b(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),b(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),b(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),b(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),b(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),b(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),b(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),b(/<\/(strong|b)>/gi,"[/b]"),b(/<(strong|b)>/gi,"[b]"),b(/<\/(em|i)>/gi,"[/i]"),b(/<(em|i)>/gi,"[i]"),b(/<\/u>/gi,"[/u]"),b(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),b(/<u>/gi,"[u]"),b(/<blockquote[^>]*>/gi,"[quote]"),b(/<\/blockquote>/gi,"[/quote]"),b(/<br \/>/gi,"\n"),b(/<br\/>/gi,"\n"),b(/<br>/gi,"\n"),b(/<p>/gi,""),b(/<\/p>/gi,"\n"),b(/&nbsp;/gi," "),b(/&quot;/gi,'"'),b(/&lt;/gi,"<"),b(/&gt;/gi,">"),b(/&amp;/gi,"&"),a},_punbb_bbcode2html:function(a){function b(b,c){a=a.replace(b,c)}return a=tinymce.trim(a),b(/\n/gi,"<br />"),b(/\[b\]/gi,"<strong>"),b(/\[\/b\]/gi,"</strong>"),b(/\[i\]/gi,"<em>"),b(/\[\/i\]/gi,"</em>"),b(/\[u\]/gi,"<u>"),b(/\[\/u\]/gi,"</u>"),b(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),b(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),b(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),b(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),b(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),b(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),a}}),tinymce.PluginManager.add("bbcode",tinymce.plugins.BBCodePlugin)}(),function(){var a=tinymce.dom.Event,b=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.ContextMenu",{init:function(b){function e(b,h){d=null;if(h&&h.button==2){d=b.selection.getRng();return}c._menu&&(c._menu.removeAll(),c._menu.destroy(),a.remove(b.getDoc(),"click",e))}var c=this,d;c.editor=b,c.onContextMenu=new tinymce.util.Dispatcher(this),b.onContextMenu.add(function(b,h){h.ctrlKey||(d&&b.selection.setRng(d),c._getMenu(b).showMenu(h.clientX,h.clientY),a.add(b.getDoc(),"click",function(a){e(b,a)}),a.cancel(h))}),b.onRemove.add(function(){c._menu&&c._menu.removeAll()}),b.onMouseDown.add(e),b.onKeyDown.add(e)},getInfo:function(){return{longname:"Contextmenu",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/contextmenu",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getMenu:function(a){var b=this,d=b._menu,e=a.selection,f=e.isCollapsed(),g=e.getNode()||a.getBody(),h,i,j;d&&(d.removeAll(),d.destroy()),i=c.getPos(a.getContentAreaContainer()),j=c.getPos(a.getContainer()),d=a.controlManager.createDropMenu("contextmenu",{offset_x:i.x+a.getParam("contextmenu_offset_x",0),offset_y:i.y+a.getParam("contextmenu_offset_y",0),constrain:1}),b._menu=d,d.add({title:"advanced.cut_desc",icon:"cut",cmd:"Cut"}).setDisabled(f),d.add({title:"advanced.copy_desc",icon:"copy",cmd:"Copy"}).setDisabled(f),d.add({title:"advanced.paste_desc",icon:"paste",cmd:"Paste"});if(g.nodeName=="A"&&!a.dom.getAttrib(g,"name")||!f)d.addSeparator(),d.add({title:"advanced.link_desc",icon:"link",cmd:a.plugins.advlink?"mceAdvLink":"mceLink",ui:!0}),d.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});return d.addSeparator(),d.add({title:"advanced.image_desc",icon:"image",cmd:a.plugins.advimage?"mceAdvImage":"mceImage",ui:!0}),d.addSeparator(),h=d.addMenu({title:"contextmenu.align"}),h.add({title:"contextmenu.left",icon:"justifyleft",cmd:"JustifyLeft"}),h.add({title:"contextmenu.center",icon:"justifycenter",cmd:"JustifyCenter"}),h.add({title:"contextmenu.right",icon:"justifyright",cmd:"JustifyRight"}),h.add({title:"contextmenu.full",icon:"justifyfull",cmd:"JustifyFull"}),b.onContextMenu.dispatch(b,d,g,f),d}}),tinymce.PluginManager.add("contextmenu",tinymce.plugins.ContextMenu)}(),function(){var a=tinymce.dom.Event,b=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.ContextMenu",{init:function(b){function e(b,f){d=null;if(f&&f.button==2){d=b.selection.getRng();return}c._menu&&(c._menu.removeAll(),c._menu.destroy(),a.remove(b.getDoc(),"click",e))}var c=this,d;c.editor=b,c.onContextMenu=new tinymce.util.Dispatcher(this),b.onContextMenu.add(function(b,f){f.ctrlKey||(d&&b.selection.setRng(d),c._getMenu(b).showMenu(f.clientX,f.clientY),a.add(b.getDoc(),"click",function(a){e(b,a)}),a.cancel(f))}),b.onRemove.add(function(){c._menu&&c._menu.removeAll()}),b.onMouseDown.add(e),b.onKeyDown.add(e)},getInfo:function(){return{longname:"Contextmenu",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/contextmenu",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getMenu:function(a){var b=this,d=b._menu,e=a.selection,f=e.isCollapsed(),g=e.getNode()||a.getBody(),h,i,j;d&&(d.removeAll(),d.destroy()),i=c.getPos(a.getContentAreaContainer()),j=c.getPos(a.getContainer()),d=a.controlManager.createDropMenu("contextmenu",{offset_x:i.x+a.getParam("contextmenu_offset_x",0),offset_y:i.y+a.getParam("contextmenu_offset_y",0),constrain:1}),b._menu=d,d.add({title:"advanced.cut_desc",icon:"cut",cmd:"Cut"}).setDisabled(f),d.add({title:"advanced.copy_desc",icon:"copy",cmd:"Copy"}).setDisabled(f),d.add({title:"advanced.paste_desc",icon:"paste",cmd:"Paste"});if(g.nodeName=="A"&&!a.dom.getAttrib(g,"name")||!f)d.addSeparator(),d.add({title:"advanced.link_desc",icon:"link",cmd:a.plugins.advlink?"mceAdvLink":"mceLink",ui:!0}),d.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});return d.addSeparator(),d.add({title:"advanced.image_desc",icon:"image",cmd:a.plugins.advimage?"mceAdvImage":"mceImage",ui:!0}),d.addSeparator(),h=d.addMenu({title:"contextmenu.align"}),h.add({title:"contextmenu.left",icon:"justifyleft",cmd:"JustifyLeft"}),h.add({title:"contextmenu.center",icon:"justifycenter",cmd:"JustifyCenter"}),h.add({title:"contextmenu.right",icon:"justifyright",cmd:"JustifyRight"}),h.add({title:"contextmenu.full",icon:"justifyfull",cmd:"JustifyFull"}),b.onContextMenu.dispatch(b,d,g,f),d}}),tinymce.PluginManager.add("contextmenu",tinymce.plugins.ContextMenu)}(),function(){tinymce.create("tinymce.plugins.Directionality",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceDirectionLTR",function(){var b=a.dom.getParent(a.selection.getNode(),a.dom.isBlock);b&&(a.dom.getAttrib(b,"dir")!="ltr"?a.dom.setAttrib(b,"dir","ltr"):a.dom.setAttrib(b,"dir","")),a.nodeChanged()}),a.addCommand("mceDirectionRTL",function(){var b=a.dom.getParent(a.selection.getNode(),a.dom.isBlock);b&&(a.dom.getAttrib(b,"dir")!="rtl"?a.dom.setAttrib(b,"dir","rtl"):a.dom.setAttrib(b,"dir","")),a.nodeChanged()}),a.addButton("ltr",{title:"directionality.ltr_desc",cmd:"mceDirectionLTR"}),a.addButton("rtl",{title:"directionality.rtl_desc",cmd:"mceDirectionRTL"}),a.onNodeChange.add(c._nodeChange,c)},getInfo:function(){return{longname:"Directionality",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/directionality",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var d=a.dom,e;c=d.getParent(c,d.isBlock);if(!c){b.setDisabled("ltr",1),b.setDisabled("rtl",1);return}e=d.getAttrib(c,"dir"),b.setActive("ltr",e=="ltr"),b.setDisabled("ltr",0),b.setActive("rtl",e=="rtl"),b.setDisabled("rtl",0)}}),tinymce.PluginManager.add("directionality",tinymce.plugins.Directionality)}(),function(){tinymce.create("tinymce.plugins.Directionality",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceDirectionLTR",function(){var b=a.dom.getParent(a.selection.getNode(),a.dom.isBlock);b&&(a.dom.getAttrib(b,"dir")!="ltr"?a.dom.setAttrib(b,"dir","ltr"):a.dom.setAttrib(b,"dir","")),a.nodeChanged()}),a.addCommand("mceDirectionRTL",function(){var b=a.dom.getParent(a.selection.getNode(),a.dom.isBlock);b&&(a.dom.getAttrib(b,"dir")!="rtl"?a.dom.setAttrib(b,"dir","rtl"):a.dom.setAttrib(b,"dir","")),a.nodeChanged()}),a.addButton("ltr",{title:"directionality.ltr_desc",cmd:"mceDirectionLTR"}),a.addButton("rtl",{title:"directionality.rtl_desc",cmd:"mceDirectionRTL"}),a.onNodeChange.add(c._nodeChange,c)},getInfo:function(){return{longname:"Directionality",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/directionality",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var d=a.dom,e;c=d.getParent(c,d.isBlock);if(!c){b.setDisabled("ltr",1),b.setDisabled("rtl",1);return}e=d.getAttrib(c,"dir"),b.setActive("ltr",e=="ltr"),b.setDisabled("ltr",0),b.setActive("rtl",e=="rtl"),b.setDisabled("rtl",0)}}),tinymce.PluginManager.add("directionality",tinymce.plugins.Directionality)}(),function(a){a.create("tinymce.plugins.EmotionsPlugin",{init:function(a,b){a.addCommand("mceEmotion",function(){a.windowManager.open({file:b+"/emotions.htm",width:250+parseInt(a.getLang("emotions.delta_width",0)),height:160+parseInt(a.getLang("emotions.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("emotions",{title:"emotions.emotions_desc",cmd:"mceEmotion"})},getInfo:function(){return{longname:"Emotions",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/emotions",version:a.majorVersion+"."+a.minorVersion}}}),a.PluginManager.add("emotions",a.plugins.EmotionsPlugin)}(tinymce),function(a){a.create("tinymce.plugins.EmotionsPlugin",{init:function(a,b){a.addCommand("mceEmotion",function(){a.windowManager.open({file:b+"/emotions.htm",width:250+parseInt(a.getLang("emotions.delta_width",0)),height:160+parseInt(a.getLang("emotions.delta_height",0)),inline:1},{plugin_url:b})}),a.addButton("emotions",{title:"emotions.emotions_desc",cmd:"mceEmotion"})},getInfo:function(){return{longname:"Emotions",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/emotions",version:a.majorVersion+"."+a.minorVersion}}}),a.PluginManager.add("emotions",a.plugins.EmotionsPlugin)}(tinymce),tinyMCEPopup.requireLangPack();var EmotionsDialog={init:function(a){tinyMCEPopup.resizeToInnerSize()},insert:function(a,b){var c=tinyMCEPopup.editor,d=c.dom;tinyMCEPopup.execCommand("mceInsertContent",!1,d.createHTML("img",{src:tinyMCEPopup.getWindowArg("plugin_url")+"/img/"+a,alt:c.getLang(b),title:c.getLang(b),border:0})),tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(EmotionsDialog.init,EmotionsDialog),tinyMCE.addI18n("en.emotions_dlg",{title:"Insert emotion",desc:"Emotions",cool:"Cool",cry:"Cry",embarassed:"Embarassed",foot_in_mouth:"Foot in mouth",frown:"Frown",innocent:"Innocent",kiss:"Kiss",laughing:"Laughing",money_mouth:"Money mouth",sealed:"Sealed",smile:"Smile",surprised:"Surprised",tongue_out:"Tongue out",undecided:"Undecided",wink:"Wink",yell:"Yell"}),function(){tinymce.PluginManager.requireLangPack("example"),tinymce.create("tinymce.plugins.ExamplePlugin",{init:function(a,b){a.addCommand("mceExample",function(){a.windowManager.open({file:b+"/dialog.htm",width:320+parseInt(a.getLang("example.delta_width",0)),height:120+parseInt(a.getLang("example.delta_height",0)),inline:1},{plugin_url:b,some_custom_arg:"custom arg"})}),a.addButton("example",{title:"example.desc",cmd:"mceExample",image:b+"/img/example.gif"}),a.onNodeChange.add(function(a,b,c){b.setActive("example",c.nodeName=="IMG")})},createControl:function(a,b){return null},getInfo:function(){return{longname:"Example plugin",author:"Some author",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/example",version:"1.0"}}}),tinymce.PluginManager.add("example",tinymce.plugins.ExamplePlugin)}(),function(){tinymce.PluginManager.requireLangPack("example"),tinymce.create("tinymce.plugins.ExamplePlugin",{init:function(a,b){a.addCommand("mceExample",function(){a.windowManager.open({file:b+"/dialog.htm",width:320+parseInt(a.getLang("example.delta_width",0)),height:120+parseInt(a.getLang("example.delta_height",0)),inline:1},{plugin_url:b,some_custom_arg:"custom arg"})}),a.addButton("example",{title:"example.desc",cmd:"mceExample",image:b+"/img/example.gif"}),a.onNodeChange.add(function(a,b,c){b.setActive("example",c.nodeName=="IMG")})},createControl:function(a,b){return null},getInfo:function(){return{longname:"Example plugin",author:"Some author",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/example",version:"1.0"}}}),tinymce.PluginManager.add("example",tinymce.plugins.ExamplePlugin)}(),tinyMCEPopup.requireLangPack();var ExampleDialog={init:function(){var a=document.forms[0];a.someval.value=tinyMCEPopup.editor.selection.getContent({format:"text"}),a.somearg.value=tinyMCEPopup.getWindowArg("some_custom_arg")},insert:function(){tinyMCEPopup.editor.execCommand("mceInsertContent",!1,document.forms[0].someval.value),tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(ExampleDialog.init,ExampleDialog),tinyMCE.addI18n("en.example",{desc:"This is just a template button"}),tinyMCE.addI18n("en.example_dlg",{title:"This is just a example title"}),function(){tinymce.create("tinymce.plugins.FullPagePlugin",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceFullPageProperties",function(){a.windowManager.open({file:b+"/fullpage.htm",width:430+parseInt(a.getLang("fullpage.delta_width",0)),height:495+parseInt(a.getLang("fullpage.delta_height",0)),inline:1},{plugin_url:b,head_html:c.head})}),a.addButton("fullpage",{title:"fullpage.desc",cmd:"mceFullPageProperties"}),a.onBeforeSetContent.add(c._setContent,c),a.onSetContent.add(c._setBodyAttribs,c),a.onGetContent.add(c._getContent,c)},getInfo:function(){return{longname:"Fullpage",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/fullpage",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_setBodyAttribs:function(a,b){var c,d,e,f,g,h,i,j=this.head.match(/body(.*?)>/i);if(j&&j[1]){c=j[1].match(/\s*(\w+\s*=\s*".*?"|\w+\s*=\s*'.*?'|\w+\s*=\s*\w+|\w+)\s*/g);if(c)for(d=0,e=c.length;d<e;d++)f=c[d].split("="),g=f[0].replace(/\s/,""),h=f[1],h?(h=h.replace(/^\s+/,"").replace(/\s+$/,""),i=h.match(/^["'](.*)["']$/),i&&(h=i[1])):h=g,a.dom.setAttrib(a.getBody(),"style",h)}},_createSerializer:function(){return new tinymce.dom.Serializer({dom:this.editor.dom,apply_source_formatting:!0})},_setContent:function(a,b){var c=this,d,e,f=b.content,g,h="";if(b.format=="raw"&&c.head)return;if(b.source_view&&a.getParam("fullpage_hide_in_source_view"))return;f=f.replace(/<(\/?)BODY/gi,"<$1body"),d=f.indexOf("<body");if(d!=-1){d=f.indexOf(">",d),c.head=f.substring(0,d+1),e=f.indexOf("</body",d),e==-1&&(e=f.indexOf("</body",e)),b.content=f.substring(d+1,e),c.foot=f.substring(e);function i(a){return a.replace(/<\/?[A-Z]+/g,function(a){return a.toLowerCase()})}c.head=i(c.head),c.foot=i(c.foot)}else{c.head="",a.getParam("fullpage_default_xml_pi")&&(c.head+='<?xml version="1.0" encoding="'+a.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),c.head+=a.getParam("fullpage_default_doctype",'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'),c.head+="\n<html>\n<head>\n<title>"+a.getParam("fullpage_default_title","Untitled document")+"</title>\n";if(g=a.getParam("fullpage_default_encoding"))c.head+='<meta http-equiv="Content-Type" content="'+g+'" />\n';if(g=a.getParam("fullpage_default_font_family"))h+="font-family: "+g+";";if(g=a.getParam("fullpage_default_font_size"))h+="font-size: "+g+";";if(g=a.getParam("fullpage_default_text_color"))h+="color: "+g+";";c.head+="</head>\n<body"+(h?' style="'+h+'"':"")+">\n",c.foot="\n</body>\n</html>"}},_getContent:function(a,b){var c=this;if(!b.source_view||!a.getParam("fullpage_hide_in_source_view"))b.content=tinymce.trim(c.head)+"\n"+tinymce.trim(b.content)+"\n"+tinymce.trim(c.foot)}}),tinymce.PluginManager.add("fullpage",tinymce.plugins.FullPagePlugin)}(),function(){tinymce.create("tinymce.plugins.FullPagePlugin",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceFullPageProperties",function(){a.windowManager.open({file:b+"/fullpage.htm",width:430+parseInt(a.getLang("fullpage.delta_width",0)),height:495+parseInt(a.getLang("fullpage.delta_height",0)),inline:1},{plugin_url:b,head_html:c.head})}),a.addButton("fullpage",{title:"fullpage.desc",cmd:"mceFullPageProperties"}),a.onBeforeSetContent.add(c._setContent,c),a.onSetContent.add(c._setBodyAttribs,c),a.onGetContent.add(c._getContent,c)},getInfo:function(){return{longname:"Fullpage",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/fullpage",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_setBodyAttribs:function(a,b){var c,d,e,f,g,h,i,j=this.head.match(/body(.*?)>/i);if(j&&j[1]){c=j[1].match(/\s*(\w+\s*=\s*".*?"|\w+\s*=\s*'.*?'|\w+\s*=\s*\w+|\w+)\s*/g);if(c)for(d=0,e=c.length;d<e;d++)f=c[d].split("="),g=f[0].replace(/\s/,""),h=f[1],h?(h=h.replace(/^\s+/,"").replace(/\s+$/,""),i=h.match(/^["'](.*)["']$/),i&&(h=i[1])):h=g,a.dom.setAttrib(a.getBody(),"style",h)}},_createSerializer:function(){return new tinymce.dom.Serializer({dom:this.editor.dom,apply_source_formatting:!0})},_setContent:function(a,b){var c=this,d,e,f=b.content,g,h="";if(b.format=="raw"&&c.head)return;if(b.source_view&&a.getParam("fullpage_hide_in_source_view"))return;f=f.replace(/<(\/?)BODY/gi,"<$1body"),d=f.indexOf("<body");if(d!=-1){d=f.indexOf(">",d),c.head=f.substring(0,d+1),e=f.indexOf("</body",d),e==-1&&(e=f.indexOf("</body",e)),b.content=f.substring(d+1,e),c.foot=f.substring(e);function i(a){return a.replace(/<\/?[A-Z]+/g,function(a){return a.toLowerCase()})}c.head=i(c.head),c.foot=i(c.foot)}else{c.head="",a.getParam("fullpage_default_xml_pi")&&(c.head+='<?xml version="1.0" encoding="'+a.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),c.head+=a.getParam("fullpage_default_doctype",'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'),c.head+="\n<html>\n<head>\n<title>"+a.getParam("fullpage_default_title","Untitled document")+"</title>\n";if(g=a.getParam("fullpage_default_encoding"))c.head+='<meta http-equiv="Content-Type" content="'+g+'" />\n';if(g=a.getParam("fullpage_default_font_family"))h+="font-family: "+g+";";if(g=a.getParam("fullpage_default_font_size"))h+="font-size: "+g+";";if(g=a.getParam("fullpage_default_text_color"))h+="color: "+g+";";c.head+="</head>\n<body"+(h?' style="'+h+'"':"")+">\n",c.foot="\n</body>\n</html>"}},_getContent:function(a,b){var c=this;if(!b.source_view||!a.getParam("fullpage_hide_in_source_view"))b.content=tinymce.trim(c.head)+"\n"+tinymce.trim(b.content)+"\n"+tinymce.trim(c.foot)}}),tinymce.PluginManager.add("fullpage",tinymce.plugins.FullPagePlugin)}(),tinyMCEPopup.requireLangPack();var doc,defaultDocTypes='XHTML 1.0 Transitional=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">,XHTML 1.0 Frameset=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">,XHTML 1.0 Strict=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">,XHTML 1.1=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">,HTML 4.01 Transitional=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">,HTML 4.01 Strict=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">,HTML 4.01 Frameset=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">',defaultEncodings="Western european (iso-8859-1)=iso-8859-1,Central European (iso-8859-2)=iso-8859-2,Unicode (UTF-8)=utf-8,Chinese traditional (Big5)=big5,Cyrillic (iso-8859-5)=iso-8859-5,Japanese (iso-2022-jp)=iso-2022-jp,Greek (iso-8859-7)=iso-8859-7,Korean (iso-2022-kr)=iso-2022-kr,ASCII (us-ascii)=us-ascii",defaultMediaTypes="all=all,screen=screen,print=print,tty=tty,tv=tv,projection=projection,handheld=handheld,braille=braille,aural=aural",defaultFontNames="Arial=arial,helvetica,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,times new roman,times,serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Verdana=verdana,arial,helvetica,sans-serif;Impact=impact;WingDings=wingdings",defaultFontSizes="10px,11px,12px,13px,14px,15px,16px";tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.fullpage_dlg",{title:"Document properties",meta_tab:"General",appearance_tab:"Appearance",advanced_tab:"Advanced",meta_props:"Meta information",langprops:"Language and encoding",meta_title:"Title",meta_keywords:"Keywords",meta_description:"Description",meta_robots:"Robots",doctypes:"Doctype",langcode:"Language code",langdir:"Language direction",ltr:"Left to right",rtl:"Right to left",xml_pi:"XML declaration",encoding:"Character encoding",appearance_bgprops:"Background properties",appearance_marginprops:"Body margins",appearance_linkprops:"Link colors",appearance_textprops:"Text properties",bgcolor:"Background color",bgimage:"Background image",left_margin:"Left margin",right_margin:"Right margin",top_margin:"Top margin",bottom_margin:"Bottom margin",text_color:"Text color",font_size:"Font size",font_face:"Font face",link_color:"Link color",hover_color:"Hover color",visited_color:"Visited color",active_color:"Active color",textcolor:"Color",fontsize:"Font size",fontface:"Font family",meta_index_follow:"Index and follow the links",meta_index_nofollow:"Index and don't follow the links",meta_noindex_follow:"Do not index but follow the links",meta_noindex_nofollow:"Do not index and don't follow the links",appearance_style:"Stylesheet and style properties",stylesheet:"Stylesheet",style:"Style",author:"Author",copyright:"Copyright",add:"Add new element",remove:"Remove selected element",moveup:"Move selected element up",movedown:"Move selected element down",head_elements:"Head elements",info:"Information",add_title:"Title element",add_meta:"Meta element",add_script:"Script element",add_style:"Style element",add_link:"Link element",add_base:"Base element",add_comment:"Comment node",title_element:"Title element",script_element:"Script element",style_element:"Style element",base_element:"Base element",link_element:"Link element",meta_element:"Meta element",comment_element:"Comment",src:"Src",language:"Language",href:"Href",target:"Target",type:"Type",charset:"Charset",defer:"Defer",media:"Media",properties:"Properties",name:"Name",value:"Value",content:"Content",rel:"Rel",rev:"Rev",hreflang:"Href lang",general_props:"General",advanced_props:"Advanced"}),function(){var a=tinymce.DOM;tinymce.create("tinymce.plugins.FullScreenPlugin",{init:function(b,c){var d=this,e={},f;d.editor=b,b.addCommand("mceFullScreen",function(){var g,h=a.doc.documentElement;if(b.getParam("fullscreen_is_enabled")){b.getParam("fullscreen_new_window")?closeFullscreen():a.win.setTimeout(function(){tinymce.dom.Event.remove(a.win,"resize",d.resizeFunc),tinyMCE.get(b.getParam("fullscreen_editor_id")).setContent(b.getContent({format:"raw"}),{format:"raw"}),tinyMCE.remove(b),a.remove("mce_fullscreen_container"),h.style.overflow=b.getParam("fullscreen_html_overflow"),a.setStyle(a.doc.body,"overflow",b.getParam("fullscreen_overflow")),a.win.scrollTo(b.getParam("fullscreen_scrollx"),b.getParam("fullscreen_scrolly")),tinyMCE.settings=tinyMCE.oldSettings},10);return}if(b.getParam("fullscreen_new_window")){g=a.win.open(c+"/fullscreen.htm","mceFullScreenPopup","fullscreen=yes,menubar=no,toolbar=no,scrollbars=no,resizable=yes,left=0,top=0,width="+screen.availWidth+",height="+screen.availHeight);try{g.resizeTo(screen.availWidth,screen.availHeight)}catch(i){}}else tinyMCE.oldSettings=tinyMCE.settings,e.fullscreen_overflow=a.getStyle(a.doc.body,"overflow",1)||"auto",e.fullscreen_html_overflow=a.getStyle(h,"overflow",1),f=a.getViewPort(),e.fullscreen_scrollx=f.x,e.fullscreen_scrolly=f.y,tinymce.isOpera&&e.fullscreen_overflow=="visible"&&(e.fullscreen_overflow="auto"),tinymce.isIE&&e.fullscreen_overflow=="scroll"&&(e.fullscreen_overflow="auto"),tinymce.isIE&&(e.fullscreen_html_overflow=="visible"||e.fullscreen_html_overflow=="scroll")&&(e.fullscreen_html_overflow="auto"),e.fullscreen_overflow=="0px"&&(e.fullscreen_overflow=""),a.setStyle(a.doc.body,"overflow","hidden"),h.style.overflow="hidden",f=a.getViewPort(),a.win.scrollTo(0,0),tinymce.isIE&&(f.h-=1),n=a.add(a.doc.body,"div",{id:"mce_fullscreen_container",style:"position:"+(tinymce.isIE6||tinymce.isIE&&!a.boxModel?"absolute":"fixed")+";top:0;left:0;width:"+f.w+"px;height:"+f.h+"px;z-index:200000;"}),a.add(n,"div",{id:"mce_fullscreen"}),tinymce.each(b.settings,function(a,b){e[b]=a}),e.id="mce_fullscreen",e.width=n.clientWidth,e.height=n.clientHeight-15,e.fullscreen_is_enabled=!0,e.fullscreen_editor_id=b.id,e.theme_advanced_resizing=!1,e.save_onsavecallback=function(){b.setContent(tinyMCE.get(e.id).getContent({format:"raw"}),{format:"raw"}),b.execCommand("mceSave")},tinymce.
each(b.getParam("fullscreen_settings"),function(a,b){e[b]=a}),e.theme_advanced_toolbar_location==="external"&&(e.theme_advanced_toolbar_location="top"),d.fullscreenEditor=new tinymce.Editor("mce_fullscreen",e),d.fullscreenEditor.onInit.add(function(){d.fullscreenEditor.setContent(b.getContent()),d.fullscreenEditor.focus()}),d.fullscreenEditor.render(),d.fullscreenElement=new tinymce.dom.Element("mce_fullscreen_container"),d.fullscreenElement.update(),d.resizeFunc=tinymce.dom.Event.add(a.win,"resize",function(){var a=tinymce.DOM.getViewPort(),b=d.fullscreenEditor,c,e;c=b.dom.getSize(b.getContainer().firstChild),e=b.dom.getSize(b.getContainer().getElementsByTagName("iframe")[0]),b.theme.resizeTo(a.w-c.w+e.w,a.h-c.h+e.h)})}),b.addButton("fullscreen",{title:"fullscreen.desc",cmd:"mceFullScreen"}),b.onNodeChange.add(function(a,b){b.setActive("fullscreen",a.getParam("fullscreen_is_enabled"))})},getInfo:function(){return{longname:"Fullscreen",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/fullscreen",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("fullscreen",tinymce.plugins.FullScreenPlugin)}(),function(){var a=tinymce.DOM;tinymce.create("tinymce.plugins.FullScreenPlugin",{init:function(b,c){var d=this,e={},f;d.editor=b,b.addCommand("mceFullScreen",function(){var g,h=a.doc.documentElement;if(b.getParam("fullscreen_is_enabled")){b.getParam("fullscreen_new_window")?closeFullscreen():a.win.setTimeout(function(){tinymce.dom.Event.remove(a.win,"resize",d.resizeFunc),tinyMCE.get(b.getParam("fullscreen_editor_id")).setContent(b.getContent({format:"raw"}),{format:"raw"}),tinyMCE.remove(b),a.remove("mce_fullscreen_container"),h.style.overflow=b.getParam("fullscreen_html_overflow"),a.setStyle(a.doc.body,"overflow",b.getParam("fullscreen_overflow")),a.win.scrollTo(b.getParam("fullscreen_scrollx"),b.getParam("fullscreen_scrolly")),tinyMCE.settings=tinyMCE.oldSettings},10);return}if(b.getParam("fullscreen_new_window")){g=a.win.open(c+"/fullscreen.htm","mceFullScreenPopup","fullscreen=yes,menubar=no,toolbar=no,scrollbars=no,resizable=yes,left=0,top=0,width="+screen.availWidth+",height="+screen.availHeight);try{g.resizeTo(screen.availWidth,screen.availHeight)}catch(i){}}else tinyMCE.oldSettings=tinyMCE.settings,e.fullscreen_overflow=a.getStyle(a.doc.body,"overflow",1)||"auto",e.fullscreen_html_overflow=a.getStyle(h,"overflow",1),f=a.getViewPort(),e.fullscreen_scrollx=f.x,e.fullscreen_scrolly=f.y,tinymce.isOpera&&e.fullscreen_overflow=="visible"&&(e.fullscreen_overflow="auto"),tinymce.isIE&&e.fullscreen_overflow=="scroll"&&(e.fullscreen_overflow="auto"),tinymce.isIE&&(e.fullscreen_html_overflow=="visible"||e.fullscreen_html_overflow=="scroll")&&(e.fullscreen_html_overflow="auto"),e.fullscreen_overflow=="0px"&&(e.fullscreen_overflow=""),a.setStyle(a.doc.body,"overflow","hidden"),h.style.overflow="hidden",f=a.getViewPort(),a.win.scrollTo(0,0),tinymce.isIE&&(f.h-=1),n=a.add(a.doc.body,"div",{id:"mce_fullscreen_container",style:"position:"+(tinymce.isIE6||tinymce.isIE&&!a.boxModel?"absolute":"fixed")+";top:0;left:0;width:"+f.w+"px;height:"+f.h+"px;z-index:200000;"}),a.add(n,"div",{id:"mce_fullscreen"}),tinymce.each(b.settings,function(a,b){e[b]=a}),e.id="mce_fullscreen",e.width=n.clientWidth,e.height=n.clientHeight-15,e.fullscreen_is_enabled=!0,e.fullscreen_editor_id=b.id,e.theme_advanced_resizing=!1,e.save_onsavecallback=function(){b.setContent(tinyMCE.get(e.id).getContent({format:"raw"}),{format:"raw"}),b.execCommand("mceSave")},tinymce.each(b.getParam("fullscreen_settings"),function(a,b){e[b]=a}),e.theme_advanced_toolbar_location==="external"&&(e.theme_advanced_toolbar_location="top"),d.fullscreenEditor=new tinymce.Editor("mce_fullscreen",e),d.fullscreenEditor.onInit.add(function(){d.fullscreenEditor.setContent(b.getContent()),d.fullscreenEditor.focus()}),d.fullscreenEditor.render(),d.fullscreenElement=new tinymce.dom.Element("mce_fullscreen_container"),d.fullscreenElement.update(),d.resizeFunc=tinymce.dom.Event.add(a.win,"resize",function(){var a=tinymce.DOM.getViewPort(),b=d.fullscreenEditor,c,e;c=b.dom.getSize(b.getContainer().firstChild),e=b.dom.getSize(b.getContainer().getElementsByTagName("iframe")[0]),b.theme.resizeTo(a.w-c.w+e.w,a.h-c.h+e.h)})}),b.addButton("fullscreen",{title:"fullscreen.desc",cmd:"mceFullScreen"}),b.onNodeChange.add(function(a,b){b.setActive("fullscreen",a.getParam("fullscreen_is_enabled"))})},getInfo:function(){return{longname:"Fullscreen",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/fullscreen",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("fullscreen",tinymce.plugins.FullScreenPlugin)}(),function(){tinymce.create("tinymce.plugins.IESpell",{init:function(a,b){var c=this,d;if(!tinymce.isIE)return;c.editor=a,a.addCommand("mceIESpell",function(){try{d=new ActiveXObject("ieSpell.ieSpellExtension"),d.CheckDocumentNode(a.getDoc().documentElement)}catch(b){b.number==-2146827859?a.windowManager.confirm(a.getLang("iespell.download"),function(a){a&&window.open("http://www.iespell.com/download.php","ieSpellDownload","")}):a.windowManager.alert("Error Loading ieSpell: Exception "+b.number)}}),a.addButton("iespell",{title:"iespell.iespell_desc",cmd:"mceIESpell"})},getInfo:function(){return{longname:"IESpell (IE Only)",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/iespell",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("iespell",tinymce.plugins.IESpell)}(),function(){tinymce.create("tinymce.plugins.IESpell",{init:function(a,b){var c=this,d;if(!tinymce.isIE)return;c.editor=a,a.addCommand("mceIESpell",function(){try{d=new ActiveXObject("ieSpell.ieSpellExtension"),d.CheckDocumentNode(a.getDoc().documentElement)}catch(b){b.number==-2146827859?a.windowManager.confirm(a.getLang("iespell.download"),function(a){a&&window.open("http://www.iespell.com/download.php","ieSpellDownload","")}):a.windowManager.alert("Error Loading ieSpell: Exception "+b.number)}}),a.addButton("iespell",{title:"iespell.iespell_desc",cmd:"mceIESpell"})},getInfo:function(){return{longname:"IESpell (IE Only)",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/iespell",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("iespell",tinymce.plugins.IESpell)}(),function(){var a=tinymce.DOM,b=tinymce.dom.Element,c=tinymce.dom.Event,d=tinymce.each,e=tinymce.is;tinymce.create("tinymce.plugins.InlinePopups",{init:function(b,c){b.onBeforeRenderUI.add(function(){b.windowManager=new tinymce.InlineWindowManager(b),a.loadCSS(c+"/skins/"+(b.settings.inlinepopups_skin||"clearlooks2")+"/window.css")})},getInfo:function(){return{longname:"InlinePopups",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(a){var b=this;b.parent(a),b.zIndex=3e5,b.count=0,b.windows={}},open:function(d,e){var f=this,g,h="",i=f.editor,j=0,k=0,l,m,n,o,p,q,r;return d=d||{},e=e||{},d.inline?(d.type||(f.bookmark=i.selection.getBookmark(1)),g=a.uniqueId(),l=a.getViewPort(),d.width=parseInt(d.width||320),d.height=parseInt(d.height||240)+(tinymce.isIE?8:0),d.min_width=parseInt(d.min_width||150),d.min_height=parseInt(d.min_height||100),d.max_width=parseInt(d.max_width||2e3),d.max_height=parseInt(d.max_height||2e3),d.left=d.left||Math.round(Math.max(l.x,l.x+l.w/2-d.width/2)),d.top=d.top||Math.round(Math.max(l.y,l.y+l.h/2-d.height/2)),d.movable=d.resizable=!0,e.mce_width=d.width,e.mce_height=d.height,e.mce_inline=!0,e.mce_window_id=g,e.mce_auto_focus=d.auto_focus,f.features=d,f.params=e,f.onOpen.dispatch(f,d,e),d.type&&(h+=" mceModal",d.type&&(h+=" mce"+d.type.substring(0,1).toUpperCase()+d.type.substring(1)),d.resizable=!1),d.statusbar&&(h+=" mceStatusbar"),d.resizable&&(h+=" mceResizable"),d.minimizable&&(h+=" mceMinimizable"),d.maximizable&&(h+=" mceMaximizable"),d.movable&&(h+=" mceMovable"),f._addAll(a.doc.body,["div",{id:g,"class":i.settings.inlinepopups_skin||"clearlooks2",style:"width:100px;height:100px"},["div",{id:g+"_wrapper","class":"mceWrapper"+h},["div",{id:g+"_top","class":"mceTop"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:g+"_title"},d.title||""]],["div",{id:g+"_middle","class":"mceMiddle"},["div",{id:g+"_left","class":"mceLeft"}],["span",{id:g+"_content"}],["div",{id:g+"_right","class":"mceRight"}]],["div",{id:g+"_bottom","class":"mceBottom"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:g+"_status"},"Content"]],["a",{"class":"mceMove",tabindex:"-1",href:"javascript:;"}],["a",{"class":"mceMin",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMax",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMed",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceClose",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{id:g+"_resize_n","class":"mceResize mceResizeN",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_s","class":"mceResize mceResizeS",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_w","class":"mceResize mceResizeW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_e","class":"mceResize mceResizeE",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_nw","class":"mceResize mceResizeNW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_ne","class":"mceResize mceResizeNE",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_sw","class":"mceResize mceResizeSW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_se","class":"mceResize mceResizeSE",tabindex:"-1",href:"javascript:;"}]]]),a.setStyles(g,{top:-1e4,left:-1e4}),tinymce.isGecko&&a.setStyle(g,"overflow","auto"),d.type||(j+=a.get(g+"_left").clientWidth,j+=a.get(g+"_right").clientWidth,k+=a.get(g+"_top").clientHeight,k+=a.get(g+"_bottom").clientHeight),a.setStyles(g,{top:d.top,left:d.left,width:d.width+j,height:d.height+k}),r=d.url||d.file,r&&(tinymce.relaxedDomain&&(r+=(r.indexOf("?")==-1?"?":"&")+"mce_rdomain="+tinymce.relaxedDomain),r=tinymce._addVer(r)),d.type?(a.add(g+"_wrapper","a",{id:g+"_ok","class":"mceButton mceOk",href:"javascript:;",onmousedown:"return false;"},"Ok"),d.type=="confirm"&&a.add(g+"_wrapper","a",{"class":"mceButton mceCancel",href:"javascript:;",onmousedown:"return false;"},"Cancel"),a.add(g+"_middle","div",{"class":"mceIcon"}),a.setHTML(g+"_content",d.content.replace("\n","<br />"))):(a.add(g+"_content","iframe",{id:g+"_ifr",src:'javascript:""',frameBorder:0,style:"border:0;width:10px;height:10px"}),a.setStyles(g+"_ifr",{width:d.width,height:d.height}),a.setAttrib(g+"_ifr","src",r)),n=c.add(g,"mousedown",function(b){var c=b.target,d,e;d=f.windows[g],f.focus(g);if(c.nodeName=="A"||c.nodeName=="a")if(c.className=="mceMax")d.oldPos=d.element.getXY(),d.oldSize=d.element.getSize(),e=a.getViewPort(),e.w-=2,e.h-=2,d.element.moveTo(e.x,e.y),d.element.resizeTo(e.w,e.h),a.setStyles(g+"_ifr",{width:e.w-d.deltaWidth,height:e.h-d.deltaHeight}),a.addClass(g+"_wrapper","mceMaximized");else if(c.className=="mceMed")d.element.moveTo(d.oldPos.x,d.oldPos.y),d.element.resizeTo(d.oldSize.w,d.oldSize.h),d.iframeElement.resizeTo(d.oldSize.w-d.deltaWidth,d.oldSize.h-d.deltaHeight),a.removeClass(g+"_wrapper","mceMaximized");else{if(c.className=="mceMove")return f._startDrag(g,b,c.className);if(a.hasClass(c,"mceResize"))return f._startDrag(g,b,c.className.substring(13))}}),o=c.add(g,"click",function(a){var b=a.target;f.focus(g);if(b.nodeName=="A"||b.nodeName=="a")switch(b.className){case"mceClose":return f.close(null,g),c.cancel(a);case"mceButton mceOk":case"mceButton mceCancel":return d.button_func(b.className=="mceButton mceOk"),c.cancel(a)}}),q=f.windows[g]={id:g,mousedown_func:n,click_func:o,element:new b(g,{blocker:1,container:i.getContainer()}),iframeElement:new b(g+"_ifr"),features:d,deltaWidth:j,deltaHeight:k},q.iframeElement.on("focus",function(){f.focus(g)}),f.count==0&&f.editor.getParam("dialog_type","modal")=="modal"?(a.add(a.doc.body,"div",{id:"mceModalBlocker","class":(f.editor.settings.inlinepopups_skin||"clearlooks2")+"_modalBlocker",style:{zIndex:f.zIndex-1}}),a.show("mceModalBlocker")):a.setStyle("mceModalBlocker","z-index",f.zIndex-1),(tinymce.isIE6||/Firefox\/2\./.test(navigator.userAgent)||tinymce.isIE&&!a.boxModel)&&a.setStyles("mceModalBlocker",{position:"absolute",left:l.x,top:l.y,width:l.w-2,height:l.h-2}),f.focus(g),f._fixIELayout(g,1),a.get(g+"_ok")&&a.get(g+"_ok").focus(),f.count++,q):f.parent(d,e)},focus:function(b){var c=this,d;if(d=c.windows[b])d.zIndex=this.zIndex++,d.element.setStyle("zIndex",d.zIndex),d.element.update(),b+="_wrapper",a.removeClass(c.lastId,"mceFocus"),a.addClass(b,"mceFocus"),c.lastId=b},_addAll:function(a,b){var c,d,f=this,g=tinymce.DOM;if(e(b,"string"))a.appendChild(g.doc.createTextNode(b));else if(b.length){a=a.appendChild(g.create(b[0],b[1]));for(c=2;c<b.length;c++)f._addAll(a,b[c])}},_startDrag:function(d,e,f){function B(){if(k)return;g._fixIELayout(d,0),a.add(j.body,"div",{id:"mceEventBlocker","class":"mceEventBlocker "+(g.editor.settings.inlinepopups_skin||"clearlooks2"),style:{zIndex:g.zIndex+1}}),(tinymce.isIE6||tinymce.isIE&&!a.boxModel)&&a.setStyles("mceEventBlocker",{position:"absolute",left:s.x,top:s.y,width:s.w-2,height:s.h-2}),k=new b("mceEventBlocker"),k.update(),o=m.getXY(),p=m.getSize(),t=r.x+o.x-s.x,u=r.y+o.y-s.y,a.add(k.get(),"div",{id:"mcePlaceHolder","class":"mcePlaceHolder",style:{left:t,top:u,width:p.w,height:p.h}}),q=new b("mcePlaceHolder")}var g=this,h,i,j=a.doc,k,l=g.windows[d],m=l.element,n=m.getXY(),o,p,q,r,s,t,u,v,w,x,y,z,A;return r={x:0,y:0},s=a.getViewPort(),s.w-=2,s.h-=2,v=e.screenX,w=e.screenY,x=y=z=A=0,h=c.add(j,"mouseup",function(b){return c.remove(j,"mouseup",h),c.remove(j,"mousemove",i),k&&k.remove(),m.moveBy(x,y),m.resizeBy(z,A),p=m.getSize(),a.setStyles(d+"_ifr",{width:p.w-l.deltaWidth,height:p.h-l.deltaHeight}),g._fixIELayout(d,1),c.cancel(b)}),f!="Move"&&B(),i=c.add(j,"mousemove",function(a){var b,d,e;B(),b=a.screenX-v,d=a.screenY-w;switch(f){case"ResizeW":x=b,z=0-b;break;case"ResizeE":z=b;break;case"ResizeN":case"ResizeNW":case"ResizeNE":f=="ResizeNW"?(x=b,z=0-b):f=="ResizeNE"&&(z=b),y=d,A=0-d;break;case"ResizeS":case"ResizeSW":case"ResizeSE":f=="ResizeSW"?(x=b,z=0-b):f=="ResizeSE"&&(z=b),A=d;break;case"mceMove":x=b,y=d}return z<(e=l.features.min_width-p.w)&&(x!==0&&(x+=z-e),z=e),A<(e=l.features.min_height-p.h)&&(y!==0&&(y+=A-e),A=e),z=Math.min(z,l.features.max_width-p.w),A=Math.min(A,l.features.max_height-p.h),x=Math.max(x,s.x-(t+s.x)),y=Math.max(y,s.y-(u+s.y)),x=Math.min(x,s.w+s.x-(t+p.w+s.x)),y=Math.min(y,s.h+s.y-(u+p.h+s.y)),x+y!==0&&(t+x<0&&(x=0),u+y<0&&(y=0),q.moveTo(t+x,u+y)),z+A!==0&&q.resizeTo(p.w+z,p.h+A),c.cancel(a)}),c.cancel(e)},resizeBy:function(a,b,c){var d=this.windows[c];d&&(d.element.resizeBy(a,b),d.iframeElement.resizeBy(a,b))},close:function(b,e){var f=this,g,h=a.doc,i=0,j,e;e=f._findId(e||b);if(!f.windows[e]){f.parent(b);return}f.count--,f.count==0&&a.remove("mceModalBlocker");if(g=f.windows[e])f.onClose.dispatch(f),c.remove(h,"mousedown",g.mousedownFunc),c.remove(h,"click",g.clickFunc),c.clear(e),c.clear(e+"_ifr"),a.setAttrib(e+"_ifr","src",'javascript:""'),g.element.remove(),delete f.windows[e],d(f.windows,function(a){a.zIndex>i&&(j=a,i=a.zIndex)}),j&&f.focus(j.id)},setTitle:function(b,c){var d;b=this._findId(b);if(d=a.get(b+"_title"))d.innerHTML=a.encode(c)},alert:function(b,c,d){var e=this,f;f=e.open({title:e,type:"alert",button_func:function(a){c&&c.call(a||e,a),e.close(null,f.id)},content:a.encode(e.editor.getLang(b,b)),inline:1,width:400,height:130})},confirm:function(b,c,d){var e=this,f;f=e.open({title:e,type:"confirm",button_func:function(a){c&&c.call(a||e,a),e.close(null,f.id)},content:a.encode(e.editor.getLang(b,b)),inline:1,width:400,height:130})},_findId:function(b){var c=this;return typeof b=="string"?b:(d(c.windows,function(c){var d=a.get(c.id+"_ifr");if(d&&b==d.contentWindow)return b=c.id,!1}),b)},_fixIELayout:function(b,c){var e,f;if(!tinymce.isIE6)return;d(["n","s","w","e","nw","ne","sw","se"],function(d){var e=a.get(b+"_resize_"+d);a.setStyles(e,{width:c?e.clientWidth:"",height:c?e.clientHeight:"",cursor:a.getStyle(e,"cursor",1)}),a.setStyle(b+"_bottom","bottom","-1px"),e=0});if(e=this.windows[b])e.element.hide(),e.element.show(),d(a.select("div,a",b),function(a,b){a.currentStyle.backgroundImage!="none"&&(f=new Image,f.src=a.currentStyle.backgroundImage.replace(/url\(\"(.+)\"\)/,"$1"))}),a.get(b).style.filter=""}}),tinymce.PluginManager.add("inlinepopups",tinymce.plugins.InlinePopups)}(),function(){var a=tinymce.DOM,b=tinymce.dom.Element,c=tinymce.dom.Event,d=tinymce.each,e=tinymce.is;tinymce.create("tinymce.plugins.InlinePopups",{init:function(b,c){b.onBeforeRenderUI.add(function(){b.windowManager=new tinymce.InlineWindowManager(b),a.loadCSS(c+"/skins/"+(b.settings.inlinepopups_skin||"clearlooks2")+"/window.css")})},getInfo:function(){return{longname:"InlinePopups",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(a){var b=this;b.parent(a),b.zIndex=3e5,b.count=0,b.windows={}},open:function(d,e){var f=this,g,h="",i=f.editor,j=0,k=0,l,m,n,o,p,q,r;return d=d||{},e=e||{},d.inline?(d.type||(f.bookmark=i.selection.getBookmark(1)),g=a.uniqueId(),l=a.getViewPort(),d.width=parseInt(d.width||320),d.height=parseInt(d.height||240)+(tinymce.isIE?8:0),d.min_width=parseInt(d.min_width||150),d.min_height=parseInt(d.min_height||100),d.max_width=parseInt(d.max_width||2e3),d.max_height=parseInt(d.max_height||2e3),d.left=d.left||Math.round(Math.max(l.x,l.x+l.w/2-d.width/2)),d.top=d.top||Math.round(Math.max(l.y,l.y+l.h/2-d.height/2)),d.movable=d.resizable=!0,e.mce_width=d.width,e.mce_height=d.height,e.mce_inline=!0,e.mce_window_id=g,e.mce_auto_focus=d.auto_focus,f.features=d,f.params=e,f.onOpen.dispatch(f,d,e),d.type&&(h+=" mceModal",d.type&&(h+=" mce"+d.type.substring(0,1).toUpperCase()+d.type.substring(1)),d.resizable=!1),d.statusbar&&(h+=" mceStatusbar"),d.resizable&&(h+=" mceResizable"),d.minimizable&&(h+=" mceMinimizable"),d.maximizable&&(h+=" mceMaximizable"),d.movable&&(h+=" mceMovable"),f._addAll(a.doc.body,["div",{id:g,"class":i.settings.inlinepopups_skin||"clearlooks2",style:"width:100px;height:100px"},["div",{id:g+"_wrapper","class":"mceWrapper"+h},["div",{id:g+"_top","class":"mceTop"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:g+"_title"},d.title||""]],["div",{id:g+"_middle","class":"mceMiddle"},["div",{id:g+"_left","class":"mceLeft"}],["span",{id:g+"_content"}],["div",{id:g+"_right","class":"mceRight"}]],["div",{id:g+"_bottom","class":"mceBottom"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:g+"_status"},"Content"]],["a",{"class":"mceMove",tabindex:"-1",href:"javascript:;"}],["a",{"class":"mceMin",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMax",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMed",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceClose",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{id:g+"_resize_n","class":"mceResize mceResizeN",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_s","class":"mceResize mceResizeS",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_w","class":"mceResize mceResizeW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_e","class":"mceResize mceResizeE",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_nw","class":"mceResize mceResizeNW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_ne","class":"mceResize mceResizeNE",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_sw","class":"mceResize mceResizeSW",tabindex:"-1",href:"javascript:;"}],["a",{id:g+"_resize_se","class":"mceResize mceResizeSE",tabindex:"-1",href:"javascript:;"}]]]),a.setStyles(g,{top:-1e4,left:-1e4}),tinymce.isGecko&&a.setStyle(g,"overflow","auto"),d.type||(j+=a.get(g+"_left").clientWidth,j+=a.get(g+"_right").clientWidth,k+=a.get(g+"_top").clientHeight,k+=a.get(g+"_bottom").clientHeight),a.setStyles(g,{top:d.top,left:d.left,width:d.width+j,height:d.height+k}),r=d.url||d.file,r&&(tinymce.relaxedDomain&&(r+=(r.indexOf("?")==-1?"?":"&")+"mce_rdomain="+tinymce.relaxedDomain),r=tinymce._addVer(r)),d.type?(a.add(g+"_wrapper","a",{id:g+"_ok","class":"mceButton mceOk",href:"javascript:;",onmousedown:"return false;"},"Ok"),d.type=="confirm"&&a.add(g+"_wrapper","a",{"class":"mceButton mceCancel",href:"javascript:;",onmousedown:"return false;"},"Cancel"),a.add(g+"_middle","div",{"class":"mceIcon"}),a.setHTML(g+"_content",d.content.replace("\n","<br />"))):(a.add(g+"_content","iframe",{id:g+"_ifr",src:'javascript:""',frameBorder:0,style:"border:0;width:10px;height:10px"}),a.setStyles(g+"_ifr",{width:d.width,height:d.height}),a.setAttrib(g+"_ifr","src",r)),n=c.add(g,"mousedown",function(b){var c=b.target,d,e;d=f.windows[g],f.focus(g);if(c.nodeName=="A"||c.nodeName=="a")if(c.className=="mceMax")d.oldPos=d.element.getXY(),d.oldSize=d.element.getSize(),e=a.getViewPort(),e.w-=2,e.h-=2,d.element.moveTo(e.x,e.y),d.element.resizeTo(e.w,e.h),a.setStyles(g+"_ifr",{width:e.w-d.deltaWidth,height:e.h-d.deltaHeight}),a.addClass(g+"_wrapper","mceMaximized");else if(c.className=="mceMed")d.element.moveTo(d.oldPos.x,d.oldPos.y),d.element.resizeTo(d.oldSize.w,d.oldSize.h),d.iframeElement.resizeTo(d.oldSize.w-d.deltaWidth,d.oldSize.h-d.deltaHeight),a.removeClass(g+"_wrapper","mceMaximized");else{if(c.className=="mceMove")return f._startDrag(g,b,c.className);if(a.hasClass(c,"mceResize"))return f._startDrag(g,b,c.className.substring(13))}}),o=c.add(g,"click",function(a){var b=a.target;f.focus(g);if(b.nodeName=="A"||b.nodeName=="a")switch(b.className){case"mceClose":return f.close(null,g),c.cancel(a);case"mceButton mceOk":case"mceButton mceCancel":return d.button_func(b.className=="mceButton mceOk"),c.cancel(a)}}),q=f.windows[g]={id:g,mousedown_func:n,click_func:o,element:new b(g,{blocker:1,container:i.getContainer()}),iframeElement:new b(g+"_ifr"),features:d,deltaWidth:j,deltaHeight:k},q.iframeElement.on("focus",function(){f.focus(g)}),f.count==0&&f.editor.getParam("dialog_type","modal")=="modal"?(a.add(a.doc.body,"div",{id:"mceModalBlocker","class":(f.editor.settings.inlinepopups_skin||"clearlooks2")+"_modalBlocker",style:{zIndex:f.zIndex-1}}),a.show("mceModalBlocker")):a.setStyle("mceModalBlocker","z-index",f.zIndex-1),(tinymce.isIE6||/Firefox\/2\./.test(navigator.userAgent)||tinymce.isIE&&!a.boxModel)&&a.setStyles("mceModalBlocker",{position:"absolute",left:l.x,top:l.y,width:l.w-2,height:l.h-2}),f.focus(g),f._fixIELayout(g,1),a.get(g+"_ok")&&a.get(g+"_ok").focus(),f.count++,q):f.parent(d,e)},focus:function(b){var c=this,d;if(d=c.windows[b])d.zIndex=this.zIndex++,d.element.setStyle("zIndex",d.zIndex),d.element.update(),b+="_wrapper",a.removeClass(c.lastId,"mceFocus"),a.addClass(b,"mceFocus"),c.lastId=b},_addAll:function(a,b){var c,d,f=this,g=tinymce.DOM;if(e(b,"string"))a.appendChild(g.doc.createTextNode(b));else if(b.length){a=a.appendChild(g.create(b[0],b[1]));for(c=2;c<b.length;c++)f._addAll(a,b[c])}},_startDrag:function(d,e,f){function B(){if(k)return;g._fixIELayout(d,0),a.add(j.body,"div",{id:"mceEventBlocker","class":"mceEventBlocker "+(g.editor.settings.inlinepopups_skin||"clearlooks2"),style:{zIndex:g.zIndex+1}}),(tinymce.isIE6||tinymce.isIE&&!a.boxModel)&&a.setStyles("mceEventBlocker",{position:"absolute",left:s.x,top:s.y,width:s.w-2,height:s.h-2}),k=new b("mceEventBlocker"),k.update(),o=m.getXY(),p=m.getSize(),t=r.x+o.x-s.x,u=r.y+o.y-s.y,a.add(k.get(),"div",{id:"mcePlaceHolder","class":"mcePlaceHolder",style:{left:t,top:u,width:p.w,height:p.h}}),q=new b("mcePlaceHolder")}var g=this,h,i,j=a.doc,k,l=g.windows[d],m=l.element,n=m.getXY(),o,p,q,r,s,t,u,v,w,x,y,z,A;return r={x:0,y:0},s=a.getViewPort(),s.w-=2,s.h-=2,v=e.screenX,w=e.screenY,x=y=z=A=0,h=c.add(j,"mouseup",function(b){return c.remove(j,"mouseup",h),c.remove(j,"mousemove",i),k&&k.remove(),m.moveBy(x,y),m.resizeBy(z,A),p=m.getSize(),a.setStyles(d+"_ifr",{width:p.w-l.deltaWidth,height:p.h-l.deltaHeight}),g._fixIELayout(d,1),c.cancel(b)}),f!="Move"&&B(),i=c.add(j,"mousemove",function(a){var b,d,e;B(),b=a.screenX-v,d=a.screenY-w;switch(f){case"ResizeW":x=b,z=0-b;break;case"ResizeE":z=b;break;case"ResizeN":case"ResizeNW":case"ResizeNE":f=="ResizeNW"?(x=b,z=0-b):f=="ResizeNE"&&(z=b),y=d,A=0-d;break;case"ResizeS":case"ResizeSW":case"ResizeSE":f=="ResizeSW"?(x=b,z=0-b):f=="ResizeSE"&&(z=b),A=d;break;case"mceMove":x=b,y=d}return z<(e=l.features.min_width-p.w)&&(x!==0&&(x+=z-e),z=e),A<(e=l.features.min_height-p.h)&&(y!==0&&(y+=A-e),A=e),z=Math.min(z,l.features.max_width-p.w),A=Math.min(A,l.features.max_height-p.h),x=Math.max(x,s.x-(t+s.x)),y=Math.max(y,s.y-(u+s.y)),x=Math.min(x,s.w+s.x-(t+p.w+s.x)),y=Math.min(y,s.h+s.y-(u+p.h+s.y)),x+y!==0&&(t+x<0&&(x=0),u+y<0&&(y=0),q.moveTo(t+x,u+y)),z+A!==0&&q.resizeTo(p.w+z,p.h+A),c.cancel(a)}),c.cancel(e)},resizeBy:function(a,b,c){var d=this.windows[c];d&&(d.element.resizeBy(a,b),d.iframeElement.resizeBy(a,b))},close:function(b,e){var f=this,g,h=a.doc,i=0,j,e;e=f._findId(e||b);if(!f.windows[e]){f.parent(b);return}f.count--,f.count==0&&a.remove("mceModalBlocker");if(g=f.windows[e])f.onClose.dispatch(f),c.remove(h,"mousedown",g.mousedownFunc),c.remove(h,"click",g.clickFunc),c.clear(e),c.clear(e+"_ifr"),a.setAttrib(e+"_ifr","src",'javascript:""'),g.element.remove(),delete f.windows[e],d(f.windows,function(a){a.zIndex>i&&(j=a,i=a.zIndex)}),j&&f.focus(j.id)},setTitle:function(b,c){var d;b=this._findId(b);if(d=a.get(b+"_title"))d.innerHTML=a.encode(c)},alert:function(b,c,d){var e=this,f;f=e.open({title:e,type:"alert",button_func:function(a){c&&c.call(a||e,a),e.close(null,f.id)},content:a.encode(e.editor.getLang(b,b)),inline:1,width:400,height:130})},confirm:function(b,c,d){var e=this,f;f=e.open({title:e,type:"confirm",button_func:function(a){c&&c.call(a||e,a),e.close(null,f.id)},content:a.encode(e.editor.getLang(b,b)),inline:1,width:400,height:130})},_findId:function(b){var c=this;return typeof b=="string"?b:(d(c.windows,function(c){var d=a.get(c.id+"_ifr");if(d&&b==d.contentWindow)return b=c.id,!1}),b)},_fixIELayout:function(b,c){var e,f;if(!tinymce.isIE6)return;d(["n","s","w","e","nw","ne","sw","se"],function(d){var e=a.get(b+"_resize_"+d);a.setStyles(e,{width:c?e.clientWidth:"",height:c?e.clientHeight:"",cursor:a.getStyle(e,"cursor",1)}),a.setStyle(b+"_bottom","bottom","-1px"),e=0});if(e=this.windows[b])e.element.hide(),e.element.show(),d(a.select("div,a",b),function(a,b){a.currentStyle.backgroundImage!="none"&&(f=new Image,f.src=a.currentStyle.backgroundImage.replace(/url\(\"(.+)\"\)/,"$1"))}),a.get(b).style.filter=""}}),tinymce.PluginManager.add("inlinepopups",tinymce.plugins.InlinePopups)}(),function(){tinymce.create("tinymce.plugins.InsertDateTime",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceInsertDate",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_dateFormat",a.getLang("insertdatetime.date_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addCommand("mceInsertTime",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_timeFormat",a.getLang("insertdatetime.time_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addButton("insertdate",{title:"insertdatetime.insertdate_desc",cmd:"mceInsertDate"}),a.addButton("inserttime",{title:"insertdatetime.inserttime_desc",cmd:"mceInsertTime"})},getInfo:function(){return{longname:"Insert date/time",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/insertdatetime",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getDateTime:function(a,b){function d(a,b){a=""+a;if(a.length<b)for(var c=0;c<b-a.length;c++)a="0"+a;return a}var c=this.editor;return b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",d(a.getMonth()+1,2)),b=b.replace("%d",d(a.getDate(),2)),b=b.replace("%H",""+d(a.getHours(),2)),b=b.replace("%M",""+d(a.getMinutes(),2)),b=b.replace("%S",""+d(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%B",""+c.getLang("insertdatetime.months_long").split(",")[a.getMonth()]),b=b.replace("%b",""+c.getLang("insertdatetime.months_short").split(",")[a.getMonth()]),b=b.replace("%A",""+c.getLang("insertdatetime.day_long").split(",")[a.getDay()]),b=b.replace("%a",""+c.getLang("insertdatetime.day_short").split(",")[a.getDay()]),b=b.replace("%%","%"),b}}),tinymce.PluginManager.add("insertdatetime",tinymce.plugins.InsertDateTime)}(),function(){tinymce.create("tinymce.plugins.InsertDateTime",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceInsertDate",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_dateFormat",a.getLang("insertdatetime.date_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addCommand("mceInsertTime",function(){var b=c._getDateTime(new Date,a.getParam("plugin_insertdate_timeFormat",a.getLang("insertdatetime.time_fmt")));a.execCommand("mceInsertContent",!1,b)}),a.addButton("insertdate",{title:"insertdatetime.insertdate_desc",cmd:"mceInsertDate"}),a.addButton("inserttime",{title:"insertdatetime.inserttime_desc",cmd:"mceInsertTime"})},getInfo:function(){return{longname:"Insert date/time",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/insertdatetime",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getDateTime:function(a,b){function d(a,b){a=""+a;if(a.length<b)for(var c=0;c<b-a.length;c++)a="0"+a;return a}var c=this.editor;return b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",d(a.getMonth()+1,2)),b=b.replace("%d",d(a.getDate(),2)),b=b.replace("%H",""+d(a.getHours(),2)),b=b.replace("%M",""+d(a.getMinutes(),2)),b=b.replace("%S",""+d(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%B",""+c.getLang("insertdatetime.months_long").split(",")[a.getMonth()]),b=b.replace("%b",""+c.getLang("insertdatetime.months_short").split(",")[a.getMonth()]),b=b.replace("%A",""+c.getLang("insertdatetime.day_long").split(",")[a.getDay()]),b=b.replace("%a",""+c.getLang("insertdatetime.day_short").split(",")[a.getDay()]),b=b.replace("%%","%"),b}}),tinymce.PluginManager.add("insertdatetime",tinymce.plugins.InsertDateTime)}(),function(){tinymce.create("tinymce.plugins.Layer",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceInsertLayer",c._insertLayer,c),a.addCommand("mceMoveForward",function(){c._move(1)}),a.addCommand("mceMoveBackward",function(){c._move(-1)}),a.addCommand("mceMakeAbsolute",function(){c._toggleAbsolute()}),a.addButton("moveforward",{title:"layer.forward_desc",cmd:"mceMoveForward"}),a.addButton("movebackward",{title:"layer.backward_desc",cmd:"mceMoveBackward"}),a.addButton("absolute",{title:"layer.absolute_desc",cmd:"mceMakeAbsolute"}),a.addButton("insertlayer",{title:"layer.insertlayer_desc",cmd:"mceInsertLayer"}),a.onInit.add(function(){tinymce.isIE&&a.getDoc().execCommand("2D-Position",!1,!0)}),a.onNodeChange.add(c._nodeChange,c),a.onVisualAid.add(c._visualAid,c)},getInfo:function(){return{longname:"Layer",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/layer",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var d,e;d=this._getParentLayer(c),e=a.dom.getParent(c,"DIV,P,IMG"),e?(b.setDisabled("absolute",0),b.setDisabled("moveforward",!d),b.setDisabled("movebackward",!d),b.setActive("absolute",d&&d.style.position.toLowerCase()=="absolute")):(b.setDisabled("absolute",1),b.setDisabled("moveforward",1),b.setDisabled
("movebackward",1))},_visualAid:function(a,b,c){var d=a.dom;tinymce.each(d.select("div,p",b),function(a){/^(absolute|relative|static)$/i.test(a.style.position)&&(c?d.addClass(a,"mceItemVisualAid"):d.removeClass(a,"mceItemVisualAid"))})},_move:function(a){var b=this.editor,c,d=[],e=this._getParentLayer(b.selection.getNode()),f=-1,g=-1,h;h=[],tinymce.walk(b.getBody(),function(a){a.nodeType==1&&/^(absolute|relative|static)$/i.test(a.style.position)&&h.push(a)},"childNodes");for(c=0;c<h.length;c++)d[c]=h[c].style.zIndex?parseInt(h[c].style.zIndex):0,f<0&&h[c]==e&&(f=c);if(a<0){for(c=0;c<d.length;c++)if(d[c]<d[f]){g=c;break}g>-1?(h[f].style.zIndex=d[g],h[g].style.zIndex=d[f]):d[f]>0&&(h[f].style.zIndex=d[f]-1)}else{for(c=0;c<d.length;c++)if(d[c]>d[f]){g=c;break}g>-1?(h[f].style.zIndex=d[g],h[g].style.zIndex=d[f]):h[f].style.zIndex=d[f]+1}b.execCommand("mceRepaint")},_getParentLayer:function(a){return this.editor.dom.getParent(a,function(a){return a.nodeType==1&&/^(absolute|relative|static)$/i.test(a.style.position)})},_insertLayer:function(){var a=this.editor,b=a.dom.getPos(a.dom.getParent(a.selection.getNode(),"*"));a.dom.add(a.getBody(),"div",{style:{position:"absolute",left:b.x,top:b.y>20?b.y:20,width:100,height:100},"class":"mceItemVisualAid"},a.selection.getContent()||a.getLang("layer.content"))},_toggleAbsolute:function(){var a=this.editor,b=this._getParentLayer(a.selection.getNode());b||(b=a.dom.getParent(a.selection.getNode(),"DIV,P,IMG")),b&&(b.style.position.toLowerCase()=="absolute"?(a.dom.setStyles(b,{position:"",left:"",top:"",width:"",height:""}),a.dom.removeClass(b,"mceItemVisualAid")):(b.style.left==""&&(b.style.left="20px"),b.style.top==""&&(b.style.top="20px"),b.style.width==""&&(b.style.width=b.width?b.width+"px":"100px"),b.style.height==""&&(b.style.height=b.height?b.height+"px":"100px"),b.style.position="absolute",a.addVisual(a.getBody())),a.execCommand("mceRepaint"),a.nodeChanged())}}),tinymce.PluginManager.add("layer",tinymce.plugins.Layer)}(),function(){tinymce.create("tinymce.plugins.Layer",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceInsertLayer",c._insertLayer,c),a.addCommand("mceMoveForward",function(){c._move(1)}),a.addCommand("mceMoveBackward",function(){c._move(-1)}),a.addCommand("mceMakeAbsolute",function(){c._toggleAbsolute()}),a.addButton("moveforward",{title:"layer.forward_desc",cmd:"mceMoveForward"}),a.addButton("movebackward",{title:"layer.backward_desc",cmd:"mceMoveBackward"}),a.addButton("absolute",{title:"layer.absolute_desc",cmd:"mceMakeAbsolute"}),a.addButton("insertlayer",{title:"layer.insertlayer_desc",cmd:"mceInsertLayer"}),a.onInit.add(function(){tinymce.isIE&&a.getDoc().execCommand("2D-Position",!1,!0)}),a.onNodeChange.add(c._nodeChange,c),a.onVisualAid.add(c._visualAid,c)},getInfo:function(){return{longname:"Layer",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/layer",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var d,e;d=this._getParentLayer(c),e=a.dom.getParent(c,"DIV,P,IMG"),e?(b.setDisabled("absolute",0),b.setDisabled("moveforward",!d),b.setDisabled("movebackward",!d),b.setActive("absolute",d&&d.style.position.toLowerCase()=="absolute")):(b.setDisabled("absolute",1),b.setDisabled("moveforward",1),b.setDisabled("movebackward",1))},_visualAid:function(a,b,c){var d=a.dom;tinymce.each(d.select("div,p",b),function(a){/^(absolute|relative|static)$/i.test(a.style.position)&&(c?d.addClass(a,"mceItemVisualAid"):d.removeClass(a,"mceItemVisualAid"))})},_move:function(a){var b=this.editor,c,d=[],e=this._getParentLayer(b.selection.getNode()),f=-1,g=-1,h;h=[],tinymce.walk(b.getBody(),function(a){a.nodeType==1&&/^(absolute|relative|static)$/i.test(a.style.position)&&h.push(a)},"childNodes");for(c=0;c<h.length;c++)d[c]=h[c].style.zIndex?parseInt(h[c].style.zIndex):0,f<0&&h[c]==e&&(f=c);if(a<0){for(c=0;c<d.length;c++)if(d[c]<d[f]){g=c;break}g>-1?(h[f].style.zIndex=d[g],h[g].style.zIndex=d[f]):d[f]>0&&(h[f].style.zIndex=d[f]-1)}else{for(c=0;c<d.length;c++)if(d[c]>d[f]){g=c;break}g>-1?(h[f].style.zIndex=d[g],h[g].style.zIndex=d[f]):h[f].style.zIndex=d[f]+1}b.execCommand("mceRepaint")},_getParentLayer:function(a){return this.editor.dom.getParent(a,function(a){return a.nodeType==1&&/^(absolute|relative|static)$/i.test(a.style.position)})},_insertLayer:function(){var a=this.editor,b=a.dom.getPos(a.dom.getParent(a.selection.getNode(),"*"));a.dom.add(a.getBody(),"div",{style:{position:"absolute",left:b.x,top:b.y>20?b.y:20,width:100,height:100},"class":"mceItemVisualAid"},a.selection.getContent()||a.getLang("layer.content"))},_toggleAbsolute:function(){var a=this.editor,b=this._getParentLayer(a.selection.getNode());b||(b=a.dom.getParent(a.selection.getNode(),"DIV,P,IMG")),b&&(b.style.position.toLowerCase()=="absolute"?(a.dom.setStyles(b,{position:"",left:"",top:"",width:"",height:""}),a.dom.removeClass(b,"mceItemVisualAid")):(b.style.left==""&&(b.style.left="20px"),b.style.top==""&&(b.style.top="20px"),b.style.width==""&&(b.style.width=b.width?b.width+"px":"100px"),b.style.height==""&&(b.style.height=b.height?b.height+"px":"100px"),b.style.position="absolute",a.addVisual(a.getBody())),a.execCommand("mceRepaint"),a.nodeChanged())}}),tinymce.PluginManager.add("layer",tinymce.plugins.Layer)}(),function(a){a.onAddEditor.addToTop(function(a,b){b.settings.inline_styles=!1}),a.create("tinymce.plugins.LegacyOutput",{init:function(b){b.onInit.add(function(){var c="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",d=a.explode(b.settings.font_size_style_values),e=b.serializer;b.formatter.register({alignleft:{selector:c,attributes:{align:"left"}},aligncenter:{selector:c,attributes:{align:"center"}},alignright:{selector:c,attributes:{align:"right"}},alignfull:{selector:c,attributes:{align:"full"}},bold:{inline:"b"},italic:{inline:"i"},underline:{inline:"u"},strikethrough:{inline:"strike"},fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(b){return a.inArray(d,b.value)+1}}},forecolor:{inline:"font",styles:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e._setup(),a.each("b,i,u,strike".split(","),function(a){var b=e.rules[a];b||e.addRules(a)}),e.rules.font||e.addRules("font[face|size|color|style]"),a.each(c.split(","),function(b){var c=e.rules[b],d;c&&(a.each(c.attribs,function(a,b){if(b.name=="align")return d=!0,!1}),d||c.attribs.push({name:"align"}))}),b.onNodeChange.add(function(b,c){var e,f,g,h;f=b.dom.getParent(b.selection.getNode(),"font"),f&&(g=f.face,h=f.size),(e=c.get("fontselect"))&&e.select(function(a){return a==g}),(e=c.get("fontsizeselect"))&&e.select(function(b){var c=a.inArray(d,b.fontSize);return c+1==h})})})},getInfo:function(){return{longname:"LegacyOutput",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/legacyoutput",version:a.majorVersion+"."+a.minorVersion}}}),a.PluginManager.add("legacyoutput",a.plugins.LegacyOutput)}(tinymce),function(a){a.onAddEditor.addToTop(function(a,b){b.settings.inline_styles=!1}),a.create("tinymce.plugins.LegacyOutput",{init:function(b){b.onInit.add(function(){var c="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",d=a.explode(b.settings.font_size_style_values),e=b.serializer;b.formatter.register({alignleft:{selector:c,attributes:{align:"left"}},aligncenter:{selector:c,attributes:{align:"center"}},alignright:{selector:c,attributes:{align:"right"}},alignfull:{selector:c,attributes:{align:"full"}},bold:{inline:"b"},italic:{inline:"i"},underline:{inline:"u"},strikethrough:{inline:"strike"},fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(b){return a.inArray(d,b.value)+1}}},forecolor:{inline:"font",styles:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e._setup(),a.each("b,i,u,strike".split(","),function(a){var b=e.rules[a];b||e.addRules(a)}),e.rules.font||e.addRules("font[face|size|color|style]"),a.each(c.split(","),function(b){var c=e.rules[b],d;c&&(a.each(c.attribs,function(a,b){if(b.name=="align")return d=!0,!1}),d||c.attribs.push({name:"align"}))}),b.onNodeChange.add(function(b,c){var e,f,g,h;f=b.dom.getParent(b.selection.getNode(),"font"),f&&(g=f.face,h=f.size),(e=c.get("fontselect"))&&e.select(function(a){return a==g}),(e=c.get("fontsizeselect"))&&e.select(function(b){var c=a.inArray(d,b.fontSize);return c+1==h})})})},getInfo:function(){return{longname:"LegacyOutput",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/legacyoutput",version:a.majorVersion+"."+a.minorVersion}}}),a.PluginManager.add("legacyoutput",a.plugins.LegacyOutput)}(tinymce),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.MediaPlugin",{init:function(b,c){function e(a){return/^(mceItemFlash|mceItemShockWave|mceItemWindowsMedia|mceItemQuickTime|mceItemRealMedia)$/.test(a.className)}function f(a,c){return c=(new RegExp(c+'="([^"]+)"',"g")).exec(a),c?b.dom.decode(c[1]):""}var d=this;d.editor=b,d.url=c,b.onPreInit.add(function(){b.serializer.addRules("param[name|value|_mce_value]")}),b.addCommand("mceMedia",function(){b.windowManager.open({file:c+"/media.htm",width:430+parseInt(b.getLang("media.delta_width",0)),height:470+parseInt(b.getLang("media.delta_height",0)),inline:1},{plugin_url:c})}),b.addButton("media",{title:"media.desc",cmd:"mceMedia"}),b.onNodeChange.add(function(a,b,c){b.setActive("media",c.nodeName=="IMG"&&e(c))}),b.onInit.add(function(){var e={mceItemFlash:"flash",mceItemShockWave:"shockwave",mceItemWindowsMedia:"windowsmedia",mceItemQuickTime:"quicktime",mceItemRealMedia:"realmedia"};b.selection.onSetContent.add(function(){d._spansToImgs(b.getBody())}),b.selection.onBeforeSetContent.add(d._objectsToSpans,d),b.settings.content_css!==!1&&b.dom.loadCSS(c+"/css/content.css"),b.theme&&b.theme.onResolveName&&b.theme.onResolveName.add(function(c,d){d.name=="img"&&a(e,function(a,c){if(b.dom.hasClass(d.node,c))return d.name=a,d.title=b.dom.getAttrib(d.node,"title"),!1})}),b&&b.plugins.contextmenu&&b.plugins.contextmenu.onContextMenu.add(function(a,b,c){c.nodeName=="IMG"&&/mceItem(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)/.test(c.className)&&b.add({title:"media.edit",icon:"media",cmd:"mceMedia"})})}),b.onBeforeSetContent.add(d._objectsToSpans,d),b.onSetContent.add(function(){d._spansToImgs(b.getBody())}),b.onPreProcess.add(function(b,c){var f=b.dom;c.set&&(d._spansToImgs(c.node),a(f.select("IMG",c.node),function(a){var b;e(a)&&(b=d._parse(a.title),f.setAttrib(a,"width",f.getAttrib(a,"width",b.width||100)),f.setAttrib(a,"height",f.getAttrib(a,"height",b.height||100)))})),c.get&&a(f.select("IMG",c.node),function(a){var c,i,j;if(b.getParam("media_use_script")){e(a)&&(a.className=a.className.replace(/mceItem/g,"mceTemp"));return}switch(a.className){case"mceItemFlash":c="d27cdb6e-ae6d-11cf-96b8-444553540000",i="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",j="application/x-shockwave-flash";break;case"mceItemShockWave":c="166b1bca-3f9c-11cf-8075-444553540000",i="http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0",j="application/x-director";break;case"mceItemWindowsMedia":c=b.getParam("media_wmp6_compatible")?"05589fa1-c356-11ce-bf01-00aa0055595a":"6bf52a52-394a-11d3-b153-00c04f79faa6",i="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701",j="application/x-mplayer2";break;case"mceItemQuickTime":c="02bf25d5-8c17-4b23-bc80-d3488abddc6b",i="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0",j="video/quicktime";break;case"mceItemRealMedia":c="cfcdaa03-8be4-11cf-b84b-0020afbbccfa",i="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",j="audio/x-pn-realaudio-plugin"}c&&f.replace(d._buildObj({classid:c,codebase:i,type:j},a),a)})}),b.onPostProcess.add(function(a,b){b.content=b.content.replace(/_mce_value=/g,"value=")}),b.onPostProcess.add(function(a,b){a.getParam("media_use_script")&&(b.content=b.content.replace(/<img[^>]+>/g,function(a){var b=f(a,"class");return/^(mceTempFlash|mceTempShockWave|mceTempWindowsMedia|mceTempQuickTime|mceTempRealMedia)$/.test(b)&&(at=d._parse(f(a,"title")),at.width=f(a,"width"),at.height=f(a,"height"),a='<script type="text/javascript">write'+b.substring(7)+"({"+d._serialize(at)+"});</script>"),a}))})},getInfo:function(){return{longname:"Media",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_objectsToSpans:function(a,b){var c=this,d=b.content;d=d.replace(/<script[^>]*>\s*write(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)\(\{([^\)]*)\}\);\s*<\/script>/gi,function(b,d,e){var f=c._parse(e);return'<img class="mceItem'+d+'" title="'+a.dom.encode(e)+'" src="'+c.url+'/img/trans.gif" width="'+f.width+'" height="'+f.height+'" />'}),d=d.replace(/<object([^>]*)>/gi,'<span class="mceItemObject" $1>'),d=d.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed" $1></span>'),d=d.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed" $1>'),d=d.replace(/<\/(object)([^>]*)>/gi,"</span>"),d=d.replace(/<\/embed>/gi,""),d=d.replace(/<param([^>]*)>/gi,function(a,b){return"<span "+b.replace(/value=/gi,"_mce_value=")+' class="mceItemParam"></span>'}),d=d.replace(/\/ class=\"mceItemParam\"><\/span>/gi,'class="mceItemParam"></span>'),b.content=d},_buildObj:function(b,c){var d,e=this.editor,f=e.dom,g=this._parse(c.title),h;return h=e.getParam("media_strict",!0)&&b.type=="application/x-shockwave-flash",g.width=b.width=f.getAttrib(c,"width")||100,g.height=b.height=f.getAttrib(c,"height")||100,g.src&&(g.src=e.convertURL(g.src,"src",c)),h?d=f.create("span",{id:g.id,_mce_name:"object",type:"application/x-shockwave-flash",data:g.src,style:f.getAttrib(c,"style"),width:b.width,height:b.height}):d=f.create("span",{id:g.id,_mce_name:"object",classid:"clsid:"+b.classid,style:f.getAttrib(c,"style"),codebase:b.codebase,width:b.width,height:b.height}),a(g,function(a,c){/^(width|height|codebase|classid|id|_cx|_cy)$/.test(c)||(b.type=="application/x-mplayer2"&&c=="src"&&!g.url&&(c="url"),a&&f.add(d,"span",{_mce_name:"param",name:c,_mce_value:a}))}),h||f.add(d,"span",tinymce.extend({_mce_name:"embed",type:b.type,style:f.getAttrib(c,"style")},g)),d},_spansToImgs:function(b){var c=this,d=c.editor.dom,e,f;a(d.select("span",b),function(a){if(d.getAttrib(a,"class")=="mceItemObject"){f=d.getAttrib(a,"classid").toLowerCase().replace(/\s+/g,"");switch(f){case"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000":d.replace(c._createImg("mceItemFlash",a),a);break;case"clsid:166b1bca-3f9c-11cf-8075-444553540000":d.replace(c._createImg("mceItemShockWave",a),a);break;case"clsid:6bf52a52-394a-11d3-b153-00c04f79faa6":case"clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95":case"clsid:05589fa1-c356-11ce-bf01-00aa0055595a":d.replace(c._createImg("mceItemWindowsMedia",a),a);break;case"clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b":d.replace(c._createImg("mceItemQuickTime",a),a);break;case"clsid:cfcdaa03-8be4-11cf-b84b-0020afbbccfa":d.replace(c._createImg("mceItemRealMedia",a),a);break;default:d.replace(c._createImg("mceItemFlash",a),a)}return}if(d.getAttrib(a,"class")=="mceItemEmbed")switch(d.getAttrib(a,"type")){case"application/x-shockwave-flash":d.replace(c._createImg("mceItemFlash",a),a);break;case"application/x-director":d.replace(c._createImg("mceItemShockWave",a),a);break;case"application/x-mplayer2":d.replace(c._createImg("mceItemWindowsMedia",a),a);break;case"video/quicktime":d.replace(c._createImg("mceItemQuickTime",a),a);break;case"audio/x-pn-realaudio-plugin":d.replace(c._createImg("mceItemRealMedia",a),a);break;default:d.replace(c._createImg("mceItemFlash",a),a)}})},_createImg:function(b,c){var d,e=this.editor.dom,f={},g="",h;return h=["id","name","width","height","bgcolor","align","flashvars","src","wmode","allowfullscreen","quality","data"],d=e.create("img",{src:this.url+"/img/trans.gif",width:e.getAttrib(c,"width")||100,height:e.getAttrib(c,"height")||100,style:e.getAttrib(c,"style"),"class":b}),a(h,function(a){var b=e.getAttrib(c,a);b&&(f[a]=b)}),a(e.select("span",c),function(a){e.hasClass(a,"mceItemParam")&&(f[e.getAttrib(a,"name")]=e.getAttrib(a,"_mce_value"))}),f.movie&&(f.src=f.movie,delete f.movie),f.src||(f.src=f.data,delete f.data),c=e.select(".mceItemEmbed",c)[0],c&&a(h,function(a){var b=e.getAttrib(c,a);b&&!f[a]&&(f[a]=b)}),delete f.width,delete f.height,d.title=this._serialize(f),d},_parse:function(a){return tinymce.util.JSON.parse("{"+a+"}")},_serialize:function(a){return tinymce.util.JSON.serialize(a).replace(/[{}]/g,"")}}),tinymce.PluginManager.add("media",tinymce.plugins.MediaPlugin)}(),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.MediaPlugin",{init:function(b,c){function e(a){return/^(mceItemFlash|mceItemShockWave|mceItemWindowsMedia|mceItemQuickTime|mceItemRealMedia)$/.test(a.className)}function f(a,c){return c=(new RegExp(c+'="([^"]+)"',"g")).exec(a),c?b.dom.decode(c[1]):""}var d=this;d.editor=b,d.url=c,b.onPreInit.add(function(){b.serializer.addRules("param[name|value|_mce_value]")}),b.addCommand("mceMedia",function(){b.windowManager.open({file:c+"/media.htm",width:430+parseInt(b.getLang("media.delta_width",0)),height:470+parseInt(b.getLang("media.delta_height",0)),inline:1},{plugin_url:c})}),b.addButton("media",{title:"media.desc",cmd:"mceMedia"}),b.onNodeChange.add(function(a,b,c){b.setActive("media",c.nodeName=="IMG"&&e(c))}),b.onInit.add(function(){var e={mceItemFlash:"flash",mceItemShockWave:"shockwave",mceItemWindowsMedia:"windowsmedia",mceItemQuickTime:"quicktime",mceItemRealMedia:"realmedia"};b.selection.onSetContent.add(function(){d._spansToImgs(b.getBody())}),b.selection.onBeforeSetContent.add(d._objectsToSpans,d),b.settings.content_css!==!1&&b.dom.loadCSS(c+"/css/content.css"),b.theme&&b.theme.onResolveName&&b.theme.onResolveName.add(function(c,d){d.name=="img"&&a(e,function(a,c){if(b.dom.hasClass(d.node,c))return d.name=a,d.title=b.dom.getAttrib(d.node,"title"),!1})}),b&&b.plugins.contextmenu&&b.plugins.contextmenu.onContextMenu.add(function(a,b,c){c.nodeName=="IMG"&&/mceItem(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)/.test(c.className)&&b.add({title:"media.edit",icon:"media",cmd:"mceMedia"})})}),b.onBeforeSetContent.add(d._objectsToSpans,d),b.onSetContent.add(function(){d._spansToImgs(b.getBody())}),b.onPreProcess.add(function(b,c){var f=b.dom;c.set&&(d._spansToImgs(c.node),a(f.select("IMG",c.node),function(a){var b;e(a)&&(b=d._parse(a.title),f.setAttrib(a,"width",f.getAttrib(a,"width",b.width||100)),f.setAttrib(a,"height",f.getAttrib(a,"height",b.height||100)))})),c.get&&a(f.select("IMG",c.node),function(a){var c,g,h;if(b.getParam("media_use_script")){e(a)&&(a.className=a.className.replace(/mceItem/g,"mceTemp"));return}switch(a.className){case"mceItemFlash":c="d27cdb6e-ae6d-11cf-96b8-444553540000",g="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",h="application/x-shockwave-flash";break;case"mceItemShockWave":c="166b1bca-3f9c-11cf-8075-444553540000",g="http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0",h="application/x-director";break;case"mceItemWindowsMedia":c=b.getParam("media_wmp6_compatible")?"05589fa1-c356-11ce-bf01-00aa0055595a":"6bf52a52-394a-11d3-b153-00c04f79faa6",g="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701",h="application/x-mplayer2";break;case"mceItemQuickTime":c="02bf25d5-8c17-4b23-bc80-d3488abddc6b",g="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0",h="video/quicktime";break;case"mceItemRealMedia":c="cfcdaa03-8be4-11cf-b84b-0020afbbccfa",g="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",h="audio/x-pn-realaudio-plugin"}c&&f.replace(d._buildObj({classid:c,codebase:g,type:h},a),a)})}),b.onPostProcess.add(function(a,b){b.content=b.content.replace(/_mce_value=/g,"value=")}),b.onPostProcess.add(function(a,b){a.getParam("media_use_script")&&(b.content=b.content.replace(/<img[^>]+>/g,function(a){var b=f(a,"class");return/^(mceTempFlash|mceTempShockWave|mceTempWindowsMedia|mceTempQuickTime|mceTempRealMedia)$/.test(b)&&(at=d._parse(f(a,"title")),at.width=f(a,"width"),at.height=f(a,"height"),a='<script type="text/javascript">write'+b.substring(7)+"({"+d._serialize(at)+"});</script>"),a}))})},getInfo:function(){return{longname:"Media",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_objectsToSpans:function(a,b){var c=this,d=b.content;d=d.replace(/<script[^>]*>\s*write(Flash|ShockWave|WindowsMedia|QuickTime|RealMedia)\(\{([^\)]*)\}\);\s*<\/script>/gi,function(b,d,e){var f=c._parse(e);return'<img class="mceItem'+d+'" title="'+a.dom.encode(e)+'" src="'+c.url+'/img/trans.gif" width="'+f.width+'" height="'+f.height+'" />'}),d=d.replace(/<object([^>]*)>/gi,'<span class="mceItemObject" $1>'),d=d.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed" $1></span>'),d=d.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed" $1>'),d=d.replace(/<\/(object)([^>]*)>/gi,"</span>"),d=d.replace(/<\/embed>/gi,""),d=d.replace(/<param([^>]*)>/gi,function(a,b){return"<span "+b.replace(/value=/gi,"_mce_value=")+' class="mceItemParam"></span>'}),d=d.replace(/\/ class=\"mceItemParam\"><\/span>/gi,'class="mceItemParam"></span>'),b.content=d},_buildObj:function(b,c){var d,e=this.editor,f=e.dom,g=this._parse(c.title),h;return h=e.getParam("media_strict",!0)&&b.type=="application/x-shockwave-flash",g.width=b.width=f.getAttrib(c,"width")||100,g.height=b.height=f.getAttrib(c,"height")||100,g.src&&(g.src=e.convertURL(g.src,"src",c)),h?d=f.create("span",{id:g.id,_mce_name:"object",type:"application/x-shockwave-flash",data:g.src,style:f.getAttrib(c,"style"),width:b.width,height:b.height}):d=f.create("span",{id:g.id,_mce_name:"object",classid:"clsid:"+b.classid,style:f.getAttrib(c,"style"),codebase:b.codebase,width:b.width,height:b.height}),a(g,function(a,c){/^(width|height|codebase|classid|id|_cx|_cy)$/.test(c)||(b.type=="application/x-mplayer2"&&c=="src"&&!g.url&&(c="url"),a&&f.add(d,"span",{_mce_name:"param",name:c,_mce_value:a}))}),h||f.add(d,"span",tinymce.extend({_mce_name:"embed",type:b.type,style:f.getAttrib(c,"style")},g)),d},_spansToImgs:function(b){var c=this,d=c.editor.dom,e,f;a(d.select("span",b),function(a){if(d.getAttrib(a,"class")=="mceItemObject"){f=d.getAttrib(a,"classid").toLowerCase().replace(/\s+/g,"");switch(f){case"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000":d.replace(c._createImg("mceItemFlash",a),a);break;case"clsid:166b1bca-3f9c-11cf-8075-444553540000":d.replace(c._createImg("mceItemShockWave",a),a);break;case"clsid:6bf52a52-394a-11d3-b153-00c04f79faa6":case"clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95":case"clsid:05589fa1-c356-11ce-bf01-00aa0055595a":d.replace(c._createImg("mceItemWindowsMedia",a),a);break;case"clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b":d.replace(c._createImg("mceItemQuickTime",a),a);break;case"clsid:cfcdaa03-8be4-11cf-b84b-0020afbbccfa":d.replace(c._createImg("mceItemRealMedia",a),a);break;default:d.replace(c._createImg("mceItemFlash",a),a)}return}if(d.getAttrib(a,"class")=="mceItemEmbed")switch(d.getAttrib(a,"type")){case"application/x-shockwave-flash":d.replace(c._createImg("mceItemFlash",a),a);break;case"application/x-director":d.replace(c._createImg("mceItemShockWave",a),a);break;case"application/x-mplayer2":d.replace(c._createImg("mceItemWindowsMedia",a),a);break;case"video/quicktime":d.replace(c._createImg("mceItemQuickTime",a),a);break;case"audio/x-pn-realaudio-plugin":d.replace(c._createImg("mceItemRealMedia",a),a);break;default:d.replace(c._createImg("mceItemFlash",a),a)}})},_createImg:function(b,c){var d,e=this.editor.dom,f={},g="",h;return h=["id","name","width","height","bgcolor","align","flashvars","src","wmode","allowfullscreen","quality","data"],d=e.create("img",{src:this.url+"/img/trans.gif",width:e.getAttrib(c,"width")||100,height:e.getAttrib(c,"height")||100,style:e.getAttrib(c,"style"),"class":b}),a(h,function(a){var b=e.getAttrib(c,a);b&&(f[a]=b)}),a(e.select("span",c),function(a){e.hasClass(a,"mceItemParam")&&(f[e.getAttrib(a,"name")]=e.getAttrib(a,"_mce_value"))}),f.movie&&(f.src=f.movie,delete f.movie),f.src||(f.src=f.data,delete f.data),c=e.select(".mceItemEmbed",c)[0],c&&a(h,function(a){var b=e.getAttrib(c,a);b&&!f[a]&&(f[a]=b)}),delete f.width,delete f.height,d.title=this._serialize(f),d},_parse:function(a){return tinymce.util.JSON.parse("{"+a+"}")},_serialize:function(a){return tinymce.util.JSON.serialize(a).replace(/[{}]/g,"")}}),tinymce.PluginManager.add("media",tinymce.plugins.MediaPlugin)}(),tinyMCEPopup.requireLangPack();var oldWidth,oldHeight,ed,url;(url=tinyMCEPopup.getParam("media_external_list_url"))&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(url)+'"></script>'),tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.media_dlg",{title:"Insert / edit embedded media",general:"General",advanced:"Advanced",file:"File/URL",list:"List",size:"Dimensions",preview:"Preview",constrain_proportions:"Constrain proportions",type:"Type",id:"Id",name:"Name",class_name:"Class",vspace:"V-Space",hspace:"H-Space",play:"Auto play",loop:"Loop",menu:"Show menu",quality:"Quality",scale:"Scale",align:"Align",salign:"SAlign",wmode:"WMode",bgcolor:"Background",base:"Base",flashvars:"Flashvars",liveconnect:"SWLiveConnect",autohref:"AutoHREF",cache:"Cache",hidden:"Hidden",controller:"Controller",kioskmode:"Kiosk mode",playeveryframe:"Play every frame",targetcache:"Target cache",correction:"No correction",enablejavascript:"Enable JavaScript",starttime:"Start time",endtime:"End time",href:"Href",qtsrcchokespeed:"Choke speed",target:"Target",volume:"Volume",autostart:"Auto start",enabled:"Enabled",fullscreen:"Fullscreen",invokeurls:"Invoke URLs",mute:"Mute",stretchtofit:"Stretch to fit",windowlessvideo:"Windowless video",balance:"Balance",baseurl:"Base URL",captioningid:"Captioning id",currentmarker:"Current marker",currentposition:"Current position",defaultframe:"Default frame",playcount:"Play count",rate:"Rate",uimode:"UI Mode",flash_options:"Flash options",qt_options:"Quicktime options",wmp_options:"Windows media player options",rmp_options:"Real media player options",shockwave_options:"Shockwave options",autogotourl:"Auto goto URL",center:"Center",imagestatus:"Image status",maintainaspect:"Maintain aspect",nojava:"No java",prefetch:"Prefetch",shuffle:"Shuffle",console:"Console",numloop:"Num loops",controls:"Controls",scriptcallbacks:"Script callbacks",swstretchstyle:"Stretch style",swstretchhalign:"Stretch H-Align",swstretchvalign:"Stretch V-Align",sound:"Sound",progress:"Progress",qtsrc:"QT Src",qt_stream_warn:"Streamed rtsp resources should be added to the QT Src field under the advanced tab.\nYou should also add a non streamed version to the Src field..",align_top:"Top",align_right:"Right",align_bottom:"Bottom",align_left:"Left",align_center:"Center",align_top_left:"Top left",align_top_right:"Top right",align_bottom_left:"Bottom left",align_bottom_right:"Bottom right",flv_options:"Flash video options",flv_scalemode:"Scale mode",flv_buffer:"Buffer",flv_startimage:"Start image",flv_starttime:"Start time",flv_defaultvolume:"Default volumne",flv_hiddengui:"Hidden GUI",flv_autostart:"Auto start",flv_loop:"Loop",flv_showscalemodes:"Show scale modes",flv_smoothvideo:"Smooth video",flv_jscallback:"JS Callback"}),function(){tinymce.create("tinymce.plugins.Nonbreaking",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceNonBreaking",function(){a.execCommand("mceInsertContent",!1,a.plugins.visualchars&&a.plugins.visualchars.state?'<span _mce_bogus="1" class="mceItemHidden mceItemNbsp">&nbsp;</span>':"&nbsp;")}),a.addButton("nonbreaking",{title:"nonbreaking.nonbreaking_desc",cmd:"mceNonBreaking"}),a.getParam("nonbreaking_force_tab")&&a.onKeyDown.add(function(a,b){tinymce.isIE&&b.keyCode==9&&(a.execCommand("mceNonBreaking"),a.execCommand("mceNonBreaking"),a.execCommand("mceNonBreaking"),tinymce.dom.Event.cancel(b))})},getInfo:function(){return{longname:"Nonbreaking space",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/nonbreaking",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("nonbreaking",tinymce.plugins.Nonbreaking)}(),function(){tinymce.create("tinymce.plugins.Nonbreaking",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceNonBreaking",function(){a.execCommand("mceInsertContent",!1,a.plugins.visualchars&&a.plugins.visualchars.state?'<span _mce_bogus="1" class="mceItemHidden mceItemNbsp">&nbsp;</span>':"&nbsp;")}),a.addButton("nonbreaking",{title:"nonbreaking.nonbreaking_desc",cmd:"mceNonBreaking"}),a.getParam("nonbreaking_force_tab")&&a.onKeyDown.add(function(a,b){tinymce.isIE&&b.keyCode==9&&(a.execCommand("mceNonBreaking"),a.execCommand("mceNonBreaking"),a.execCommand("mceNonBreaking"),tinymce.dom.Event.cancel(b))})},getInfo:function(){return{longname:"Nonbreaking space",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/nonbreaking",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("nonbreaking",tinymce.plugins.Nonbreaking)}(),function(){var a=tinymce.dom.Event;tinymce.create("tinymce.plugins.NonEditablePlugin",{init:function(a,b){var c=this,d,e;c.editor=a,d=a.getParam("noneditable_editable_class","mceEditable"),e=a.getParam("noneditable_noneditable_class","mceNonEditable"),a.onNodeChange.addToTop(function(a,b,d){var g,h;g=a.dom.getParent(a.selection.getStart(),function(b){return a.dom.hasClass(b,e)}),h=a.dom.getParent(a.selection.getEnd(),function(b){return a.dom.hasClass(b,e)});if(g||h)return c._setDisabled(1),!1;c._setDisabled(0)})},getInfo:function(){return{longname:"Non editable elements",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/noneditable",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_block:function(b,c){var d=c.keyCode;if(d>32&&d<41||d>111&&d<124)return;return a.cancel(c)},_setDisabled:function(a){var b=this,c=b.editor;tinymce.each(c.controlManager.controls,function(b){b.setDisabled(a)}),a!==b.disabled&&(a?(c.onKeyDown.addToTop(b._block),c.onKeyPress.addToTop(b._block),c.onKeyUp.addToTop(b._block),c.onPaste.addToTop(b._block)):(c.onKeyDown.remove(b._block),c.onKeyPress.remove(b._block),c.onKeyUp.remove(b._block),c.onPaste.remove(b._block)),b.disabled=a)}}),tinymce.PluginManager.add("noneditable",tinymce.plugins.NonEditablePlugin)}(),function(){var a=tinymce.dom.Event;tinymce.create("tinymce.plugins.NonEditablePlugin",{init:function(a,b){var c=this,d,e;c.editor=a,d=a.getParam("noneditable_editable_class","mceEditable"),e=a.getParam("noneditable_noneditable_class","mceNonEditable"),a.onNodeChange.addToTop(function(a,b,d){var f,g;f=a.dom.getParent(a.selection.getStart(),function(b){return a.dom.hasClass(b,e)}),g=a.dom.getParent(a.selection.getEnd(),function(b){return a.dom.hasClass(b,e)});if(f||g)return c._setDisabled(1),!1;c._setDisabled(0)})},getInfo:function(){return{longname:"Non editable elements",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/noneditable",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_block:function(b,c){var d=c.keyCode;if(d>32&&d<41||d>111&&d<124)return;return a.cancel(c)},_setDisabled:function(a){var b=this,c=b.editor;tinymce.each(c.controlManager.controls,function(b){b.setDisabled(a)}),a!==b.disabled&&(a?(c.onKeyDown.addToTop(b._block),c.onKeyPress.addToTop(b._block),c.onKeyUp.addToTop(b._block),c.onPaste.addToTop(b._block)):(c.onKeyDown.remove(b._block),c.onKeyPress.remove(b._block),c.onKeyUp.remove(b._block),c.onPaste.remove(b._block)),b.disabled=a)}}),tinymce.PluginManager.add("noneditable",tinymce.plugins.NonEditablePlugin)}(),function(){tinymce.create("tinymce.plugins.PageBreakPlugin",{init:function(a,b){var c='<img src="'+b+'/img/trans.gif" class="mcePageBreak mceItemNoResize" />',d="mcePageBreak",e=a.getParam("pagebreak_separator","<!-- pagebreak -->"),f;f=new RegExp(e.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(a){return"\\"+a}),"g"),a.addCommand("mcePageBreak",function(){a.execCommand("mceInsertContent",0,c)}),a.addButton("pagebreak"
,{title:"pagebreak.desc",cmd:d}),a.onInit.add(function(){a.settings.content_css!==!1&&a.dom.loadCSS(b+"/css/content.css"),a.theme.onResolveName&&a.theme.onResolveName.add(function(b,c){c.node.nodeName=="IMG"&&a.dom.hasClass(c.node,d)&&(c.name="pagebreak")})}),a.onClick.add(function(a,b){b=b.target,b.nodeName==="IMG"&&a.dom.hasClass(b,d)&&a.selection.select(b)}),a.onNodeChange.add(function(a,b,c){b.setActive("pagebreak",c.nodeName==="IMG"&&a.dom.hasClass(c,d))}),a.onBeforeSetContent.add(function(a,b){b.content=b.content.replace(f,c)}),a.onPostProcess.add(function(a,b){b.get&&(b.content=b.content.replace(/<img[^>]+>/g,function(a){return a.indexOf('class="mcePageBreak')!==-1&&(a=e),a}))})},getInfo:function(){return{longname:"PageBreak",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/pagebreak",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("pagebreak",tinymce.plugins.PageBreakPlugin)}(),function(){tinymce.create("tinymce.plugins.PageBreakPlugin",{init:function(a,b){var c='<img src="'+b+'/img/trans.gif" class="mcePageBreak mceItemNoResize" />',d="mcePageBreak",e=a.getParam("pagebreak_separator","<!-- pagebreak -->"),f;f=new RegExp(e.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(a){return"\\"+a}),"g"),a.addCommand("mcePageBreak",function(){a.execCommand("mceInsertContent",0,c)}),a.addButton("pagebreak",{title:"pagebreak.desc",cmd:d}),a.onInit.add(function(){a.settings.content_css!==!1&&a.dom.loadCSS(b+"/css/content.css"),a.theme.onResolveName&&a.theme.onResolveName.add(function(b,c){c.node.nodeName=="IMG"&&a.dom.hasClass(c.node,d)&&(c.name="pagebreak")})}),a.onClick.add(function(a,b){b=b.target,b.nodeName==="IMG"&&a.dom.hasClass(b,d)&&a.selection.select(b)}),a.onNodeChange.add(function(a,b,c){b.setActive("pagebreak",c.nodeName==="IMG"&&a.dom.hasClass(c,d))}),a.onBeforeSetContent.add(function(a,b){b.content=b.content.replace(f,c)}),a.onPostProcess.add(function(a,b){b.get&&(b.content=b.content.replace(/<img[^>]+>/g,function(a){return a.indexOf('class="mcePageBreak')!==-1&&(a=e),a}))})},getInfo:function(){return{longname:"PageBreak",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/pagebreak",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("pagebreak",tinymce.plugins.PageBreakPlugin)}(),function(){function d(a,b){return a.getParam(b,c[b])}var a=tinymce.each,b=null,c={paste_auto_cleanup_on_paste:!0,paste_block_drop:!1,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:!1,paste_remove_styles:!1,paste_remove_styles_if_webkit:!0,paste_convert_middot_lists:!0,paste_convert_headers_to_strong:!1,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:!1,paste_text_sticky:!1,paste_text_notifyalways:!1,paste_text_linebreaktype:"p",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};tinymce.create("tinymce.plugins.PastePlugin",{init:function(b,c){function f(a,c){var f=b.dom;e.onPreProcess.dispatch(e,a),a.node=f.create("div",0,a.content),e.onPostProcess.dispatch(e,a),a.content=b.serializer.serialize(a.node,{getInner:1}),!c&&b.pasteAsPlainText?(e._insertPlainText(b,f,a.content),d(b,"paste_text_sticky")||(b.pasteAsPlainText=!1,b.controlManager.setActive("pastetext",!1))):/<(p|h[1-6]|ul|ol)/.test(a.content)?e._insertBlockContent(b,f,a.content):e._insert(a.content)}function g(c){var d,e,g,h=b.selection,j=b.dom,k=b.getBody(),l;if(b.pasteAsPlainText&&(c.clipboardData||j.doc.dataTransfer)){c.preventDefault(),f({content:(c.clipboardData||j.doc.dataTransfer).getData("Text")},!0);return}if(j.get("_mcePaste"))return;d=j.add(k,"div",{id:"_mcePaste","class":"mcePaste"},'ï»¿<br _mce_bogus="1">'),k!=b.getDoc().body?l=j.getPos(b.selection.getStart(),k).y:l=k.scrollTop,j.setStyles(d,{position:"absolute",left:-1e4,top:l,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){g=j.doc.body.createTextRange(),g.moveToElementText(d),g.execCommand("Paste"),j.remove(d);if(d.innerHTML==="ï»¿"){b.execCommand("mcePasteWord"),c.preventDefault();return}return f({content:d.innerHTML}),tinymce.dom.Event.cancel(c)}function m(a){a.preventDefault()}j.bind(b.getDoc(),"mousedown",m),j.bind(b.getDoc(),"keydown",m),e=b.selection.getRng(),d=d.firstChild,g=b.getDoc().createRange(),g.setStart(d,0),g.setEnd(d,1),h.setRng(g),window.setTimeout(function(){var c="",d=j.select("div.mcePaste");a(d,function(b){var d=b.firstChild;d&&d.nodeName=="DIV"&&d.style.marginTop&&d.style.backgroundColor&&j.remove(d,1),a(j.select("div.mcePaste",b),function(a){j.remove(a,1)}),a(j.select("span.Apple-style-span",b),function(a){j.remove(a,1)}),a(j.select("br[_mce_bogus]",b),function(a){j.remove(a)}),c+=b.innerHTML}),a(d,function(a){j.remove(a)}),e&&h.setRng(e),f({content:c}),j.unbind(b.getDoc(),"mousedown",m),j.unbind(b.getDoc(),"keydown",m)},0)}var e=this;e.editor=b,e.url=c,e.onPreProcess=new tinymce.util.Dispatcher(e),e.onPostProcess=new tinymce.util.Dispatcher(e),e.onPreProcess.add(e._preProcess),e.onPostProcess.add(e._postProcess),e.onPreProcess.add(function(a,c){b.execCallback("paste_preprocess",a,c)}),e.onPostProcess.add(function(a,c){b.execCallback("paste_postprocess",a,c)}),b.pasteAsPlainText=!1,b.addCommand("mceInsertClipboardContent",function(a,b){f(b,!0)}),d(b,"paste_text_use_dialog")||b.addCommand("mcePasteText",function(a,c){var e=tinymce.util.Cookie;b.pasteAsPlainText=!b.pasteAsPlainText,b.controlManager.setActive("pastetext",b.pasteAsPlainText),b.pasteAsPlainText&&!e.get("tinymcePasteText")&&(d(b,"paste_text_sticky")?b.windowManager.alert(b.translate("paste.plaintext_mode_sticky")):b.windowManager.alert(b.translate("paste.plaintext_mode_sticky")),d(b,"paste_text_notifyalways")||e.set("tinymcePasteText","1",new Date((new Date).getFullYear()+1,12,31)))}),b.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"}),b.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"}),d(b,"paste_auto_cleanup_on_paste")&&(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)?b.onKeyDown.add(function(a,b){((tinymce.isMac?b.metaKey:b.ctrlKey)&&b.keyCode==86||b.shiftKey&&b.keyCode==45)&&g(b)}):b.onPaste.addToTop(function(a,b){return g(b)})),d(b,"paste_block_drop")&&b.onInit.add(function(){b.dom.bind(b.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(a){return a.preventDefault(),a.stopPropagation(),!1})}),e._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(b,c){function l(b){a(b,function(a){a.constructor==RegExp?f=f.replace(a,""):f=f.replace(a[0],a[1])})}var e=this.editor,f=c.content,g=tinymce.grep,h=tinymce.explode,i=tinymce.trim,j,k;if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(f)||c.wordContent){c.wordContent=!0,l([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]),d(e,"paste_convert_headers_to_strong")&&(f=f.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")),d(e,"paste_convert_middot_lists")&&l([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"]]),l([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "]]);do j=f.length,f=f.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1");while(j!=f.length);d(e,"paste_retain_style_properties").replace(/^none$/i,"").length==0?f=f.replace(/<\/?span[^>]*>/gi,""):l([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(a,b){return b.length>0?b.replace(/./," ").slice(Math.floor(b.length/2)).split("").join("Â "):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(b,c,d){var e=[],f=0,g=h(i(d).replace(/&quot;/gi,"'"),";");return a(g,function(a){function g(a){return a+(a!=="0"&&/\d$/.test(a))?"px":""}var b,c,d=h(a,":");if(d.length==2){b=d[0].toLowerCase(),c=d[1].toLowerCase();switch(b){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":e[f++]=b.replace(/^mso-|-alt$/g,"")+":"+g(c);return;case"horiz-align":e[f++]="text-align:"+c;return;case"vert-align":e[f++]="vertical-align:"+c;return;case"font-color":case"mso-foreground":e[f++]="color:"+c;return;case"mso-background":case"mso-highlight":e[f++]="background:"+c;return;case"mso-default-height":e[f++]="min-height:"+g(c);return;case"mso-default-width":e[f++]="min-width:"+g(c);return;case"mso-padding-between-alt":e[f++]="border-collapse:separate;border-spacing:"+g(c);return;case"text-line-through":if(c=="single"||c=="double")e[f++]="text-decoration:line-through";return;case"mso-zero-height":c=="yes"&&(e[f++]="display:none");return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(b))return;e[f++]=b+":"+d[1]}}),f>0?c+' style="'+e.join(";")+'"':c}]])}d(e,"paste_convert_headers_to_strong")&&l([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]]),k=d(e,"paste_strip_class_attributes");if(k!=="none"){function m(a,b){if(k==="all")return"";var c=g(h(b.replace(/^(["'])(.*)\1$/,"$2")," "),function(a){return/^(?!mso)/i.test(a)});return c.length?' class="'+c.join(" ")+'"':""}f=f.replace(/ class="([^"]+)"/gi,m),f=f.replace(/ class=(\w+)/gi,m)}d(e,"paste_remove_spans")&&(f=f.replace(/<\/?span[^>]*>/gi,"")),c.content=f},_postProcess:function(b,c){var e=this,f=e.editor,g=f.dom,h;c.wordContent&&(a(g.select("a",c.node),function(a){(!a.href||a.href.indexOf("#_Toc")!=-1)&&g.remove(a,1)}),d(f,"paste_convert_middot_lists")&&e._convertLists(b,c),h=d(f,"paste_retain_style_properties"),tinymce.is(h,"string")&&h!=="all"&&h!=="*"&&(h=tinymce.explode(h.replace(/^none$/i,"")),a(g.select("*",c.node),function(a){var b={},c=0,d,e,f;if(h)for(d=0;d<h.length;d++)e=h[d],f=g.getStyle(a,e),f&&(b[e]=f,c++);g.setAttrib(a,"style",""),h&&c>0?g.setStyles(a,b):a.nodeName=="SPAN"&&!a.className&&g.remove(a,!0)}))),d(f,"paste_remove_styles")||d(f,"paste_remove_styles_if_webkit")&&tinymce.isWebKit?a(g.select("*[style]",c.node),function(a){a.removeAttribute("style"),a.removeAttribute("_mce_style")}):tinymce.isWebKit&&a(g.select("*",c.node),function(a){a.removeAttribute("_mce_style")})},_convertLists:function(b,c){var d=b.editor.dom,e,f,g=-1,h,i=[],j,k;a(d.select("p",c.node),function(b){var c,k="",o,p,q,r;for(c=b.firstChild;c&&c.nodeType==3;c=c.nextSibling)k+=c.nodeValue;k=b.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"Â "),/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o]\s*\u00a0*/.test(k)&&(o="ul"),/^__MCE_ITEM__\s*\w+\.\s*\u00a0{2,}/.test(k)&&(o="ol"),o?(h=parseFloat(b.style.marginLeft||0),h>g&&i.push(h),!e||o!=j?(e=d.create(o),d.insertAfter(e,b)):h>g?e=f.appendChild(d.create(o)):h<g&&(q=tinymce.inArray(i,h),r=d.getParents(e.parentNode,o),e=r[r.length-1-q]||e),a(d.select("span",b),function(a){var b=a.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");o=="ul"&&/^[\u2022\u00b7\u00a7\u00d8o]/.test(b)?d.remove(a):/^[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(b)&&d.remove(a)}),p=b.innerHTML,o=="ul"?p=b.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o]\s*(&nbsp;|\u00a0)+\s*/,""):p=b.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,""),f=e.appendChild(d.create("li",0,p)),d.remove(b),g=h,j=o):e=g=0}),k=c.node.innerHTML,k.indexOf("__MCE_ITEM__")!=-1&&(c.node.innerHTML=k.replace(/__MCE_ITEM__/g,""))},_insertBlockContent:function(b,c,d){function n(a){var c;tinymce.isIE?(c=b.getDoc().body.createTextRange(),c.moveToElementText(a),c.collapse(!1),c.select()):(g.select(a,1),g.collapse(!1))}var e,f,g=b.selection,h,i,j,k,l,m="mce_marker";this._insert('<span id="'+m+'"></span>',1),f=c.get(m),e=c.getParent(f,"p,h1,h2,h3,h4,h5,h6,ul,ol,th,td"),e&&!/TD|TH/.test(e.nodeName)?(f=c.split(e,f),a(c.create("div",0,d).childNodes,function(a){h=f.parentNode.insertBefore(a.cloneNode(!0),f)}),n(h)):(c.setOuterHTML(f,d),g.select(b.getBody(),1),g.collapse(0));while(i=c.get(m))c.remove(i);i=g.getStart(),j=c.getViewPort(b.getWin()),k=b.dom.getPos(i).y,l=i.clientHeight;if(k<j.y||k+l>j.y+j.h)b.getDoc().body.scrollTop=k<j.y?k:k-j.h+25},_insert:function(a,b){var c=this.editor,d=c.selection.getRng();!c.selection.isCollapsed()&&d.startContainer!=d.endContainer&&c.getDoc().execCommand("Delete",!1,null),c.execCommand(tinymce.isGecko?"insertHTML":"mceInsertContent",!1,a,{skip_undo:b})},_insertPlainText:function(c,e,f){function v(b){a(b,function(a){a.constructor==RegExp?f=f.replace(a,""):f=f.replace(a[0],a[1])})}var g,h,i,j,k,l,m,n,o=c.getWin(),p=c.getDoc(),q=c.selection,r=tinymce.is,s=tinymce.inArray,t=d(c,"paste_text_linebreaktype"),u=d(c,"paste_text_replacements");if(typeof f=="string"&&f.length>0){b||(b=("34,quot,38,amp,39,apos,60,lt,62,gt,"+c.serializer.settings.entities).split(",")),/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(f)?v([/[\n\r]+/g]):v([/\r+/g]),v([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/&(#\d+|[a-z0-9]{1,10});/gi,function(a,c){return c.charAt(0)==="#"?String.fromCharCode(c.slice(1)):(a=s(b,c))>0?String.fromCharCode(b[a-1]):" "}],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"],/^\s+|\s+$/g]),f=e.encode(f),q.isCollapsed()||p.execCommand("Delete",!1,null),r(u,"array")||r(u,"array")?v(u):r(u,"string")&&v(new RegExp(u,"gi")),t=="none"?v([[/\n+/g," "]]):t=="br"?v([[/\n/g,"<br />"]]):v([/^\s+|\s+$/g,[/\n\n/g,"</p><p>"],[/\n/g,"<br />"]]);if((i=f.indexOf("</p><p>"))!=-1){j=f.lastIndexOf("</p><p>"),k=q.getNode(),l=[];do if(k.nodeType==1){if(k.nodeName=="TD"||k.nodeName=="BODY")break;l[l.length]=k}while(k=k.parentNode);if(l.length>0){m=f.substring(0,i),n="";for(g=0,h=l.length;g<h;g++)m+="</"+l[g].nodeName.toLowerCase()+">",n+="<"+l[l.length-g-1].nodeName.toLowerCase()+">";i==j?f=m+n+f.substring(i+7):f=m+f.substring(i+4,j+4)+n+f.substring(j+7)}}c.execCommand("mceInsertRawHTML",!1,f+'<span id="_plain_text_marker">&nbsp;</span>'),window.setTimeout(function(){var a=e.get("_plain_text_marker"),b,c,d,f;q.select(a,!1),p.execCommand("Delete",!1,null),a=null,b=q.getStart(),c=e.getViewPort(o),d=e.getPos(b).y,f=b.clientHeight;if(d<c.y||d+f>c.y+c.h)p.body.scrollTop=d<c.y?d:d-c.h+25},0)}},_legacySupport:function(){var a=this,b=a.editor;b.addCommand("mcePasteWord",function(){b.windowManager.open({file:a.url+"/pasteword.htm",width:parseInt(d(b,"paste_dialog_width")),height:parseInt(d(b,"paste_dialog_height")),inline:1})}),d(b,"paste_text_use_dialog")&&b.addCommand("mcePasteText",function(){b.windowManager.open({file:a.url+"/pastetext.htm",width:parseInt(d(b,"paste_dialog_width")),height:parseInt(d(b,"paste_dialog_height")),inline:1})}),b.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}}),tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)}(),function(){function d(a,b){return a.getParam(b,c[b])}var a=tinymce.each,b=null,c={paste_auto_cleanup_on_paste:!0,paste_block_drop:!1,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:!1,paste_remove_styles:!1,paste_remove_styles_if_webkit:!0,paste_convert_middot_lists:!0,paste_convert_headers_to_strong:!1,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:!1,paste_text_sticky:!1,paste_text_notifyalways:!1,paste_text_linebreaktype:"p",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};tinymce.create("tinymce.plugins.PastePlugin",{init:function(b,c){function f(a,c){var f=b.dom;e.onPreProcess.dispatch(e,a),a.node=f.create("div",0,a.content),e.onPostProcess.dispatch(e,a),a.content=b.serializer.serialize(a.node,{getInner:1}),!c&&b.pasteAsPlainText?(e._insertPlainText(b,f,a.content),d(b,"paste_text_sticky")||(b.pasteAsPlainText=!1,b.controlManager.setActive("pastetext",!1))):/<(p|h[1-6]|ul|ol)/.test(a.content)?e._insertBlockContent(b,f,a.content):e._insert(a.content)}function g(c){var d,e,g,h=b.selection,i=b.dom,j=b.getBody(),k;if(b.pasteAsPlainText&&(c.clipboardData||i.doc.dataTransfer)){c.preventDefault(),f({content:(c.clipboardData||i.doc.dataTransfer).getData("Text")},!0);return}if(i.get("_mcePaste"))return;d=i.add(j,"div",{id:"_mcePaste","class":"mcePaste"},'ï»¿<br _mce_bogus="1">'),j!=b.getDoc().body?k=i.getPos(b.selection.getStart(),j).y:k=j.scrollTop,i.setStyles(d,{position:"absolute",left:-1e4,top:k,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){g=i.doc.body.createTextRange(),g.moveToElementText(d),g.execCommand("Paste"),i.remove(d);if(d.innerHTML==="ï»¿"){b.execCommand("mcePasteWord"),c.preventDefault();return}return f({content:d.innerHTML}),tinymce.dom.Event.cancel(c)}function l(a){a.preventDefault()}i.bind(b.getDoc(),"mousedown",l),i.bind(b.getDoc(),"keydown",l),e=b.selection.getRng(),d=d.firstChild,g=b.getDoc().createRange(),g.setStart(d,0),g.setEnd(d,1),h.setRng(g),window.setTimeout(function(){var c="",d=i.select("div.mcePaste");a(d,function(b){var d=b.firstChild;d&&d.nodeName=="DIV"&&d.style.marginTop&&d.style.backgroundColor&&i.remove(d,1),a(i.select("div.mcePaste",b),function(a){i.remove(a,1)}),a(i.select("span.Apple-style-span",b),function(a){i.remove(a,1)}),a(i.select("br[_mce_bogus]",b),function(a){i.remove(a)}),c+=b.innerHTML}),a(d,function(a){i.remove(a)}),e&&h.setRng(e),f({content:c}),i.unbind(b.getDoc(),"mousedown",l),i.unbind(b.getDoc(),"keydown",l)},0)}var e=this;e.editor=b,e.url=c,e.onPreProcess=new tinymce.util.Dispatcher(e),e.onPostProcess=new tinymce.util.Dispatcher(e),e.onPreProcess.add(e._preProcess),e.onPostProcess.add(e._postProcess),e.onPreProcess.add(function(a,c){b.execCallback("paste_preprocess",a,c)}),e.onPostProcess.add(function(a,c){b.execCallback("paste_postprocess",a,c)}),b.pasteAsPlainText=!1,b.addCommand("mceInsertClipboardContent",function(a,b){f(b,!0)}),d(b,"paste_text_use_dialog")||b.addCommand("mcePasteText",function(a,c){var e=tinymce.util.Cookie;b.pasteAsPlainText=!b.pasteAsPlainText,b.controlManager.setActive("pastetext",b.pasteAsPlainText),b.pasteAsPlainText&&!e.get("tinymcePasteText")&&(d(b,"paste_text_sticky")?b.windowManager.alert(b.translate("paste.plaintext_mode_sticky")):b.windowManager.alert(b.translate("paste.plaintext_mode_sticky")),d(b,"paste_text_notifyalways")||e.set("tinymcePasteText","1",new Date((new Date).getFullYear()+1,12,31)))}),b.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"}),b.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"}),d(b,"paste_auto_cleanup_on_paste")&&(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)?b.onKeyDown.add(function(a,b){((tinymce.isMac?b.metaKey:b.ctrlKey)&&b.keyCode==86||b.shiftKey&&b.keyCode==45)&&g(b)}):b.onPaste.addToTop(function(a,b){return g(b)})),d(b,"paste_block_drop")&&b.onInit.add(function(){b.dom.bind(b.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(a){return a.preventDefault(),a.stopPropagation(),!1})}),e._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(b,c){function l(b){a(b,function(a){a.constructor==RegExp?f=f.replace(a,""):f=f.replace(a[0],a[1])})}var e=this.editor,f=c.content,g=tinymce.grep,h=tinymce.explode,i=tinymce.trim,j,k;if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(f)||c.wordContent){c.wordContent=!0,l([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]),d(e,"paste_convert_headers_to_strong")&&(f=f.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")),d(e,"paste_convert_middot_lists")&&l([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"]]),l([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "]]);do j=f.length,f=f.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1");while(j!=f.length);d(e,"paste_retain_style_properties").replace(/^none$/i,"").length==0?f=f.replace(/<\/?span[^>]*>/gi,""):l([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(a,b){return b.length>0?b.replace(/./," ").slice(Math.floor(b.length/2)).split("").join("Â "):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(b,c,d){var e=[],f=0,g=h(i(d).replace(/&quot;/gi,"'"),";");return a(g,function(a){function g(a){return a+(a!=="0"&&/\d$/.test(a))?"px":""}var b,c,d=h(a,":");if(d.length==2){b=d[0].toLowerCase(),c=d[1].toLowerCase();switch(b){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":e[f++]=b.replace(/^mso-|-alt$/g,"")+":"+g(c);return;case"horiz-align":e[f++]="text-align:"+c;return;case"vert-align":e[f++]="vertical-align:"+c;return;case"font-color":case"mso-foreground":e[f++]="color:"+c;return;case"mso-background":case"mso-highlight":e[f++]="background:"+c;return;case"mso-default-height":e[f++]="min-height:"+g(c);return;case"mso-default-width":e[f++]="min-width:"+g(c);return;case"mso-padding-between-alt":e[f++]="border-collapse:separate;border-spacing:"+g(c);return;case"text-line-through":if(c=="single"||c=="double")e[f++]="text-decoration:line-through";return;case"mso-zero-height":c=="yes"&&(e[f++]="display:none");return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(b))return;e[f++]=b+":"+d[1]}}),f>0?c+' style="'+e.join(";")+'"':c}]])}d(e,"paste_convert_headers_to_strong")&&l([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]]),k=d(e,"paste_strip_class_attributes");if(k!=="none"){function m(a,b){if(k==="all")return"";var c=g(h(b.replace(/^(["'])(.*)\1$/,"$2")," "),function(a){return/^(?!mso)/i.test(a)});return c.length?' class="'+c.join(" ")+'"':""}f=f.replace(/ class="([^"]+)"/gi,m),f=f.replace(/ class=(\w+)/gi,m)}d(e,"paste_remove_spans")&&(f=f.replace(/<\/?span[^>]*>/gi,"")),c.content=f},_postProcess:function(b,c){var e=this,f=e.editor,g=f.dom,h;c.wordContent&&(a(g.select("a",c.node),function(a){(!a.href||a.href.indexOf("#_Toc")!=-1)&&g.remove(a,1)}),d(f,"paste_convert_middot_lists")&&e._convertLists(b,c),h=d(f,"paste_retain_style_properties"),tinymce.is(h,"string")&&h!=="all"&&h!=="*"&&(h=tinymce.explode(h.replace(/^none$/i,"")),a(g.select("*",c.node),function(a){var b={},c=0,d,e,f;if(h)for(d=0;d<h.length;d++)e=h[d],f=g.getStyle(a,e),f&&(b[e]=f,c++);g.setAttrib(a,"style",""),h&&c>0?g.setStyles(a,b):a.nodeName=="SPAN"&&!a.className&&g.remove(a,!0)}))),d(f,"paste_remove_styles")||d(f,"paste_remove_styles_if_webkit")&&tinymce.isWebKit?a(g.select("*[style]",c.node),function(a){a.removeAttribute("style"),a.removeAttribute("_mce_style")}):tinymce.isWebKit&&a(g.select("*",c.node),function(a){a.removeAttribute("_mce_style")})},_convertLists:function(b,c){var d=b.editor.dom,e,f,g=-1,h,i=[],j,k;a(d.select("p",c.node),function(b){var c,k="",l,m,n,o;for(c=b.firstChild;c&&c.nodeType==3;c=c.nextSibling)k+=c.nodeValue;k=b.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"Â "),/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o]\s*\u00a0*/.test(k)&&(l="ul"),/^__MCE_ITEM__\s*\w+\.\s*\u00a0{2,}/.test(k)&&(l="ol"),l?(h=parseFloat(b.style.marginLeft||0),h>g&&i.push(h),!e||l!=j?(e=d.create(l),d.insertAfter(e,b)):h>g?e=f.appendChild(d.create(l)):h<g&&(n=tinymce.inArray(i,h),o=d.getParents(e.parentNode,l),e=o[o.length-1-n]||e),a(d.select("span",b),function(a){var b=a.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");l=="ul"&&/^[\u2022\u00b7\u00a7\u00d8o]/.test(b)?d.remove(a):/^[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(b)&&d.remove(a)}),m=b.innerHTML,l=="ul"?m=b.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o]\s*(&nbsp;|\u00a0)+\s*/,""):m=b.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,""),f=e.appendChild(d.create("li",0,m)),d.remove(b),g=h,j=l):e=g=0}),k=c.node.innerHTML,k.indexOf("__MCE_ITEM__")!=-1&&(c.node.innerHTML=k.replace(/__MCE_ITEM__/g,""))},_insertBlockContent:function(b,c,d){function n(a){var c;tinymce.isIE?(c=b.getDoc().body.createTextRange(),c.moveToElementText(a),c.collapse(!1),c.select()):(g.select(a,1),g.collapse(!1))}var e,f,g=b.selection,h,i,j,k,l,m="mce_marker";this._insert('<span id="'+m+'"></span>',1),f=c.get(m),e=c.getParent(f,"p,h1,h2,h3,h4,h5,h6,ul,ol,th,td"),e&&!/TD|TH/.test(e.nodeName)?(f=c.split(e,f),a(c.create("div",0,d).childNodes,function(a){h=f.parentNode.insertBefore(a.cloneNode(!0),f)}),n(h)):(c.setOuterHTML(f,d),g.select(b.getBody(),1),g.collapse(0));while(i=c.get(m))c.remove(i);i=g.getStart(),j=c.getViewPort(b.getWin()),k=b.dom.getPos(i).y,l=i.clientHeight;if(k<j.y||k+l>j.y+j.h)b.getDoc().body.scrollTop=k<j.y?k:k-j.h+25},_insert:function(a,b){var c=this.editor,d=c.selection.getRng();!c.selection.isCollapsed()&&d.startContainer!=d.endContainer&&c.getDoc().execCommand("Delete",!1,null),c.execCommand(tinymce.isGecko?"insertHTML":"mceInsertContent",!1,a,{skip_undo:b})},_insertPlainText:function(c,e,f){function v(b){a(b,function(a){a.constructor==RegExp?f=f.replace(a,""):f=f.replace(a[0],a[1])})}var g,h,i,j,k,l,m,n,o=c.getWin(),p=c.getDoc(),q=c.selection,r=tinymce.is,s=tinymce.inArray,t=d(c,"paste_text_linebreaktype"),u=d(c,"paste_text_replacements");if(typeof f=="string"&&f.length>0){b||(b=("34,quot,38,amp,39,apos,60,lt,62,gt,"+c.serializer.settings.entities).split(",")),/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(f)?v([/[\n\r]+/g]):v([/\r+/g]),v([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/&(#\d+|[a-z0-9]{1,10});/gi,function(a,c){return c.charAt(0)==="#"?String.fromCharCode(c.slice(1)):(a=s(b,c))>0?String.fromCharCode(b[a-1]):" "}],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"],/^\s+|\s+$/g]),f=e.encode(f),q.isCollapsed()||p.execCommand("Delete",!1,null),r(u,"array")||r(u,"array")?v(u):r(u,"string")&&v(new RegExp(u,"gi")),t=="none"?v([[/\n+/g," "]]):t=="br"?v([[/\n/g,"<br />"]]):v([/^\s+|\s+$/g,[/\n\n/g,"</p><p>"],[/\n/g,"<br />"]]);if((i=f.indexOf("</p><p>"))!=-1){j=f.lastIndexOf("</p><p>"),k=q.getNode(),l=[];do if(k.nodeType==1){if(k.nodeName=="TD"||k.nodeName=="BODY")break;l[l.length]=k}while(k=k.parentNode);if(l.length>0){m=f.substring(0,i),n="";for(g=0,h=l.length;g<h;g++)m+="</"+l[g].nodeName.toLowerCase()+">",n+="<"+l[l.length-g-1].nodeName.toLowerCase()+">";i==j?f=m+n+f.substring(i+7):f=m+f.substring(i+4,j+4)+n+f.substring(j+7)}}c.execCommand("mceInsertRawHTML",!1,f+'<span id="_plain_text_marker">&nbsp;</span>'),window.setTimeout(function(){var a=e.get("_plain_text_marker"),b,c,d,f;q.select(a,!1),p.execCommand("Delete",!1,null),a=null,b=q.getStart(),c=e.getViewPort(o),d=e.getPos(b).y,f=b.clientHeight;if(d<c.y||d+f>c.y+c.h)p.body.scrollTop=d<c.y?d:d-c.h+25},0)}},_legacySupport:function(){var a=this,b=a.editor;b.addCommand("mcePasteWord",function(){b.windowManager.open({file:a.url+"/pasteword.htm",width:parseInt(d(b,"paste_dialog_width")),height:parseInt(d(b,"paste_dialog_height")),inline:1})}),d(b,"paste_text_use_dialog")&&b.addCommand("mcePasteText",function(){b.windowManager.open({file:a.url+"/pastetext.htm",width:parseInt(d(b,"paste_dialog_width")),height:parseInt(d(b,"paste_dialog_height")),inline:1})}),b.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}}),tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)}(),tinyMCEPopup.requireLangPack();var PasteTextDialog={init:function(){this.resize()},insert:function(){var a=tinyMCEPopup.dom.encode(document.getElementById("content").value),b;document.getElementById("linebreaks").checked&&(b=a.split(/\r?\n/),b.length>1&&(a="",tinymce.each(b,function(b){a+="<p>"+b+"</p>"}))),tinyMCEPopup.editor.execCommand("mceInsertClipboardContent",!1,{content:a}),tinyMCEPopup.close()},resize:function(){var a=tinyMCEPopup.dom.getViewPort(window),b;b=document.getElementById("content"),b.style.width=a.w-20+"px",b.style.height=a.h-90+"px"}};tinyMCEPopup.onInit.add(PasteTextDialog.init,PasteTextDialog),tinyMCEPopup.requireLangPack();var PasteWordDialog={init:function(){var a=tinyMCEPopup.editor,b=document.getElementById("iframecontainer"),c,d,e,f="";b.innerHTML='<iframe id="iframe" src="javascript:\'\';" frameBorder="0" style="border: 1px solid gray"></iframe>',c=document.getElementById("iframe"),d=c.contentWindow.document,e=[a.baseURI.toAbsolute("themes/"+a.settings.theme+"/skins/"+a.settings.skin+"/content.css")],e=e.concat(tinymce.explode(a.settings.content_css)||[]),tinymce.each(e,function(b){f+='<link href="'+a.documentBaseURI.toAbsolute(""+b)+'" rel="stylesheet" type="text/css" />'}),d.open(),d.write("<html><head>"+f+'</head><body class="mceContentBody" spellcheck="false"></body></html>'),d.close(),d.designMode="on",this.resize(),window.setTimeout(function(){c.contentWindow.focus()},10)},insert:function(){var a=document.getElementById("iframe").contentWindow.document.body.innerHTML;tinyMCEPopup.editor.execCommand("mceInsertClipboardContent",!1,{content:a,wordContent:!0}),tinyMCEPopup.close()},resize:function(){var a=tinyMCEPopup.dom.getViewPort(window),b;b=document.getElementById("iframe"),b&&(b.style.width=a.w-20+"px",b.style.height=a.h-90+"px")}};tinyMCEPopup.onInit.add(PasteWordDialog.init,PasteWordDialog),tinyMCE.addI18n("en.paste_dlg",{text_title:"Use CTRL+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep linebreaks",word_title:"Use CTRL+V on your keyboard to paste the text into the window."}),function(){tinymce.create("tinymce.plugins.Preview",{init:function(a,b){var c=this,d=tinymce.explode(a.settings.content_css);c.editor=a,tinymce.each(d,function(b,c){d[c]=a.documentBaseURI.toAbsolute(b)}),a.addCommand("mcePreview",function(){a.windowManager.open({file:a.getParam("plugin_preview_pageurl",b+"/preview.html"),width:parseInt(a.getParam("plugin_preview_width","550")),height:parseInt(a.getParam("plugin_preview_height","600")),resizable:"yes",scrollbars:"yes",popup_css:d?d.join(","):a.baseURI.toAbsolute("themes/"+a.settings.theme+"/skins/"+a.settings.skin+"/content.css"),inline:a.getParam("plugin_preview_inline",1)},{base:a.documentBaseURI.getURI()})}),a.addButton("preview",{title:"preview.preview_desc",cmd:"mcePreview"})},getInfo:function(){return{longname:"Preview",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/preview",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("preview",tinymce.plugins.Preview)}(),function(){tinymce.create("tinymce.plugins.Preview",{init:function(a,b){var c=this,d=tinymce.explode(a.settings.content_css);c.editor=a,tinymce.each(d,function(b,c){d[c]=a.documentBaseURI.toAbsolute(b)}),a.addCommand("mcePreview",function(){a.windowManager.open({file:a.getParam("plugin_preview_pageurl",b+"/preview.html"),width:parseInt(a.getParam("plugin_preview_width","550")),height:parseInt(a.getParam("plugin_preview_height","600")),resizable:"yes",scrollbars:"yes",popup_css:d?d.join(","):a.baseURI.toAbsolute("themes/"+a.settings.theme+"/skins/"+a.settings.skin+"/content.css"),inline:a.getParam("plugin_preview_inline",1)},{base:a.documentBaseURI.getURI()})}),a.addButton("preview",{title:"preview.preview_desc",cmd:"mcePreview"})},getInfo:function(){return{longname:"Preview",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/preview"
,version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("preview",tinymce.plugins.Preview)}(),function(){tinymce.create("tinymce.plugins.Print",{init:function(a,b){a.addCommand("mcePrint",function(){a.getWin().print()}),a.addButton("print",{title:"print.print_desc",cmd:"mcePrint"})},getInfo:function(){return{longname:"Print",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/print",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("print",tinymce.plugins.Print)}(),function(){tinymce.create("tinymce.plugins.Print",{init:function(a,b){a.addCommand("mcePrint",function(){a.getWin().print()}),a.addButton("print",{title:"print.print_desc",cmd:"mcePrint"})},getInfo:function(){return{longname:"Print",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/print",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("print",tinymce.plugins.Print)}(),function(){tinymce.create("tinymce.plugins.Save",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceSave",c._save,c),a.addCommand("mceCancel",c._cancel,c),a.addButton("save",{title:"save.save_desc",cmd:"mceSave"}),a.addButton("cancel",{title:"save.cancel_desc",cmd:"mceCancel"}),a.onNodeChange.add(c._nodeChange,c),a.addShortcut("ctrl+s",a.getLang("save.save_desc"),"mceSave")},getInfo:function(){return{longname:"Save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/save",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var a=this.editor;a.getParam("save_enablewhendirty")&&(b.setDisabled("save",!a.isDirty()),b.setDisabled("cancel",!a.isDirty()))},_save:function(){var a=this.editor,b,c,d,e;b=tinymce.DOM.get(a.id).form||tinymce.DOM.getParent(a.id,"form");if(a.getParam("save_enablewhendirty")&&!a.isDirty())return;tinyMCE.triggerSave();if(c=a.getParam("save_onsavecallback")){a.execCallback("save_onsavecallback",a)&&(a.startContent=tinymce.trim(a.getContent({format:"raw"})),a.nodeChanged());return}b?(a.isNotDirty=!0,(b.onsubmit==null||b.onsubmit()!=0)&&b.submit(),a.nodeChanged()):a.windowManager.alert("Error: No form element found.")},_cancel:function(){var a=this.editor,b,c=tinymce.trim(a.startContent);if(b=a.getParam("save_oncancelcallback")){a.execCallback("save_oncancelcallback",a);return}a.setContent(c),a.undoManager.clear(),a.nodeChanged()}}),tinymce.PluginManager.add("save",tinymce.plugins.Save)}(),function(){tinymce.create("tinymce.plugins.Save",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceSave",c._save,c),a.addCommand("mceCancel",c._cancel,c),a.addButton("save",{title:"save.save_desc",cmd:"mceSave"}),a.addButton("cancel",{title:"save.cancel_desc",cmd:"mceCancel"}),a.onNodeChange.add(c._nodeChange,c),a.addShortcut("ctrl+s",a.getLang("save.save_desc"),"mceSave")},getInfo:function(){return{longname:"Save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/save",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var a=this.editor;a.getParam("save_enablewhendirty")&&(b.setDisabled("save",!a.isDirty()),b.setDisabled("cancel",!a.isDirty()))},_save:function(){var a=this.editor,b,c,d,e;b=tinymce.DOM.get(a.id).form||tinymce.DOM.getParent(a.id,"form");if(a.getParam("save_enablewhendirty")&&!a.isDirty())return;tinyMCE.triggerSave();if(c=a.getParam("save_onsavecallback")){a.execCallback("save_onsavecallback",a)&&(a.startContent=tinymce.trim(a.getContent({format:"raw"})),a.nodeChanged());return}b?(a.isNotDirty=!0,(b.onsubmit==null||b.onsubmit()!=0)&&b.submit(),a.nodeChanged()):a.windowManager.alert("Error: No form element found.")},_cancel:function(){var a=this.editor,b,c=tinymce.trim(a.startContent);if(b=a.getParam("save_oncancelcallback")){a.execCallback("save_oncancelcallback",a);return}a.setContent(c),a.undoManager.clear(),a.nodeChanged()}}),tinymce.PluginManager.add("save",tinymce.plugins.Save)}(),function(){tinymce.create("tinymce.plugins.SearchReplacePlugin",{init:function(a,b){function c(c){a.windowManager.open({file:b+"/searchreplace.htm",width:420+parseInt(a.getLang("searchreplace.delta_width",0)),height:170+parseInt(a.getLang("searchreplace.delta_height",0)),inline:1,auto_focus:0},{mode:c,search_string:a.selection.getContent({format:"text"}),plugin_url:b})}a.addCommand("mceSearch",function(){c("search")}),a.addCommand("mceReplace",function(){c("replace")}),a.addButton("search",{title:"searchreplace.search_desc",cmd:"mceSearch"}),a.addButton("replace",{title:"searchreplace.replace_desc",cmd:"mceReplace"}),a.addShortcut("ctrl+f","searchreplace.search_desc","mceSearch")},getInfo:function(){return{longname:"Search/Replace",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/searchreplace",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("searchreplace",tinymce.plugins.SearchReplacePlugin)}(),function(){tinymce.create("tinymce.plugins.SearchReplacePlugin",{init:function(a,b){function c(c){a.windowManager.open({file:b+"/searchreplace.htm",width:420+parseInt(a.getLang("searchreplace.delta_width",0)),height:170+parseInt(a.getLang("searchreplace.delta_height",0)),inline:1,auto_focus:0},{mode:c,search_string:a.selection.getContent({format:"text"}),plugin_url:b})}a.addCommand("mceSearch",function(){c("search")}),a.addCommand("mceReplace",function(){c("replace")}),a.addButton("search",{title:"searchreplace.search_desc",cmd:"mceSearch"}),a.addButton("replace",{title:"searchreplace.replace_desc",cmd:"mceReplace"}),a.addShortcut("ctrl+f","searchreplace.search_desc","mceSearch")},getInfo:function(){return{longname:"Search/Replace",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/searchreplace",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("searchreplace",tinymce.plugins.SearchReplacePlugin)}(),tinyMCEPopup.requireLangPack();var SearchReplaceDialog={init:function(a){var b=document.forms[0],c=tinyMCEPopup.getWindowArg("mode");this.switchMode(c),b[c+"_panel_searchstring"].value=tinyMCEPopup.getWindowArg("search_string"),b[c+"_panel_searchstring"].focus()},switchMode:function(a){var b,c=this.lastMode;c!=a&&(b=document.forms[0],c&&(b[a+"_panel_searchstring"].value=b[c+"_panel_searchstring"].value,b[a+"_panel_backwardsu"].checked=b[c+"_panel_backwardsu"].checked,b[a+"_panel_backwardsd"].checked=b[c+"_panel_backwardsd"].checked,b[a+"_panel_casesensitivebox"].checked=b[c+"_panel_casesensitivebox"].checked),mcTabs.displayTab(a+"_tab",a+"_panel"),document.getElementById("replaceBtn").style.display=a=="replace"?"inline":"none",document.getElementById("replaceAllBtn").style.display=a=="replace"?"inline":"none",this.lastMode=a)},searchNext:function(a){function m(){d=c.getRng().cloneRange(),b.getDoc().execCommand("SelectAll",!1,null),c.setRng(d)}function n(){tinymce.isIE?b.selection.getRng().duplicate().pasteHTML(rs):b.getDoc().execCommand("InsertHTML",!1,rs)}var b=tinyMCEPopup.editor,c=b.selection,d=c.getRng(),e,f=this.lastMode,g,h,i=0,j=b.getWin(),k=b.windowManager,l=0;e=document.forms[0],g=e[f+"_panel_searchstring"].value,h=e[f+"_panel_backwardsu"].checked,ca=e[f+"_panel_casesensitivebox"].checked,rs=e.replace_panel_replacestring.value;if(g=="")return;ca&&(i|=4);switch(a){case"all":b.execCommand("SelectAll"),b.selection.collapse(!0);if(tinymce.isIE){while(d.findText(g,h?-1:1,i))d.scrollIntoView(),d.select(),n(),l=1,h&&d.moveEnd("character",-rs.length);tinyMCEPopup.storeSelection()}else while(j.find(g,ca,h,!1,!1,!1,!1))n(),l=1;l?tinyMCEPopup.alert(b.getLang("searchreplace_dlg.allreplaced")):tinyMCEPopup.alert(b.getLang("searchreplace_dlg.notfound"));return;case"current":b.selection.isCollapsed()||n()}c.collapse(h),d=c.getRng();if(!g)return;tinymce.isIE?(d.findText(g,h?-1:1,i)?(d.scrollIntoView(),d.select()):tinyMCEPopup.alert(b.getLang("searchreplace_dlg.notfound")),tinyMCEPopup.storeSelection()):j.find(g,ca,h,!1,!1,!1,!1)?m():tinyMCEPopup.alert(b.getLang("searchreplace_dlg.notfound"))}};tinyMCEPopup.onInit.add(SearchReplaceDialog.init,SearchReplaceDialog),tinyMCE.addI18n("en.searchreplace_dlg",{searchnext_desc:"Find again",notfound:"The search has been completed. The search string could not be found.",search_title:"Find",replace_title:"Find/Replace",allreplaced:"All occurrences of the search string were replaced.",findwhat:"Find what",replacewith:"Replace with",direction:"Direction",up:"Up",down:"Down",mcase:"Match case",findnext:"Find next",replace:"Replace",replaceall:"Replace all"}),function(){var a=tinymce.util.JSONRequest,b=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(a,c){var d=this,e;d.url=c,d.editor=a,d.rpcUrl=a.getParam("spellchecker_rpc_url","{backend}");if(d.rpcUrl=="{backend}"){if(tinymce.isIE)return;d.hasSupport=!0,a.onContextMenu.addToTop(function(a,b){if(d.active)return!1})}a.addCommand("mceSpellCheck",function(){if(d.rpcUrl=="{backend}"){d.editor.getBody().spellcheck=d.active=!d.active;return}d.active?d._done():(a.setProgressState(1),d._sendRPC("checkWords",[d.selectedLang,d._getWords()],function(b){b.length>0?(d.active=1,d._markWords(b),a.setProgressState(0),a.nodeChanged()):(a.setProgressState(0),a.getParam("spellchecker_report_no_misspellings",!0)&&a.windowManager.alert("spellchecker.no_mpell"))}))}),a.onInit.add(function(){a.settings.content_css!==!1&&a.dom.loadCSS(c+"/css/content.css")}),a.onClick.add(d._showMenu,d),a.onContextMenu.add(d._showMenu,d),a.onBeforeGetContent.add(function(){d.active&&d._removeWords()}),a.onNodeChange.add(function(a,b){b.setActive("spellchecker",d.active)}),a.onSetContent.add(function(){d._done()}),a.onBeforeGetContent.add(function(){d._done()}),a.onBeforeExecCommand.add(function(a,b){b=="mceFullScreen"&&d._done()}),d.languages={},b(a.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(a,b){b.indexOf("+")===0&&(b=b.substring(1),d.selectedLang=a),d.languages[b]=a})},createControl:function(a,c){var d=this,e,f=d.editor;if(a=="spellchecker")return d.rpcUrl=="{backend}"?(d.hasSupport&&(e=c.createButton(a,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:d})),e):(e=c.createSplitButton(a,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:d}),e.onRenderMenu.add(function(a,c){c.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1),b(d.languages,function(a,b){var e={icon:1},f;e.onclick=function(){f.setSelected(1),d.selectedItem.setSelected(0),d.selectedItem=f,d.selectedLang=a},e.title=b,f=c.add(e),f.setSelected(a==d.selectedLang),a==d.selectedLang&&(d.selectedItem=f)})}),e)},_walk:function(a,b){var c=this.editor.getDoc(),d;if(c.createTreeWalker){d=c.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);while((a=d.nextNode())!=null)b.call(this,a)}else tinymce.walk(a,b,"childNodes")},_getSeparators:function(){var a="",b,c=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}Â§Â©Â«Â®Â±Â¶Â·Â¸Â»Â¼Â½Â¾Â¿Ã—Ã·Â¤â€â€œ');for(b=0;b<c.length;b++)a+="\\"+c.charAt(b);return a},_getWords:function(){var a=this.editor,c=[],d="",e={},f=[];return this._walk(a.getBody(),function(a){a.nodeType==3&&(d+=a.nodeValue+" ")}),a.getParam("spellchecker_word_pattern")?f=d.match("("+a.getParam("spellchecker_word_pattern")+")","gi"):(d=d.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," "),d=tinymce.trim(d.replace(/(\s+)/g," ")),f=d.split(" ")),b(f,function(a){e[a]||(c.push(a),e[a]=1)}),c},_removeWords:function(a){var c=this.editor,d=c.dom,e=c.selection,f=e.getBookmark();b(d.select("span").reverse(),function(b){b&&(d.hasClass(b,"mceItemHiddenSpellWord")||d.hasClass(b,"mceItemHidden"))&&(!a||d.decode(b.innerHTML)==a)&&d.remove(b,1)}),e.moveToBookmark(f)},_markWords:function(a){var c,d,e,f,g,h="",i=this.editor,j=this._getSeparators(),k=i.dom,l=[],m=i.selection,n=m.getBookmark();b(a,function(a){h+=(h?"|":"")+a}),c=new RegExp("(["+j+"])("+h+")(["+j+"])","g"),d=new RegExp("^("+h+")","g"),e=new RegExp("("+h+")(["+j+"]?)$","g"),f=new RegExp("^("+h+")(["+j+"]?)$","g"),g=new RegExp("("+h+")(["+j+"])","g"),this._walk(this.editor.getBody(),function(a){a.nodeType==3&&l.push(a)}),b(l,function(a){var b;if(a.nodeType==3){b=a.nodeValue;if(c.test(b)||d.test(b)||e.test(b)||f.test(b))b=k.encode(b),b=b.replace(g,'<span class="mceItemHiddenSpellWord">$1</span>$2'),b=b.replace(e,'<span class="mceItemHiddenSpellWord">$1</span>$2'),k.replace(k.create("span",{"class":"mceItemHidden"},b),a)}}),m.moveToBookmark(n)},_showMenu:function(a,d){var e=this,a=e.editor,f=e._menu,g,h=a.dom,i=h.getViewPort(a.getWin()),j=d.target;d=0,f||(g=c.getPos(a.getContentAreaContainer()),f=a.controlManager.createDropMenu("spellcheckermenu",{offset_x:g.x,offset_y:g.y,"class":"mceNoIcons"}),e._menu=f);if(h.hasClass(j,"mceItemHiddenSpellWord"))return f.removeAll(),f.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1),e._sendRPC("getSuggestions",[e.selectedLang,h.decode(j.innerHTML)],function(c){var d;f.removeAll(),c.length>0?(f.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1),b(c,function(b){f.add({title:b,onclick:function(){h.replace(a.getDoc().createTextNode(b),j),e._checkDone()}})}),f.addSeparator()):f.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1),d=e.editor.getParam("spellchecker_enable_ignore_rpc",""),f.add({title:"spellchecker.ignore_word",onclick:function(){var b=j.innerHTML;h.remove(j,1),e._checkDone(),d&&(a.setProgressState(1),e._sendRPC("ignoreWord",[e.selectedLang,b],function(b){a.setProgressState(0)}))}}),f.add({title:"spellchecker.ignore_words",onclick:function(){var b=j.innerHTML;e._removeWords(h.decode(b)),e._checkDone(),d&&(a.setProgressState(1),e._sendRPC("ignoreWords",[e.selectedLang,b],function(b){a.setProgressState(0)}))}}),e.editor.getParam("spellchecker_enable_learn_rpc")&&f.add({title:"spellchecker.learn_word",onclick:function(){var b=j.innerHTML;h.remove(j,1),e._checkDone(),a.setProgressState(1),e._sendRPC("learnWord",[e.selectedLang,b],function(b){a.setProgressState(0)})}}),f.update()}),a.selection.select(j),g=h.getPos(j),f.showMenu(g.x,g.y+j.offsetHeight-i.y),tinymce.dom.Event.cancel(d);f.hideMenu()},_checkDone:function(){var a=this,c=a.editor,d=c.dom,e;b(d.select("span"),function(a){if(a&&d.hasClass(a,"mceItemHiddenSpellWord"))return e=!0,!1}),e||a._done()},_done:function(){var a=this,b=a.active;a.active&&(a.active=0,a._removeWords(),a._menu&&a._menu.hideMenu(),b&&a.editor.nodeChanged())},_sendRPC:function(b,c,d){var e=this;a.sendRPC({url:e.rpcUrl,method:b,params:c,success:d,error:function(a,b){e.editor.setProgressState(0),e.editor.windowManager.alert(a.errstr||"Error response: "+b.responseText)}})}}),tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)}(),function(){var a=tinymce.util.JSONRequest,b=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(a,c){var d=this,e;d.url=c,d.editor=a,d.rpcUrl=a.getParam("spellchecker_rpc_url","{backend}");if(d.rpcUrl=="{backend}"){if(tinymce.isIE)return;d.hasSupport=!0,a.onContextMenu.addToTop(function(a,b){if(d.active)return!1})}a.addCommand("mceSpellCheck",function(){if(d.rpcUrl=="{backend}"){d.editor.getBody().spellcheck=d.active=!d.active;return}d.active?d._done():(a.setProgressState(1),d._sendRPC("checkWords",[d.selectedLang,d._getWords()],function(b){b.length>0?(d.active=1,d._markWords(b),a.setProgressState(0),a.nodeChanged()):(a.setProgressState(0),a.getParam("spellchecker_report_no_misspellings",!0)&&a.windowManager.alert("spellchecker.no_mpell"))}))}),a.onInit.add(function(){a.settings.content_css!==!1&&a.dom.loadCSS(c+"/css/content.css")}),a.onClick.add(d._showMenu,d),a.onContextMenu.add(d._showMenu,d),a.onBeforeGetContent.add(function(){d.active&&d._removeWords()}),a.onNodeChange.add(function(a,b){b.setActive("spellchecker",d.active)}),a.onSetContent.add(function(){d._done()}),a.onBeforeGetContent.add(function(){d._done()}),a.onBeforeExecCommand.add(function(a,b){b=="mceFullScreen"&&d._done()}),d.languages={},b(a.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(a,b){b.indexOf("+")===0&&(b=b.substring(1),d.selectedLang=a),d.languages[b]=a})},createControl:function(a,c){var d=this,e,f=d.editor;if(a=="spellchecker")return d.rpcUrl=="{backend}"?(d.hasSupport&&(e=c.createButton(a,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:d})),e):(e=c.createSplitButton(a,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:d}),e.onRenderMenu.add(function(a,c){c.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1),b(d.languages,function(a,b){var e={icon:1},f;e.onclick=function(){f.setSelected(1),d.selectedItem.setSelected(0),d.selectedItem=f,d.selectedLang=a},e.title=b,f=c.add(e),f.setSelected(a==d.selectedLang),a==d.selectedLang&&(d.selectedItem=f)})}),e)},_walk:function(a,b){var c=this.editor.getDoc(),d;if(c.createTreeWalker){d=c.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);while((a=d.nextNode())!=null)b.call(this,a)}else tinymce.walk(a,b,"childNodes")},_getSeparators:function(){var a="",b,c=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}Â§Â©Â«Â®Â±Â¶Â·Â¸Â»Â¼Â½Â¾Â¿Ã—Ã·Â¤â€â€œ');for(b=0;b<c.length;b++)a+="\\"+c.charAt(b);return a},_getWords:function(){var a=this.editor,c=[],d="",e={},f=[];return this._walk(a.getBody(),function(a){a.nodeType==3&&(d+=a.nodeValue+" ")}),a.getParam("spellchecker_word_pattern")?f=d.match("("+a.getParam("spellchecker_word_pattern")+")","gi"):(d=d.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," "),d=tinymce.trim(d.replace(/(\s+)/g," ")),f=d.split(" ")),b(f,function(a){e[a]||(c.push(a),e[a]=1)}),c},_removeWords:function(a){var c=this.editor,d=c.dom,e=c.selection,f=e.getBookmark();b(d.select("span").reverse(),function(b){b&&(d.hasClass(b,"mceItemHiddenSpellWord")||d.hasClass(b,"mceItemHidden"))&&(!a||d.decode(b.innerHTML)==a)&&d.remove(b,1)}),e.moveToBookmark(f)},_markWords:function(a){var c,d,e,f,g,h="",i=this.editor,j=this._getSeparators(),k=i.dom,l=[],m=i.selection,n=m.getBookmark();b(a,function(a){h+=(h?"|":"")+a}),c=new RegExp("(["+j+"])("+h+")(["+j+"])","g"),d=new RegExp("^("+h+")","g"),e=new RegExp("("+h+")(["+j+"]?)$","g"),f=new RegExp("^("+h+")(["+j+"]?)$","g"),g=new RegExp("("+h+")(["+j+"])","g"),this._walk(this.editor.getBody(),function(a){a.nodeType==3&&l.push(a)}),b(l,function(a){var b;if(a.nodeType==3){b=a.nodeValue;if(c.test(b)||d.test(b)||e.test(b)||f.test(b))b=k.encode(b),b=b.replace(g,'<span class="mceItemHiddenSpellWord">$1</span>$2'),b=b.replace(e,'<span class="mceItemHiddenSpellWord">$1</span>$2'),k.replace(k.create("span",{"class":"mceItemHidden"},b),a)}}),m.moveToBookmark(n)},_showMenu:function(a,d){var e=this,a=e.editor,f=e._menu,g,h=a.dom,i=h.getViewPort(a.getWin()),j=d.target;d=0,f||(g=c.getPos(a.getContentAreaContainer()),f=a.controlManager.createDropMenu("spellcheckermenu",{offset_x:g.x,offset_y:g.y,"class":"mceNoIcons"}),e._menu=f);if(h.hasClass(j,"mceItemHiddenSpellWord"))return f.removeAll(),f.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1),e._sendRPC("getSuggestions",[e.selectedLang,h.decode(j.innerHTML)],function(c){var d;f.removeAll(),c.length>0?(f.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1),b(c,function(b){f.add({title:b,onclick:function(){h.replace(a.getDoc().createTextNode(b),j),e._checkDone()}})}),f.addSeparator()):f.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1),d=e.editor.getParam("spellchecker_enable_ignore_rpc",""),f.add({title:"spellchecker.ignore_word",onclick:function(){var b=j.innerHTML;h.remove(j,1),e._checkDone(),d&&(a.setProgressState(1),e._sendRPC("ignoreWord",[e.selectedLang,b],function(b){a.setProgressState(0)}))}}),f.add({title:"spellchecker.ignore_words",onclick:function(){var b=j.innerHTML;e._removeWords(h.decode(b)),e._checkDone(),d&&(a.setProgressState(1),e._sendRPC("ignoreWords",[e.selectedLang,b],function(b){a.setProgressState(0)}))}}),e.editor.getParam("spellchecker_enable_learn_rpc")&&f.add({title:"spellchecker.learn_word",onclick:function(){var b=j.innerHTML;h.remove(j,1),e._checkDone(),a.setProgressState(1),e._sendRPC("learnWord",[e.selectedLang,b],function(b){a.setProgressState(0)})}}),f.update()}),a.selection.select(j),g=h.getPos(j),f.showMenu(g.x,g.y+j.offsetHeight-i.y),tinymce.dom.Event.cancel(d);f.hideMenu()},_checkDone:function(){var a=this,c=a.editor,d=c.dom,e;b(d.select("span"),function(a){if(a&&d.hasClass(a,"mceItemHiddenSpellWord"))return e=!0,!1}),e||a._done()},_done:function(){var a=this,b=a.active;a.active&&(a.active=0,a._removeWords(),a._menu&&a._menu.hideMenu(),b&&a.editor.nodeChanged())},_sendRPC:function(b,c,d){var e=this;a.sendRPC({url:e.rpcUrl,method:b,params:c,success:d,error:function(a,b){e.editor.setProgressState(0),e.editor.windowManager.alert(a.errstr||"Error response: "+b.responseText)}})}}),tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)}(),function(){tinymce.create("tinymce.plugins.StylePlugin",{init:function(a,b){a.addCommand("mceStyleProps",function(){a.windowManager.open({file:b+"/props.htm",width:480+parseInt(a.getLang("style.delta_width",0)),height:320+parseInt(a.getLang("style.delta_height",0)),inline:1},{plugin_url:b,style_text:a.selection.getNode().style.cssText})}),a.addCommand("mceSetElementStyle",function(b,c){if(e=a.selection.getNode())a.dom.setAttrib(e,"style",c),a.execCommand("mceRepaint")}),a.onNodeChange.add(function(a,b,c){b.setDisabled("styleprops",c.nodeName==="BODY")}),a.addButton("styleprops",{title:"style.desc",cmd:"mceStyleProps"})},getInfo:function(){return{longname:"Style",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/style",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("style",tinymce.plugins.StylePlugin)}(),function(){tinymce.create("tinymce.plugins.StylePlugin",{init:function(a,b){a.addCommand("mceStyleProps",function(){a.windowManager.open({file:b+"/props.htm",width:480+parseInt(a.getLang("style.delta_width",0)),height:320+parseInt(a.getLang("style.delta_height",0)),inline:1},{plugin_url:b,style_text:a.selection.getNode().style.cssText})}),a.addCommand("mceSetElementStyle",function(b,c){if(e=a.selection.getNode())a.dom.setAttrib(e,"style",c),a.execCommand("mceRepaint")}),a.onNodeChange.add(function(a,b,c){b.setDisabled("styleprops",c.nodeName==="BODY")}),a.addButton("styleprops",{title:"style.desc",cmd:"mceStyleProps"})},getInfo:function(){return{longname:"Style",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/style",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("style",tinymce.plugins.StylePlugin)}(),tinyMCEPopup.requireLangPack();var defaultFonts="Arial, Helvetica, sans-serif=Arial, Helvetica, sans-serif;Times New Roman, Times, serif=Times New Roman, Times, serif;Courier New, Courier, mono=Courier New, Courier, mono;Times New Roman, Times, serif=Times New Roman, Times, serif;Georgia, Times New Roman, Times, serif=Georgia, Times New Roman, Times, serif;Verdana, Arial, Helvetica, sans-serif=Verdana, Arial, Helvetica, sans-serif;Geneva, Arial, Helvetica, sans-serif=Geneva, Arial, Helvetica, sans-serif",defaultSizes="9;10;12;14;16;18;24;xx-small;x-small;small;medium;large;x-large;xx-large;smaller;larger",defaultMeasurement="+pixels=px;points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;ems=em;exs=ex;%",defaultSpacingMeasurement="pixels=px;points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;+ems=em;exs=ex;%",defaultIndentMeasurement="pixels=px;+points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;ems=em;exs=ex;%",defaultWeight="normal;bold;bolder;lighter;100;200;300;400;500;600;700;800;900",defaultTextStyle="normal;italic;oblique",defaultVariant="normal;small-caps",defaultLineHeight="normal",defaultAttachment="fixed;scroll",defaultRepeat="no-repeat;repeat;repeat-x;repeat-y",defaultPosH="left;center;right",defaultPosV="top;center;bottom",defaultVAlign="baseline;sub;super;top;text-top;middle;bottom;text-bottom",defaultDisplay="inline;block;list-item;run-in;compact;marker;table;inline-table;table-row-group;table-header-group;table-footer-group;table-row;table-column-group;table-column;table-cell;table-caption;none",defaultBorderStyle="none;solid;dashed;dotted;double;groove;ridge;inset;outset",defaultBorderWidth="thin;medium;thick",defaultListType="disc;circle;square;decimal;lower-roman;upper-roman;lower-alpha;upper-alpha;none";tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.style_dlg",{title:"Edit CSS Style",apply:"Apply",text_tab:"Text",background_tab:"Background",block_tab:"Block",box_tab:"Box",border_tab:"Border",list_tab:"List",positioning_tab:"Positioning",text_props:"Text",text_font:"Font",text_size:"Size",text_weight:"Weight",text_style:"Style",text_variant:"Variant",text_lineheight:"Line height",text_case:"Case",text_color:"Color",text_decoration:"Decoration",text_overline:"overline",text_underline:"underline",text_striketrough:"strikethrough",text_blink:"blink",text_none:"none",background_color:"Background color",background_image:"Background image",background_repeat:"Repeat",background_attachment:"Attachment",background_hpos:"Horizontal position",background_vpos:"Vertical position",block_wordspacing:"Word spacing",block_letterspacing:"Letter spacing",block_vertical_alignment:"Vertical alignment",block_text_align:"Text align",block_text_indent:"Text indent",block_whitespace:"Whitespace",block_display:"Display",box_width:"Width",box_height:"Height",box_float:"Float",box_clear:"Clear",padding:"Padding",same:"Same for all",top:"Top",right:"Right",bottom:"Bottom",left:"Left",margin:"Margin",style:"Style",width:"Width",height:"Height",color:"Color",list_type:"Type",bullet_image:"Bullet image",position:"Position",positioning_type:"Type",visibility:"Visibility",zindex:"Z-index",overflow:"Overflow",placement:"Placement",clip:"Clip"}),function(){var a=tinymce.DOM,b=tinymce.dom.Event,c=tinymce.each,d=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(e,f){function g(a,c){if(c.keyCode===9)return b.cancel(c)}function h(e,f){function l(b){i=a.getParent(e.id,"form"),j=i.elements;if(i){c(j,function(a,b){if(a.id==e.id)return g=b,!1});if(b>0){for(h=g+1;h<j.length;h++)if(j[h].type!="hidden")return j[h]}else for(h=g-1;h>=0;h--)if(j[h].type!="hidden")return j[h]}return null}var g,h,i,j,k;if(f.keyCode===9){k=d(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))),k.length==1&&(k[1]=k[0],k[0]=":prev"),f.shiftKey?k[0]==":prev"?j=l(-1):j=a.get(k[0]):k[1]==":next"?j=l(1):j=a.get(k[1]);if(j)return(e=tinymce.get(j.id||j.name))?e.focus():window.setTimeout(function(){window.focus(),j.focus()},10),b.cancel(f)}}e.onKeyUp.add(g),tinymce.isGecko?(e.onKeyPress.add(h),e.onKeyDown.add(g)):e.onKeyDown.add(h),e.onInit.add(function(){c(a.select("a:first,a:last",e.getContainer()),function(a){b.add(a,"focus",function(){e.focus()})})})},getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)}(),function(){var a=tinymce.DOM,b=tinymce.dom.Event,c=tinymce.each,d=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(e,f){function g(a,c){if(c.keyCode===9)return b.cancel(c)}function h(e,f){function l(b){i=a.getParent(e.id,"form"),j=i.elements;if(i){c(j,function(a,b){if(a.id==e.id)return g=b,!1});if(b>0){for(h=g+1;h<j.length;h++)if(j[h].type!="hidden")return j[h]}else for(h=g-1;h>=0;h--)if(j[h].type!="hidden")return j[h]}return null}var g,h,i,j,k;if(f.keyCode===9){k=d(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))),k.length==1&&(k[1]=k[0],k[0]=":prev"),f.shiftKey?k[0]==":prev"?j=l(-1):j=a.get(k[0]):k[1]==":next"?j=l(1):j=a.get(k[1]);if(j)return(e=tinymce.get(j.id||j.name))?e.focus():window.setTimeout(function(){window.focus(),j.focus()},10),b.cancel(f)}}e.onKeyUp.add(g),tinymce.isGecko?(e.onKeyPress.add(h),e.onKeyDown.add(g)):e.onKeyDown.add(h),e.onInit.add(function(){c(a.select("a:first,a:last",e.getContainer()),function(a){b.add(a,"focus",function(){e.focus()})})})},getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)}(),function(a){function c(c,d,e){function k(a,b){return a=a.cloneNode(b),a.removeAttribute("id"),a}function l(){var a=0;f=[],b(["thead","tbody","tfoot"],function(e){var g=d.select(e+" tr",c);b(g,function(c,g){g+=a,b(d.select("td,th",c),function(a,b){var c,d,h,i;if(f[g])while(f[g][b])b++;h=n(a,"rowspan"),i=n(a,"colspan");for(d=g;d<g+h;d++){f[d]||(f[d]=[]);for(c=b;c<b+i;c++)f[d][c]={part:e,real:d==g&&c==b,elm:a,rowspan:h,colspan:i}}})}),a+=g.length})}function m(a,b){var c;c=f[b];if(c)return c[a]}function n(a,b){return parseInt(a.getAttribute(b)||1)}function o(a){return d.hasClass(a.elm,"mceSelected")||a==j}function p(){var a=[];return b(c.rows,function(c){b(c.cells,function(b){if(d.hasClass(b,"mceSelected")||b==j.elm)return a.push(c),!1})}),a}function q(){var a=d.createRng();a.setStartAfter(c),a.setEndAfter(c),e.setRng(a),d.remove(c)}function r(c){var e;return a.walk(c,function(f){var g;if(f.nodeType==3)return b(d.getParents(f.parentNode,null,c).reverse(),function(a){a=k(a,!1),e?g&&g.appendChild(a):e=g=a,g=a}),g&&(g.innerHTML=a.isIE?"&nbsp;":'<br _mce_bogus="1" />'),!1},"childNodes"),c=k(c,!1),c.rowSpan=c.colSpan=1,e?c.appendChild(e):a.isIE||(c.innerHTML='<br _mce_bogus="1" />'),c}function s(){var a=d.createRng();b(d.select("tr",c),function(a){a.cells.length==0&&d.remove(a)});if(d.select("tr",c).length==0){a.setStartAfter(c),a.setEndAfter(c),e.setRng(a),d.remove(c);return}b(d.select("thead,tbody,tfoot",c),function(a){a.rows.length==0&&d.remove(a)}),l(),row=f[Math.min(f.length-1,g.y)],row&&(e.select(row[Math.min(row.length-1,g.x)].elm,!0),e.collapse(!0))}function t(a,b,c,e){var g,h,i,j,k;g=f[b][a].elm.parentNode;for(i=1;i<=c;i++){g=d.getNext(g,"tr");if(g){for(h=a;h>=0;h--){k=f[b+i][h].elm;if(k.parentNode==g){for(j=1;j<=e;j++)d.insertAfter(r(k),k);break}}if(h==-1)for(j=1;j<=e;j++)g.insertBefore(r(g.cells[0]),g.cells[0])}}}function u(){b(f,function(a,c){b(a,function(a,b){var e,f,g,h;if(o(a)){a=a.elm,e=n(a,"colspan"),f=n(a,"rowspan");if(e>1||f>1){a.colSpan=a.rowSpan=1;for(h=0;h<e-1;h++)d.insertAfter(r(a),a);t(b,c,f-1,e)}}})})}function v(c,e,i){var j,k,n,o,p,q,r,t,c,v;c?(pos=F(c),j=pos.x,k=pos.y,n=j+(e-1),o=k+(i-1)):(j=g.x,k=g.y,n=h.x,o=h.y),r=m(j,k),t=m(n,o);if(r&&t&&r.part==t.part){u(),l(),r=m(j,k).elm,r.colSpan=n-j+1,r.rowSpan=o-k+1;for(q=k;q<=o;q++)for(p=j;p<=n;p++)c=f[q][p].elm,c!=r&&(v=a.grep(c.childNodes),b(v,function(a,b){(a.nodeName!="BR"||b!=v.length-1)&&r.appendChild(a)}),d.remove(c));s()}}function w(a){var c,e,g,h,i,j,l,m;b(f,function(d,e){b(d,function(b,d){if(o(b)){b=b.elm,i=b.parentNode,j=k(i,!1),c=e;if(a)return!1}});if(a)return!c});for(h=0;h<f[0].length;h++){e=f[c][h].elm;if(e!=g){if(!a){rowSpan=n(e,"rowspan");if(rowSpan>1){e.rowSpan=rowSpan+1;continue}}else if(c>0&&f[c-1][h]){m=f[c-1][h].elm,rowSpan=n(m,"rowspan");if(rowSpan>1){m.rowSpan=rowSpan+1;continue}}l=r(e),l.colSpan=e.colSpan,j.appendChild(l),g=e}}j.hasChildNodes()&&(a?i.parentNode.insertBefore(j,i):d.insertAfter(j,i))}function z(a){var c,e;b(f,function(d,e){b(d,function(b,d){if(o(b)){c=
d;if(a)return!1}});if(a)return!c}),b(f,function(b,f){var g=b[c].elm,h,i;g!=e&&(i=n(g,"colspan"),h=n(g,"rowspan"),i==1?a?(g.parentNode.insertBefore(r(g),g),t(c,f,h-1,i)):(d.insertAfter(r(g),g),t(c,f,h-1,i)):g.colSpan++,e=g)})}function A(){var c=[];b(f,function(e,g){b(e,function(e,g){o(e)&&a.inArray(c,g)===-1&&(b(f,function(a){var b=a[g].elm,c;c=n(b,"colspan"),c>1?b.colSpan=c-1:d.remove(b)}),c.push(g))})}),s()}function B(){function c(a){var c,e,g;c=d.getNext(a,"tr"),b(a.cells,function(a){var b=n(a,"rowspan");b>1&&(a.rowSpan=b-1,e=F(a),t(e.x,e.y,1,1))}),e=F(a.cells[0]),b(f[e.y],function(a){var b;a=a.elm,a!=g&&(b=n(a,"rowspan"),b<=1?d.remove(a):a.rowSpan=b-1,g=a)})}var a;a=p(),b(a.reverse(),function(a){c(a)}),s()}function C(){var a=p();return d.remove(a),s(),a}function D(){var a=p();return b(a,function(b,c){a[c]=k(b,!0)}),a}function E(a,c){var e=p(),g=e[c?0:e.length-1],h=g.cells.length;b(f,function(a){var c;h=0,b(a,function(a,b){a.real&&(h+=a.colspan),a.elm.parentNode==g&&(c=1)});if(c)return!1}),c||a.reverse(),b(a,function(a){var b=a.cells.length,e;for(i=0;i<b;i++)e=a.cells[i],e.colSpan=e.rowSpan=1;for(i=b;i<h;i++)a.appendChild(r(a.cells[b-1]));for(i=h;i<b;i++)d.remove(a.cells[i]);c?g.parentNode.insertBefore(a,g):d.insertAfter(a,g)})}function F(a){var c;return b(f,function(d,e){return b(d,function(b,d){if(b.elm==a)return c={x:d,y:e},!1}),!c}),c}function G(a){g=F(a)}function H(){var a,c,d;return c=d=0,b(f,function(a,e){b(a,function(a,b){var g,h;o(a)&&(a=f[e][b],b>c&&(c=b),e>d&&(d=e),a.real&&(g=a.colspan-1,h=a.rowspan-1,g&&b+g>c&&(c=b+g),h&&e+h>d&&(d=e+h)))})}),{x:c,y:d}}function I(a){var b,c,e,i,j,k,l,m;h=F(a);if(g&&h){b=Math.min(g.x,h.x),c=Math.min(g.y,h.y),e=Math.max(g.x,h.x),i=Math.max(g.y,h.y),j=e,k=i;for(y=c;y<=k;y++)a=f[y][b],a.real||b-(a.colspan-1)<b&&(b-=a.colspan-1);for(x=b;x<=j;x++)a=f[c][x],a.real||c-(a.rowspan-1)<c&&(c-=a.rowspan-1);for(y=c;y<=i;y++)for(x=b;x<=e;x++)a=f[y][x],a.real&&(l=a.colspan-1,m=a.rowspan-1,l&&x+l>j&&(j=x+l),m&&y+m>k&&(k=y+m));d.removeClass(d.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=c;y<=k;y++)for(x=b;x<=j;x++)d.addClass(f[y][x].elm,"mceSelected")}}var f,g,h,j;l(),j=d.getParent(e.getStart(),"th,td"),j&&(g=F(j),h=H(),j=m(g.x,g.y)),a.extend(this,{deleteTable:q,split:u,merge:v,insertRow:w,insertCol:z,deleteCols:A,deleteRows:B,cutRows:C,copyRows:D,pasteRows:E,getPos:F,setStartCell:G,setEndCell:I})}var b=a.each;a.create("tinymce.plugins.TablePlugin",{init:function(d,e){function h(a){var b=d.selection,e=d.dom.getParent(a||b.getNode(),"table");if(e)return new c(e,d.dom,b)}function i(){d.getBody().style.webkitUserSelect="",d.dom.removeClass(d.dom.select("td.mceSelected,th.mceSelected"),"mceSelected")}var f,g;b([["table","table.desc","mceInsertTable",!0],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",!0],["cell_props","table.cell_desc","mceTableCellProps",!0],["split_cells","table.split_cells_desc","mceTableSplitCells",!0],["merge_cells","table.merge_cells_desc","mceTableMergeCells",!0]],function(a){d.addButton(a[0],{title:a[1],cmd:a[2],ui:a[3]})}),a.isIE||d.onClick.add(function(a,b){b=b.target,b.nodeName==="TABLE"&&a.selection.select(b)}),d.onNodeChange.add(function(a,b,c){var d;c=a.selection.getStart(),d=a.dom.getParent(c,"td,th,caption"),b.setActive("table",c.nodeName==="TABLE"||!!d),d&&d.nodeName==="CAPTION"&&(d=0),b.setDisabled("delete_table",!d),b.setDisabled("delete_col",!d),b.setDisabled("delete_table",!d),b.setDisabled("delete_row",!d),b.setDisabled("col_after",!d),b.setDisabled("col_before",!d),b.setDisabled("row_after",!d),b.setDisabled("row_before",!d),b.setDisabled("row_props",!d),b.setDisabled("cell_props",!d),b.setDisabled("split_cells",!d),b.setDisabled("merge_cells",!d)}),d.onInit.add(function(b){var c,d,e=b.dom,k;f=b.windowManager,b.onMouseDown.add(function(a,b){b.button!=2&&(i(),d=e.getParent(b.target,"td,th"),c=e.getParent(d,"table"))}),e.bind(b.getDoc(),"mouseover",function(a){var f,g,i=a.target;d&&(k||i!=d)&&(i.nodeName=="TD"||i.nodeName=="TH")&&(g=e.getParent(i,"table"),g==c&&(k||(k=h(g),k.setStartCell(d),b.getBody().style.webkitUserSelect="none"),k.setEndCell(i)),f=b.selection.getSel(),f.removeAllRanges?f.removeAllRanges():f.empty(),a.preventDefault())}),b.onMouseUp.add(function(b,f){var g,h=b.selection,i,j=h.getSel(),l,n,q,r;if(d){k&&(b.getBody().style.webkitUserSelect="");function s(b,c){var d=new a.dom.TreeWalker(b,b);do{if(b.nodeType==3&&a.trim(b.nodeValue).length!=0){c?g.setStart(b,0):g.setEnd(b,b.nodeValue.length);return}if(b.nodeName=="BR"){c?g.setStartBefore(b):g.setEndBefore(b);return}}while(b=c?d.next():d.prev())}i=e.select("td.mceSelected,th.mceSelected");if(i.length>0){g=e.createRng(),n=i[0],r=i[i.length-1],s(n,1),l=new a.dom.TreeWalker(n,e.getParent(i[0],"table"));do if(n.nodeName=="TD"||n.nodeName=="TH"){if(!e.hasClass(n,"mceSelected"))break;q=n}while(n=l.next());s(q),h.setRng(g)}b.nodeChanged(),d=k=c=null}}),b.onKeyUp.add(function(a,b){i()}),b&&b.plugins.contextmenu&&b.plugins.contextmenu.onContextMenu.add(function(a,c,d){var e,f=b.selection,h=f.getNode()||b.getBody();b.dom.getParent(d,"td")||b.dom.getParent(d,"th")||b.dom.select("td.mceSelected,th.mceSelected").length?(c.removeAll(),h.nodeName=="A"&&!b.dom.getAttrib(h,"name")&&(c.add({title:"advanced.link_desc",icon:"link",cmd:b.plugins.advlink?"mceAdvLink":"mceLink",ui:!0}),c.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"}),c.addSeparator()),h.nodeName=="IMG"&&h.className.indexOf("mceItem")==-1&&(c.add({title:"advanced.image_desc",icon:"image",cmd:b.plugins.advimage?"mceAdvImage":"mceImage",ui:!0}),c.addSeparator()),c.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}}),c.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"}),c.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"}),c.addSeparator(),e=c.addMenu({title:"table.cell"}),e.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"}),e.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"}),e.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"}),e=c.addMenu({title:"table.row"}),e.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"}),e.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"}),e.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"}),e.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"}),e.addSeparator(),e.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"}),e.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"}),e.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!g),e.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!g),e=c.addMenu({title:"table.col"}),e.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"}),e.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"}),e.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})):c.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})});if(!a.isIE){function l(){var a;for(a=b.getBody().lastChild;a&&a.nodeType==3&&!a.nodeValue.length;a=a.previousSibling);a&&a.nodeName=="TABLE"&&b.dom.add(b.getBody(),"p",null,'<br mce_bogus="1" />')}a.isGecko&&b.onKeyDown.add(function(a,b){var c,d,e=a.dom;if(b.keyCode==37||b.keyCode==38)c=a.selection.getRng(),d=e.getParent(c.startContainer,"table"),d&&a.getBody().firstChild==d&&isAtStart(c,d)&&(c=e.createRng(),c.setStartBefore(d),c.setEndBefore(d),a.selection.setRng(c),b.preventDefault())}),b.onKeyUp.add(l),b.onSetContent.add(l),b.onVisualAid.add(l),b.onPreProcess.add(function(a,b){var c=b.node.lastChild;c&&c.childNodes.length==1&&c.firstChild.nodeName=="BR"&&a.dom.remove(c)}),l()}}),b({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(a){var b,c,g;g=d.dom.getParent(d.selection.getNode(),"th,td"),g&&(b=g.rowSpan,c=g.colSpan),d.dom.select("td.mceSelected,th.mceSelected").length?a.merge():f.open({url:e+"/merge_cells.htm",width:240+parseInt(d.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(d.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:b,cols:c,onaction:function(b){a.merge(g,b.cols,b.rows)},plugin_url:e})},mceTableInsertRowBefore:function(a){a.insertRow(!0)},mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){g=a.cutRows()},mceTableCopyRow:function(a){g=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(g,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(g)},mceTableDelete:function(a){a.deleteTable()}},function(a,b){d.addCommand(b,function(){var b=h();b&&(a(b),d.execCommand("mceRepaint"),i())})}),b({mceInsertTable:function(a){f.open({url:e+"/table.htm",width:400+parseInt(d.getLang("table.table_delta_width",0)),height:320+parseInt(d.getLang("table.table_delta_height",0)),inline:1},{plugin_url:e,action:a?a.action:0})},mceTableRowProps:function(){f.open({url:e+"/row.htm",width:400+parseInt(d.getLang("table.rowprops_delta_width",0)),height:295+parseInt(d.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:e})},mceTableCellProps:function(){f.open({url:e+"/cell.htm",width:400+parseInt(d.getLang("table.cellprops_delta_width",0)),height:295+parseInt(d.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:e})}},function(a,b){d.addCommand(b,function(b,c){a(c)})})}}),a.PluginManager.add("table",a.plugins.TablePlugin)}(tinymce),function(a){function c(c,d,e){function k(a,b){return a=a.cloneNode(b),a.removeAttribute("id"),a}function l(){var a=0;f=[],b(["thead","tbody","tfoot"],function(e){var g=d.select(e+" tr",c);b(g,function(c,g){g+=a,b(d.select("td,th",c),function(a,b){var c,d,h,i;if(f[g])while(f[g][b])b++;h=n(a,"rowspan"),i=n(a,"colspan");for(d=g;d<g+h;d++){f[d]||(f[d]=[]);for(c=b;c<b+i;c++)f[d][c]={part:e,real:d==g&&c==b,elm:a,rowspan:h,colspan:i}}})}),a+=g.length})}function m(a,b){var c;c=f[b];if(c)return c[a]}function n(a,b){return parseInt(a.getAttribute(b)||1)}function o(a){return d.hasClass(a.elm,"mceSelected")||a==j}function p(){var a=[];return b(c.rows,function(c){b(c.cells,function(b){if(d.hasClass(b,"mceSelected")||b==j.elm)return a.push(c),!1})}),a}function q(){var a=d.createRng();a.setStartAfter(c),a.setEndAfter(c),e.setRng(a),d.remove(c)}function r(c){var e;return a.walk(c,function(f){var g;if(f.nodeType==3)return b(d.getParents(f.parentNode,null,c).reverse(),function(a){a=k(a,!1),e?g&&g.appendChild(a):e=g=a,g=a}),g&&(g.innerHTML=a.isIE?"&nbsp;":'<br _mce_bogus="1" />'),!1},"childNodes"),c=k(c,!1),c.rowSpan=c.colSpan=1,e?c.appendChild(e):a.isIE||(c.innerHTML='<br _mce_bogus="1" />'),c}function s(){var a=d.createRng();b(d.select("tr",c),function(a){a.cells.length==0&&d.remove(a)});if(d.select("tr",c).length==0){a.setStartAfter(c),a.setEndAfter(c),e.setRng(a),d.remove(c);return}b(d.select("thead,tbody,tfoot",c),function(a){a.rows.length==0&&d.remove(a)}),l(),row=f[Math.min(f.length-1,g.y)],row&&(e.select(row[Math.min(row.length-1,g.x)].elm,!0),e.collapse(!0))}function t(a,b,c,e){var g,h,i,j,k;g=f[b][a].elm.parentNode;for(i=1;i<=c;i++){g=d.getNext(g,"tr");if(g){for(h=a;h>=0;h--){k=f[b+i][h].elm;if(k.parentNode==g){for(j=1;j<=e;j++)d.insertAfter(r(k),k);break}}if(h==-1)for(j=1;j<=e;j++)g.insertBefore(r(g.cells[0]),g.cells[0])}}}function u(){b(f,function(a,c){b(a,function(a,b){var e,f,g,h;if(o(a)){a=a.elm,e=n(a,"colspan"),f=n(a,"rowspan");if(e>1||f>1){a.colSpan=a.rowSpan=1;for(h=0;h<e-1;h++)d.insertAfter(r(a),a);t(b,c,f-1,e)}}})})}function v(c,e,i){var j,k,n,o,p,q,r,t,c,v;c?(pos=F(c),j=pos.x,k=pos.y,n=j+(e-1),o=k+(i-1)):(j=g.x,k=g.y,n=h.x,o=h.y),r=m(j,k),t=m(n,o);if(r&&t&&r.part==t.part){u(),l(),r=m(j,k).elm,r.colSpan=n-j+1,r.rowSpan=o-k+1;for(q=k;q<=o;q++)for(p=j;p<=n;p++)c=f[q][p].elm,c!=r&&(v=a.grep(c.childNodes),b(v,function(a,b){(a.nodeName!="BR"||b!=v.length-1)&&r.appendChild(a)}),d.remove(c));s()}}function w(a){var c,e,g,h,i,j,l,m;b(f,function(d,e){b(d,function(b,d){if(o(b)){b=b.elm,i=b.parentNode,j=k(i,!1),c=e;if(a)return!1}});if(a)return!c});for(h=0;h<f[0].length;h++){e=f[c][h].elm;if(e!=g){if(!a){rowSpan=n(e,"rowspan");if(rowSpan>1){e.rowSpan=rowSpan+1;continue}}else if(c>0&&f[c-1][h]){m=f[c-1][h].elm,rowSpan=n(m,"rowspan");if(rowSpan>1){m.rowSpan=rowSpan+1;continue}}l=r(e),l.colSpan=e.colSpan,j.appendChild(l),g=e}}j.hasChildNodes()&&(a?i.parentNode.insertBefore(j,i):d.insertAfter(j,i))}function z(a){var c,e;b(f,function(d,e){b(d,function(b,d){if(o(b)){c=d;if(a)return!1}});if(a)return!c}),b(f,function(b,f){var g=b[c].elm,h,i;g!=e&&(i=n(g,"colspan"),h=n(g,"rowspan"),i==1?a?(g.parentNode.insertBefore(r(g),g),t(c,f,h-1,i)):(d.insertAfter(r(g),g),t(c,f,h-1,i)):g.colSpan++,e=g)})}function A(){var c=[];b(f,function(e,g){b(e,function(e,g){o(e)&&a.inArray(c,g)===-1&&(b(f,function(a){var b=a[g].elm,c;c=n(b,"colspan"),c>1?b.colSpan=c-1:d.remove(b)}),c.push(g))})}),s()}function B(){function c(a){var c,e,g;c=d.getNext(a,"tr"),b(a.cells,function(a){var b=n(a,"rowspan");b>1&&(a.rowSpan=b-1,e=F(a),t(e.x,e.y,1,1))}),e=F(a.cells[0]),b(f[e.y],function(a){var b;a=a.elm,a!=g&&(b=n(a,"rowspan"),b<=1?d.remove(a):a.rowSpan=b-1,g=a)})}var a;a=p(),b(a.reverse(),function(a){c(a)}),s()}function C(){var a=p();return d.remove(a),s(),a}function D(){var a=p();return b(a,function(b,c){a[c]=k(b,!0)}),a}function E(a,c){var e=p(),g=e[c?0:e.length-1],h=g.cells.length;b(f,function(a){var c;h=0,b(a,function(a,b){a.real&&(h+=a.colspan),a.elm.parentNode==g&&(c=1)});if(c)return!1}),c||a.reverse(),b(a,function(a){var b=a.cells.length,e;for(i=0;i<b;i++)e=a.cells[i],e.colSpan=e.rowSpan=1;for(i=b;i<h;i++)a.appendChild(r(a.cells[b-1]));for(i=h;i<b;i++)d.remove(a.cells[i]);c?g.parentNode.insertBefore(a,g):d.insertAfter(a,g)})}function F(a){var c;return b(f,function(d,e){return b(d,function(b,d){if(b.elm==a)return c={x:d,y:e},!1}),!c}),c}function G(a){g=F(a)}function H(){var a,c,d;return c=d=0,b(f,function(a,e){b(a,function(a,b){var g,h;o(a)&&(a=f[e][b],b>c&&(c=b),e>d&&(d=e),a.real&&(g=a.colspan-1,h=a.rowspan-1,g&&b+g>c&&(c=b+g),h&&e+h>d&&(d=e+h)))})}),{x:c,y:d}}function I(a){var b,c,e,i,j,k,l,m;h=F(a);if(g&&h){b=Math.min(g.x,h.x),c=Math.min(g.y,h.y),e=Math.max(g.x,h.x),i=Math.max(g.y,h.y),j=e,k=i;for(y=c;y<=k;y++)a=f[y][b],a.real||b-(a.colspan-1)<b&&(b-=a.colspan-1);for(x=b;x<=j;x++)a=f[c][x],a.real||c-(a.rowspan-1)<c&&(c-=a.rowspan-1);for(y=c;y<=i;y++)for(x=b;x<=e;x++)a=f[y][x],a.real&&(l=a.colspan-1,m=a.rowspan-1,l&&x+l>j&&(j=x+l),m&&y+m>k&&(k=y+m));d.removeClass(d.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=c;y<=k;y++)for(x=b;x<=j;x++)d.addClass(f[y][x].elm,"mceSelected")}}var f,g,h,j;l(),j=d.getParent(e.getStart(),"th,td"),j&&(g=F(j),h=H(),j=m(g.x,g.y)),a.extend(this,{deleteTable:q,split:u,merge:v,insertRow:w,insertCol:z,deleteCols:A,deleteRows:B,cutRows:C,copyRows:D,pasteRows:E,getPos:F,setStartCell:G,setEndCell:I})}var b=a.each;a.create("tinymce.plugins.TablePlugin",{init:function(d,e){function h(a){var b=d.selection,e=d.dom.getParent(a||b.getNode(),"table");if(e)return new c(e,d.dom,b)}function i(){d.getBody().style.webkitUserSelect="",d.dom.removeClass(d.dom.select("td.mceSelected,th.mceSelected"),"mceSelected")}var f,g;b([["table","table.desc","mceInsertTable",!0],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",!0],["cell_props","table.cell_desc","mceTableCellProps",!0],["split_cells","table.split_cells_desc","mceTableSplitCells",!0],["merge_cells","table.merge_cells_desc","mceTableMergeCells",!0]],function(a){d.addButton(a[0],{title:a[1],cmd:a[2],ui:a[3]})}),a.isIE||d.onClick.add(function(a,b){b=b.target,b.nodeName==="TABLE"&&a.selection.select(b)}),d.onNodeChange.add(function(a,b,c){var d;c=a.selection.getStart(),d=a.dom.getParent(c,"td,th,caption"),b.setActive("table",c.nodeName==="TABLE"||!!d),d&&d.nodeName==="CAPTION"&&(d=0),b.setDisabled("delete_table",!d),b.setDisabled("delete_col",!d),b.setDisabled("delete_table",!d),b.setDisabled("delete_row",!d),b.setDisabled("col_after",!d),b.setDisabled("col_before",!d),b.setDisabled("row_after",!d),b.setDisabled("row_before",!d),b.setDisabled("row_props",!d),b.setDisabled("cell_props",!d),b.setDisabled("split_cells",!d),b.setDisabled("merge_cells",!d)}),d.onInit.add(function(b){var c,d,e=b.dom,j;f=b.windowManager,b.onMouseDown.add(function(a,b){b.button!=2&&(i(),d=e.getParent(b.target,"td,th"),c=e.getParent(d,"table"))}),e.bind(b.getDoc(),"mouseover",function(a){var f,g,i=a.target;d&&(j||i!=d)&&(i.nodeName=="TD"||i.nodeName=="TH")&&(g=e.getParent(i,"table"),g==c&&(j||(j=h(g),j.setStartCell(d),b.getBody().style.webkitUserSelect="none"),j.setEndCell(i)),f=b.selection.getSel(),f.removeAllRanges?f.removeAllRanges():f.empty(),a.preventDefault())}),b.onMouseUp.add(function(b,f){var g,h=b.selection,i,k=h.getSel(),l,m,n,o;if(d){j&&(b.getBody().style.webkitUserSelect="");function p(b,c){var d=new a.dom.TreeWalker(b,b);do{if(b.nodeType==3&&a.trim(b.nodeValue).length!=0){c?g.setStart(b,0):g.setEnd(b,b.nodeValue.length);return}if(b.nodeName=="BR"){c?g.setStartBefore(b):g.setEndBefore(b);return}}while(b=c?d.next():d.prev())}i=e.select("td.mceSelected,th.mceSelected");if(i.length>0){g=e.createRng(),m=i[0],o=i[i.length-1],p(m,1),l=new a.dom.TreeWalker(m,e.getParent(i[0],"table"));do if(m.nodeName=="TD"||m.nodeName=="TH"){if(!e.hasClass(m,"mceSelected"))break;n=m}while(m=l.next());p(n),h.setRng(g)}b.nodeChanged(),d=j=c=null}}),b.onKeyUp.add(function(a,b){i()}),b&&b.plugins.contextmenu&&b.plugins.contextmenu.onContextMenu.add(function(a,c,d){var e,f=b.selection,h=f.getNode()||b.getBody();b.dom.getParent(d,"td")||b.dom.getParent(d,"th")||b.dom.select("td.mceSelected,th.mceSelected").length?(c.removeAll(),h.nodeName=="A"&&!b.dom.getAttrib(h,"name")&&(c.add({title:"advanced.link_desc",icon:"link",cmd:b.plugins.advlink?"mceAdvLink":"mceLink",ui:!0}),c.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"}),c.addSeparator()),h.nodeName=="IMG"&&h.className.indexOf("mceItem")==-1&&(c.add({title:"advanced.image_desc",icon:"image",cmd:b.plugins.advimage?"mceAdvImage":"mceImage",ui:!0}),c.addSeparator()),c.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}}),c.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"}),c.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"}),c.addSeparator(),e=c.addMenu({title:"table.cell"}),e.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"}),e.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"}),e.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"}),e=c.addMenu({title:"table.row"}),e.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"}),e.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"}),e.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"}),e.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"}),e.addSeparator(),e.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"}),e.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"}),e.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!g),e.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!g),e=c.addMenu({title:"table.col"}),e.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"}),e.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"}),e.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})):c.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})});if(!a.isIE){function k(){var a;for(a=b.getBody().lastChild;a&&a.nodeType==3&&!a.nodeValue.length;a=a.previousSibling);a&&a.nodeName=="TABLE"&&b.dom.add(b.getBody(),"p",null,'<br mce_bogus="1" />')}a.isGecko&&b.onKeyDown.add(function(a,b){var c,d,e=a.dom;if(b.keyCode==37||b.keyCode==38)c=a.selection.getRng(),d=e.getParent(c.startContainer,"table"),d&&a.getBody().firstChild==d&&isAtStart(c,d)&&(c=e.createRng(),c.setStartBefore(d),c.setEndBefore(d),a.selection.setRng(c),b.preventDefault())}),b.onKeyUp.add(k),b.onSetContent.add(k),b.onVisualAid.add(k),b.onPreProcess.add(function(a,b){var c=b.node.lastChild;c&&c.childNodes.length==1&&c.firstChild.nodeName=="BR"&&a.dom.remove(c)}),k()}}),b({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(a){var b,c,g;g=d.dom.getParent(d.selection.getNode(),"th,td"),g&&(b=g.rowSpan,c=g.colSpan),d.dom.select("td.mceSelected,th.mceSelected").length?a.merge():f.open({url:e+"/merge_cells.htm",width:240+parseInt(d.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(d.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:b,cols:c,onaction:function(b){a.merge(g,b.cols,b.rows)},plugin_url:e})},mceTableInsertRowBefore:function(a){a.insertRow(!0)},mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){g=a.cutRows()},mceTableCopyRow:function(a){g=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(g,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(g)},mceTableDelete:function(a){a.deleteTable()}},function(a,b){d.addCommand(b,function(){var b=h();b&&(a(b),d.execCommand("mceRepaint"),i())})}),b({mceInsertTable:function(a){f.open({url:e+"/table.htm",width:400+parseInt(d.getLang("table.table_delta_width",0)),height:320+parseInt(d.getLang("table.table_delta_height",0)),inline:1},{plugin_url:e,action:a?a.action:0})},mceTableRowProps:function(){f.open({url:e+"/row.htm",width:400+parseInt(d.getLang("table.rowprops_delta_width",0)),height:295+parseInt(d.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:e})},mceTableCellProps:function(){f.open({url:e+"/cell.htm",width:400+parseInt(d.getLang("table.cellprops_delta_width",0)),height:295+parseInt(d.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:e})}},function(a,b){d.addCommand(b,function(b,c){a(c)})})}}),a.PluginManager.add("table",a.plugins.TablePlugin)}(tinymce),tinyMCEPopup.requireLangPack();var ed;tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack();var MergeCellsDialog={init:function(){var a=document.forms[0];a.numcols.value=tinyMCEPopup.getWindowArg("cols",1),a.numrows.value=tinyMCEPopup.getWindowArg("rows",1)},merge:function(){var a,b=document.forms[0];tinyMCEPopup.restoreSelection(),a=tinyMCEPopup.getWindowArg("onaction"),a({cols:b.numcols.value,rows:b.numrows.value}),tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(MergeCellsDialog.init,MergeCellsDialog),tinyMCEPopup.requireLangPack(),tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack();var action,orgTableWidth,orgTableHeight,dom=tinyMCEPopup.editor.dom;tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.table_dlg",{general_tab:"General",advanced_tab:"Advanced",general_props:"General properties",advanced_props:"Advanced properties",rowtype:"Row in table part",title:"Insert/Modify table",width:"Width",height:"Height",cols:"Cols",rows:"Rows",cellspacing:"Cellspacing",cellpadding:"Cellpadding",border:"Border",align:"Alignment",align_default:"Default",align_left:"Left",align_right:"Right",align_middle:"Center",row_title:"Table row properties",cell_title:"Table cell properties",cell_type:"Cell type",valign:"Vertical alignment",align_top:"Top",align_bottom:"Bottom",bordercolor:"Border color",bgcolor:"Background color",merge_cells_title:"Merge table cells",id:"Id",style:"Style",langdir:"Language direction",langcode:"Language code",mime:"Target MIME type",ltr:"Left to right",rtl:"Right to left",bgimage:"Background image",summary:"Summary",td:"Data",th:"Header",cell_cell:"Update current cell",cell_row:"Update all cells in row",cell_all:"Update all cells in table",row_row:"Update current row",row_odd:"Update odd rows in table",row_even:"Update even rows in table",row_all:"Update all rows in table",thead:"Table Head",tbody:"Table Body",tfoot:"Table Foot",scope:"Scope",rowgroup:"Row Group",colgroup:"Col Group",col_limit:"You've exceeded the maximum number of columns of {$cols}.",row_limit:"You've exceeded the maximum number of rows of {$rows}.",cell_limit:"You've exceeded the maximum number of cells of {$cells}.",missing_scope:"Are you sure you want to continue without specifying a scope for this table header cell. Without it, it may be difficult for some users with disabilities to understand the content or data displayed of the table.",caption:"Table caption",frame:"Frame",frame_none:"none",frame_groups:"groups",frame_rows:"rows",frame_cols:"cols",frame_all:"all",rules:"Rules",rules_void:"void",rules_above:"above",rules_below:"below",rules_hsides:"hsides",rules_lhs:"lhs",rules_rhs:"rhs",rules_vsides:"vsides",rules_box:"box",rules_border:"border"}),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.TemplatePlugin",{init:function(b,c){var d=this;d.editor=b,b.addCommand("mceTemplate",function(a){b.windowManager.open({file:c+"/template.htm",width:b.getParam("template_popup_width",750),height:b.getParam("template_popup_height",600),inline:1},{plugin_url:c})}),b.addCommand("mceInsertTemplate",d._insertTemplate,d),b.addButton("template",{title:"template.desc",cmd:"mceTemplate"}),b.onPreProcess.add(function(b,c){var e=b.dom;a(e.select("div",c.node),function(c){e.hasClass(c,"mceTmpl")&&(a(e.select("*",c),function(a){e.hasClass(a,b.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,b.getParam("template_mdate_format",b.getLang("template.mdate_format"))))}),d._replaceVals(c))})})},getInfo:function(){return{longname:"Template plugin",author:"Moxiecode Systems AB",authorurl:"http://www.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_insertTemplate:function(b,c){function j(a,b){return(new RegExp("\\b"+b+"\\b","g")).test(a.className)}var d=this,e=d.editor,f,g,h=e.dom,i=e.selection.getContent();f=c.content,a(d.editor.getParam("template_replace_values"),function(a,b){typeof a!="function"&&(f=f.replace(new RegExp("\\{\\$"+b+"\\}","g"),a))}),g=h.create("div",null,f),n=h.select(".mceTmpl",g),n&&n.length>0&&(g=h.create("div",null),g.appendChild(n[0].cloneNode(!0))),a(h.select("*",g),function(a){j(a,e.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,e.getParam("template_cdate_format",e.getLang("template.cdate_format")))),j(a,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,e.getParam("template_mdate_format",e.getLang("template.mdate_format")))),j(a,e.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(a.innerHTML=i)}),d._replaceVals(g),e.execCommand("mceInsertContent",!1,g.innerHTML),e.addVisual()},_replaceVals:function(b){var c=this.editor.dom,d=this.editor.getParam("template_replace_values");a(c.select("*",b),function(b){a(d,function(a,e){c.hasClass(b,e)&&typeof d[e]=="function"&&d[e](b)})})},_getDateTime:function(a,b){function c(a,b){var c;a=""+a;if(a.length<b)for(c=0;c<b-a.length;c++)a="0"+a;return a}return b?(b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",c(a.getMonth()+1,2)),b=b.replace("%d",c(a.getDate(),2)),b=b.replace("%H",""+c(a.getHours(),2)),b=b.replace("%M",""+c(a.getMinutes(),2)),b=b.replace("%S",""+c(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%B",""+this.editor.getLang("template_months_long").split(",")[a.getMonth()]),b=b.replace("%b",""+this.editor.getLang("template_months_short").split(",")[a.getMonth()]),b=b.replace("%A",""+this.editor.getLang("template_day_long").split(",")[a.getDay()]),b=b.replace("%a",""+this.editor.getLang("template_day_short").split(",")[a.getDay()]),b=b.replace("%%","%"),b):""}}),tinymce.PluginManager.add("template",tinymce.plugins.TemplatePlugin)}(),function(){var a=tinymce.each;tinymce.create("tinymce.plugins.TemplatePlugin",{init:function(b,c){var d=this;d.editor=b,b.addCommand("mceTemplate",function(a){b.windowManager.open({file:c+"/template.htm",width:b.getParam("template_popup_width",750),height:b.getParam("template_popup_height",600),inline:1},{plugin_url:c})}),b.addCommand("mceInsertTemplate",d._insertTemplate,d),b.addButton("template",{title:"template.desc",cmd:"mceTemplate"}),b.onPreProcess.add(function(b,c){var e=b.dom;a(e.select("div",c.node),function(c){e.hasClass(c,"mceTmpl")&&(a(e.select("*",c),function(a){e.hasClass(a,b.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,b.getParam("template_mdate_format",b.getLang("template.mdate_format"))))}),d._replaceVals(c))})})},getInfo:function(){return{longname:"Template plugin",author:"Moxiecode Systems AB",authorurl:"http://www.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_insertTemplate:function(b,c){function j(a,b){return(new RegExp("\\b"+b+"\\b","g")).test(a.className)}var d=this,e=d.editor,f,g,h=e.dom,i=e.selection.getContent();f=c.content,a(d.editor.getParam("template_replace_values"),function(a,b){typeof a!="function"&&(f=f.replace(new RegExp("\\{\\$"+b+"\\}","g"),a))}),g=h.create("div",null,f),n=h.select(".mceTmpl",g),n&&n.length>0&&(g=h.create("div",null),g.appendChild(n[0].cloneNode(!0))),a(h.select("*",g),function(a){j(a,e.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,e.getParam("template_cdate_format",e.getLang("template.cdate_format")))),j(a,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(a.innerHTML=d._getDateTime(new Date,e.getParam("template_mdate_format",e.getLang("template.mdate_format")))),j(a,e.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(a.innerHTML=i)}),d._replaceVals(g),e.execCommand("mceInsertContent",!1,g.innerHTML),e.addVisual()},_replaceVals:function(b){var c=this.editor.dom,d=this.editor.getParam("template_replace_values");a(c.select("*",b),function(b){a(d,function(a,f){c.hasClass(b,f)&&typeof d[f]=="function"&&d[f](b)})})},_getDateTime:function(a,b){function c(a,b){var c;a=""+a;if(a.length<b)for(c=0;c<b-a.length;c++)a="0"+a;return a}return b?(b=b.replace("%D","%m/%d/%y"),b=b.replace("%r","%I:%M:%S %p"),b=b.replace("%Y",""+a.getFullYear()),b=b.replace("%y",""+a.getYear()),b=b.replace("%m",c(a.getMonth()+1,2)),b=b.replace("%d",c(a.getDate(),2)),b=b.replace("%H",""+c(a.getHours(),2)),b=b.replace("%M",""+c(a.getMinutes(),2)),b=b.replace("%S",""+c(a.getSeconds(),2)),b=b.replace("%I",""+((a.getHours()+11)%12+1)),b=b.replace("%p",""+(a.getHours()<12?"AM":"PM")),b=b.replace("%B",""+this.editor.getLang("template_months_long").split(",")[a.getMonth()]),b=b.replace("%b",""+this.editor.getLang("template_months_short").split(",")[a.getMonth()]),b=b.replace("%A",""+this.editor.getLang("template_day_long").split(",")[a.getDay()]),b=b.replace("%a",""+this.editor.getLang("template_day_short").split(",")[a.getDay()]),b=b.replace("%%","%"),b):""}}),tinymce.PluginManager.add("template",tinymce.plugins.TemplatePlugin)}(),tinyMCEPopup.requireLangPack();var TemplateDialog={preInit:function(){var a=tinyMCEPopup.getParam("template_external_list_url");a!=null&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(a)+'"></sc'+"ript>")},init:function(){
var a=tinyMCEPopup.editor,b,c,d,e;b=a.getParam("template_templates",!1),c=document.getElementById("tpath");if(!b&&typeof tinyMCETemplateList!="undefined")for(d=0,b=[];d<tinyMCETemplateList.length;d++)b.push({title:tinyMCETemplateList[d][0],src:tinyMCETemplateList[d][1],description:tinyMCETemplateList[d][2]});for(d=0;d<b.length;d++)c.options[c.options.length]=new Option(b[d].title,tinyMCEPopup.editor.documentBaseURI.toAbsolute(b[d].src));this.resize(),this.tsrc=b},resize:function(){var a,b,c;self.innerWidth?(a=self.innerWidth-50,b=self.innerHeight-170):(a=document.body.clientWidth-50,b=document.body.clientHeight-160),c=document.getElementById("templatesrc"),c&&(c.style.height=Math.abs(b)+"px",c.style.width=Math.abs(a-5)+"px")},loadCSSFiles:function(a){var b=tinyMCEPopup.editor;tinymce.each(b.getParam("content_css","").split(","),function(c){a.write('<link href="'+b.documentBaseURI.toAbsolute(c)+'" rel="stylesheet" type="text/css" />')})},selectTemplate:function(a,b){var c=window.frames.templatesrc.document,d,e=this.tsrc;if(!a)return;c.body.innerHTML=this.templateHTML=this.getFileContents(a);for(d=0;d<e.length;d++)e[d].title==b&&(document.getElementById("tmpldesc").innerHTML=e[d].description||"")},insert:function(){tinyMCEPopup.execCommand("mceInsertTemplate",!1,{content:this.templateHTML,selection:tinyMCEPopup.editor.selection.getContent()}),tinyMCEPopup.close()},getFileContents:function(a){function e(a){b=0;try{b=new ActiveXObject(a)}catch(a){}return b}var b,c,d="text/plain";return b=window.ActiveXObject?e("Msxml2.XMLHTTP")||e("Microsoft.XMLHTTP"):new XMLHttpRequest,b.overrideMimeType&&b.overrideMimeType(d),b.open("GET",a,!1),b.send(null),b.responseText}};TemplateDialog.preInit(),tinyMCEPopup.onInit.add(TemplateDialog.init,TemplateDialog),tinyMCE.addI18n("en.template_dlg",{title:"Templates",label:"Template",desc_label:"Description",desc:"Insert predefined template content",select:"Select a template",preview:"Preview",warning:"Warning: Updating a template with a different one may cause data loss.",mdate_format:"%Y-%m-%d %H:%M:%S",cdate_format:"%Y-%m-%d %H:%M:%S",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun"}),function(){tinymce.create("tinymce.plugins.VisualChars",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceVisualChars",c._toggleVisualChars,c),a.addButton("visualchars",{title:"visualchars.desc",cmd:"mceVisualChars"}),a.onBeforeGetContent.add(function(a,b){c.state&&b.format!="raw"&&!b.draft&&(c.state=!0,c._toggleVisualChars(!1))})},getInfo:function(){return{longname:"Visual characters",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/visualchars",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_toggleVisualChars:function(a){var b=this,c=b.editor,d,e,f,g=c.getDoc(),h=c.getBody(),i,j=c.selection,k,l,m;b.state=!b.state,c.controlManager.setActive("visualchars",b.state),a&&(m=j.getBookmark());if(b.state){d=[],tinymce.walk(h,function(a){a.nodeType==3&&a.nodeValue&&a.nodeValue.indexOf("Â ")!=-1&&d.push(a)},"childNodes");for(e=0;e<d.length;e++){i=d[e].nodeValue,i=i.replace(/(\u00a0)/g,'<span _mce_bogus="1" class="mceItemHidden mceItemNbsp">$1</span>'),l=c.dom.create("div",null,i);while(node=l.lastChild)c.dom.insertAfter(node,d[e]);c.dom.remove(d[e])}}else{d=c.dom.select("span.mceItemNbsp",h);for(e=d.length-1;e>=0;e--)c.dom.remove(d[e],1)}j.moveToBookmark(m)}}),tinymce.PluginManager.add("visualchars",tinymce.plugins.VisualChars)}(),function(){tinymce.create("tinymce.plugins.VisualChars",{init:function(a,b){var c=this;c.editor=a,a.addCommand("mceVisualChars",c._toggleVisualChars,c),a.addButton("visualchars",{title:"visualchars.desc",cmd:"mceVisualChars"}),a.onBeforeGetContent.add(function(a,b){c.state&&b.format!="raw"&&!b.draft&&(c.state=!0,c._toggleVisualChars(!1))})},getInfo:function(){return{longname:"Visual characters",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/visualchars",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_toggleVisualChars:function(a){var b=this,c=b.editor,d,e,f,g=c.getDoc(),h=c.getBody(),i,j=c.selection,k,l,m;b.state=!b.state,c.controlManager.setActive("visualchars",b.state),a&&(m=j.getBookmark());if(b.state){d=[],tinymce.walk(h,function(a){a.nodeType==3&&a.nodeValue&&a.nodeValue.indexOf("Â ")!=-1&&d.push(a)},"childNodes");for(e=0;e<d.length;e++){i=d[e].nodeValue,i=i.replace(/(\u00a0)/g,'<span _mce_bogus="1" class="mceItemHidden mceItemNbsp">$1</span>'),l=c.dom.create("div",null,i);while(node=l.lastChild)c.dom.insertAfter(node,d[e]);c.dom.remove(d[e])}}else{d=c.dom.select("span.mceItemNbsp",h);for(e=d.length-1;e>=0;e--)c.dom.remove(d[e],1)}j.moveToBookmark(m)}}),tinymce.PluginManager.add("visualchars",tinymce.plugins.VisualChars)}(),function(){tinymce.create("tinymce.plugins.WordCount",{block:0,id:null,countre:null,cleanre:null,init:function(a,b){var c=this,d=0;c.countre=a.getParam("wordcount_countregex",/\S\s+/g),c.cleanre=a.getParam("wordcount_cleanregex",/[0-9.(),;:!?%#$Â¿'"_+=\\\/-]*/g),c.id=a.id+"-word-count",a.onPostRender.add(function(a,b){var d,e;e=a.getParam("wordcount_target_id"),e?tinymce.DOM.add(e,"span",{},'<span id="'+c.id+'">0</span>'):(d=tinymce.DOM.get(a.id+"_path_row"),d&&tinymce.DOM.add(d.parentNode,"div",{style:"float: right"},a.getLang("wordcount.words","Words: ")+'<span id="'+c.id+'">0</span>'))}),a.onInit.add(function(a){a.selection.onSetContent.add(function(){c._count(a)}),c._count(a)}),a.onSetContent.add(function(a){c._count(a)}),a.onKeyUp.add(function(a,b){if(b.keyCode==d)return;(13==b.keyCode||8==d||46==d)&&c._count(a),d=b.keyCode})},_count:function(a){var b=this,c=0;if(b.block)return;b.block=1,setTimeout(function(){var d=a.getContent({format:"raw"});d&&(d=d.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," "),d=d.replace(b.cleanre,""),d.replace(b.countre,function(){c++})),tinymce.DOM.setHTML(b.id,c.toString()),setTimeout(function(){b.block=0},2e3)},1)},getInfo:function(){return{longname:"Word Count plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/wordcount",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("wordcount",tinymce.plugins.WordCount)}(),function(){tinymce.create("tinymce.plugins.WordCount",{block:0,id:null,countre:null,cleanre:null,init:function(a,b){var c=this,d=0;c.countre=a.getParam("wordcount_countregex",/\S\s+/g),c.cleanre=a.getParam("wordcount_cleanregex",/[0-9.(),;:!?%#$Â¿'"_+=\\\/-]*/g),c.id=a.id+"-word-count",a.onPostRender.add(function(a,b){var d,e;e=a.getParam("wordcount_target_id"),e?tinymce.DOM.add(e,"span",{},'<span id="'+c.id+'">0</span>'):(d=tinymce.DOM.get(a.id+"_path_row"),d&&tinymce.DOM.add(d.parentNode,"div",{style:"float: right"},a.getLang("wordcount.words","Words: ")+'<span id="'+c.id+'">0</span>'))}),a.onInit.add(function(a){a.selection.onSetContent.add(function(){c._count(a)}),c._count(a)}),a.onSetContent.add(function(a){c._count(a)}),a.onKeyUp.add(function(a,b){if(b.keyCode==d)return;(13==b.keyCode||8==d||46==d)&&c._count(a),d=b.keyCode})},_count:function(a){var b=this,c=0;if(b.block)return;b.block=1,setTimeout(function(){var d=a.getContent({format:"raw"});d&&(d=d.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," "),d=d.replace(b.cleanre,""),d.replace(b.countre,function(){c++})),tinymce.DOM.setHTML(b.id,c.toString()),setTimeout(function(){b.block=0},2e3)},1)},getInfo:function(){return{longname:"Word Count plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/wordcount",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("wordcount",tinymce.plugins.WordCount)}(),function(){tinymce.create("tinymce.plugins.XHTMLXtrasPlugin",{init:function(a,b){a.addCommand("mceCite",function(){a.windowManager.open({file:b+"/cite.htm",width:350+parseInt(a.getLang("xhtmlxtras.cite_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.cite_delta_height",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAcronym",function(){a.windowManager.open({file:b+"/acronym.htm",width:350+parseInt(a.getLang("xhtmlxtras.acronym_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.acronym_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAbbr",function(){a.windowManager.open({file:b+"/abbr.htm",width:350+parseInt(a.getLang("xhtmlxtras.abbr_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.abbr_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceDel",function(){a.windowManager.open({file:b+"/del.htm",width:340+parseInt(a.getLang("xhtmlxtras.del_delta_width",0)),height:310+parseInt(a.getLang("xhtmlxtras.del_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceIns",function(){a.windowManager.open({file:b+"/ins.htm",width:340+parseInt(a.getLang("xhtmlxtras.ins_delta_width",0)),height:310+parseInt(a.getLang("xhtmlxtras.ins_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAttributes",function(){a.windowManager.open({file:b+"/attributes.htm",width:380,height:370,inline:1},{plugin_url:b})}),a.addButton("cite",{title:"xhtmlxtras.cite_desc",cmd:"mceCite"}),a.addButton("acronym",{title:"xhtmlxtras.acronym_desc",cmd:"mceAcronym"}),a.addButton("abbr",{title:"xhtmlxtras.abbr_desc",cmd:"mceAbbr"}),a.addButton("del",{title:"xhtmlxtras.del_desc",cmd:"mceDel"}),a.addButton("ins",{title:"xhtmlxtras.ins_desc",cmd:"mceIns"}),a.addButton("attribs",{title:"xhtmlxtras.attribs_desc",cmd:"mceAttributes"}),a.onNodeChange.add(function(a,b,c,d){c=a.dom.getParent(c,"CITE,ACRONYM,ABBR,DEL,INS"),b.setDisabled("cite",d),b.setDisabled("acronym",d),b.setDisabled("abbr",d),b.setDisabled("del",d),b.setDisabled("ins",d),b.setDisabled("attribs",c&&c.nodeName=="BODY"),b.setActive("cite",0),b.setActive("acronym",0),b.setActive("abbr",0),b.setActive("del",0),b.setActive("ins",0);if(c)do b.setDisabled(c.nodeName.toLowerCase(),0),b.setActive(c.nodeName.toLowerCase(),1);while(c=c.parentNode)}),a.onPreInit.add(function(){a.dom.create("abbr")})},getInfo:function(){return{longname:"XHTML Xtras Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("xhtmlxtras",tinymce.plugins.XHTMLXtrasPlugin)}(),function(){tinymce.create("tinymce.plugins.XHTMLXtrasPlugin",{init:function(a,b){a.addCommand("mceCite",function(){a.windowManager.open({file:b+"/cite.htm",width:350+parseInt(a.getLang("xhtmlxtras.cite_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.cite_delta_height",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAcronym",function(){a.windowManager.open({file:b+"/acronym.htm",width:350+parseInt(a.getLang("xhtmlxtras.acronym_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.acronym_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAbbr",function(){a.windowManager.open({file:b+"/abbr.htm",width:350+parseInt(a.getLang("xhtmlxtras.abbr_delta_width",0)),height:250+parseInt(a.getLang("xhtmlxtras.abbr_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceDel",function(){a.windowManager.open({file:b+"/del.htm",width:340+parseInt(a.getLang("xhtmlxtras.del_delta_width",0)),height:310+parseInt(a.getLang("xhtmlxtras.del_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceIns",function(){a.windowManager.open({file:b+"/ins.htm",width:340+parseInt(a.getLang("xhtmlxtras.ins_delta_width",0)),height:310+parseInt(a.getLang("xhtmlxtras.ins_delta_width",0)),inline:1},{plugin_url:b})}),a.addCommand("mceAttributes",function(){a.windowManager.open({file:b+"/attributes.htm",width:380,height:370,inline:1},{plugin_url:b})}),a.addButton("cite",{title:"xhtmlxtras.cite_desc",cmd:"mceCite"}),a.addButton("acronym",{title:"xhtmlxtras.acronym_desc",cmd:"mceAcronym"}),a.addButton("abbr",{title:"xhtmlxtras.abbr_desc",cmd:"mceAbbr"}),a.addButton("del",{title:"xhtmlxtras.del_desc",cmd:"mceDel"}),a.addButton("ins",{title:"xhtmlxtras.ins_desc",cmd:"mceIns"}),a.addButton("attribs",{title:"xhtmlxtras.attribs_desc",cmd:"mceAttributes"}),a.onNodeChange.add(function(a,b,c,d){c=a.dom.getParent(c,"CITE,ACRONYM,ABBR,DEL,INS"),b.setDisabled("cite",d),b.setDisabled("acronym",d),b.setDisabled("abbr",d),b.setDisabled("del",d),b.setDisabled("ins",d),b.setDisabled("attribs",c&&c.nodeName=="BODY"),b.setActive("cite",0),b.setActive("acronym",0),b.setActive("abbr",0),b.setActive("del",0),b.setActive("ins",0);if(c)do b.setDisabled(c.nodeName.toLowerCase(),0),b.setActive(c.nodeName.toLowerCase(),1);while(c=c.parentNode)}),a.onPreInit.add(function(){a.dom.create("abbr")})},getInfo:function(){return{longname:"XHTML Xtras Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("xhtmlxtras",tinymce.plugins.XHTMLXtrasPlugin)}(),tinyMCEPopup.onInit.add(init),tinyMCEPopup.onInit.add(init),tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack(),tinyMCEPopup.onInit.add(init),tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack(),SXE={currentAction:"insert",inst:tinyMCEPopup.editor,updateElement:null},SXE.focusElement=SXE.inst.selection.getNode(),SXE.initElementDialog=function(a){addClassesToList("class","xhtmlxtras_styles"),TinyMCE_EditableSelects.init(),a=a.toLowerCase();var b=SXE.inst.dom.getParent(SXE.focusElement,a.toUpperCase());b!=null&&b.nodeName.toUpperCase()==a.toUpperCase()&&(SXE.currentAction="update"),SXE.currentAction=="update"&&(initCommonAttributes(b),SXE.updateElement=b),document.forms[0].insert.value=tinyMCEPopup.getLang(SXE.currentAction,"Insert",!0)},SXE.insertElement=function(a){var b=SXE.inst.dom.getParent(SXE.focusElement,a.toUpperCase()),c,d;tinyMCEPopup.execCommand("mceBeginUndoLevel");if(b==null){var e=SXE.inst.selection.getContent();if(e.length>0){d=a,insertInlineElement(a);var f=tinymce.grep(SXE.inst.dom.select(a));for(var g=0;g<f.length;g++){var b=f[g];SXE.inst.dom.getAttrib(b,"_mce_new")&&(b.id="",b.setAttribute("id",""),b.removeAttribute("id"),b.removeAttribute("_mce_new"),setAllCommonAttribs(b))}}}else setAllCommonAttribs(b);SXE.inst.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel")},SXE.removeElement=function(a){a=a.toLowerCase(),elm=SXE.inst.dom.getParent(SXE.focusElement,a.toUpperCase()),elm&&elm.nodeName.toUpperCase()==a.toUpperCase()&&(tinyMCEPopup.execCommand("mceBeginUndoLevel"),tinyMCE.execCommand("mceRemoveNode",!1,elm),SXE.inst.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel"))},SXE.showRemoveButton=function(){document.getElementById("remove").style.display=""},SXE.containsClass=function(a,b){return a.className.indexOf(b)>-1?!0:!1},SXE.removeClass=function(a,b){if(a.className==null||a.className==""||!SXE.containsClass(a,b))return!0;var c=a.className.split(" "),d="";for(var e=0,f=c.length;e<f;e++)c[e]!=b&&(d+=c[e]+" ");a.className=d.substring(0,d.length-1)},SXE.addClass=function(a,b){return SXE.containsClass(a,b)||(a.className?a.className+=" "+b:a.className=b),!0},tinyMCEPopup.onInit.add(init),tinyMCE.addI18n("en.xhtmlxtras_dlg",{attribute_label_title:"Title",attribute_label_id:"ID",attribute_label_class:"Class",attribute_label_style:"Style",attribute_label_cite:"Cite",attribute_label_datetime:"Date/Time",attribute_label_langdir:"Text Direction",attribute_option_ltr:"Left to right",attribute_option_rtl:"Right to left",attribute_label_langcode:"Language",attribute_label_tabindex:"TabIndex",attribute_label_accesskey:"AccessKey",attribute_events_tab:"Events",attribute_attrib_tab:"Attributes",general_tab:"General",attrib_tab:"Attributes",events_tab:"Events",fieldset_general_tab:"General Settings",fieldset_attrib_tab:"Element Attributes",fieldset_events_tab:"Element Events",title_ins_element:"Insertion Element",title_del_element:"Deletion Element",title_acronym_element:"Acronym Element",title_abbr_element:"Abbreviation Element",title_cite_element:"Citation Element",remove:"Remove",insert_date:"Insert current date/time",option_ltr:"Left to right",option_rtl:"Right to left",attribs_title:"Insert/Edit Attributes"}),function(a){var b=a.DOM,c=a.dom.Event,d=a.extend,e=a.each,f=a.util.Cookie,g,h=a.explode;a.ThemeManager.requireLangPack("advanced"),a.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(c,f){var g=this,h,i,j;g.editor=c,g.url=f,g.onResolveName=new a.util.Dispatcher(this),g.settings=h=d({theme_advanced_path:!0,theme_advanced_toolbar_location:"bottom",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",readonly:c.settings.readonly},c.settings),h.font_size_style_values||(h.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"),a.is(h.theme_advanced_font_sizes,"string")&&(h.font_size_style_values=a.explode(h.font_size_style_values),h.font_size_classes=a.explode(h.font_size_classes||""),j={},c.settings.theme_advanced_font_sizes=h.theme_advanced_font_sizes,e(c.getParam("theme_advanced_font_sizes","","hash"),function(a,b){var c;b==a&&a>=1&&a<=7&&(b=a+" ("+g.sizes[a-1]+"pt)",c=h.font_size_classes[a-1],a=h.font_size_style_values[a-1]||g.sizes[a-1]+"pt"),/^\s*\./.test(a)&&(c=a.replace(/\./g,"")),j[b]=c?{"class":c}:{fontSize:a}}),h.theme_advanced_font_sizes=j),(i=h.theme_advanced_path_location)&&i!="none"&&(h.theme_advanced_statusbar_location=h.theme_advanced_path_location),h.theme_advanced_statusbar_location=="none"&&(h.theme_advanced_statusbar_location=0),c.onInit.add(function(){c.settings.readonly||c.onNodeChange.add(g._nodeChanged,g),c.settings.content_css!==!1&&c.dom.loadCSS(c.baseURI.toAbsolute("themes/advanced/skins/"+c.settings.skin+"/content.css"))}),c.onSetProgressState.add(function(a,c,d){var e,f=a.id,h;c?g.progressTimer=setTimeout(function(){e=a.getContainer(),e=e.insertBefore(b.create("DIV",{style:"position:relative"}),e.firstChild),h=b.get(a.id+"_tbl"),b.add(e,"div",{id:f+"_blocker","class":"mceBlocker",style:{width:h.clientWidth+2,height:h.clientHeight+2}}),b.add(e,"div",{id:f+"_progress","class":"mceProgress",style:{left:h.clientWidth/2,top:h.clientHeight/2}})},d||0):(b.remove(f+"_blocker"),b.remove(f+"_progress"),clearTimeout(g.progressTimer))}),b.loadCSS(h.editor_css?c.documentBaseURI.toAbsolute(h.editor_css):f+"/skins/"+c.settings.skin+"/ui.css"),h.skin_variant&&b.loadCSS(f+"/skins/"+c.settings.skin+"/ui_"+h.skin_variant+".css")},createControl:function(a,b){var c,d;if(d=b.createControl(a))return d;switch(a){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if(c=this.controls[a])return b.createButton(a,{title:"advanced."+c[0],cmd:c[1],ui:c[2],value:c[3]})},execCommand:function(a,b,c){var d=this["_"+a];return d?(d.call(this,b,c),!0):!1},_importClasses:function(a){var b=this.editor,c=b.controlManager.get("styleselect");c.getLength()==0&&e(b.dom.getClasses(),function(a,d){var e="style_"+d;b.formatter.register(e,{inline:"span",attributes:{"class":a["class"]},selector:"*"}),c.add(a["class"],e)})},_createStyleSelect:function(a){var b=this,d=b.editor,f=d.controlManager,g;return g=f.createListBox("styleselect",{title:"advanced.style_select",onselect:function(a){var b,c=[];return e(g.items,function(a){c.push(a.value)}),d.focus(),d.undoManager.add(),b=d.formatter.matchAll(c),!a||b[0]==a?d.formatter.remove(b[0]):d.formatter.apply(a),d.undoManager.add(),d.nodeChanged(),!1}}),d.onInit.add(function(){var a=0,c=d.getParam("style_formats");c?e(c,function(b){var c,f=0;e(b,function(){f++}),f>1?(c=b.name=b.name||"style_"+a++,d.formatter.register(c,b),g.add(b.title,c)):g.add(b.title)}):e(d.getParam("theme_advanced_styles","","hash"),function(c,e){var f;c&&(f="style_"+a++,d.formatter.register(f,{inline:"span",classes:c,selector:"*"}),g.add(b.editor.translate(e),f))})}),g.getLength()==0&&g.onPostRender.add(function(a,d){g.NativeListBox?c.add(d.id,"focus",b._importClasses,b):(c.add(d.id+"_text","focus",b._importClasses,b),c.add(d.id+"_text","mousedown",b._importClasses,b),c.add(d.id+"_open","focus",b._importClasses,b),c.add(d.id+"_open","mousedown",b._importClasses,b))}),g},_createFontSelect:function(){var a,b=this,c=b.editor;return a=c.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(b){var d=a.items[a.selectedIndex];if(!b&&d){c.execCommand("FontName",!1,d.value);return}return c.execCommand("FontName",!1,b),a.select(function(a){return b==a}),!1}}),a&&e(c.getParam("theme_advanced_fonts",b.settings.theme_advanced_fonts,"hash"),function(b,d){a.add(c.translate(d),b,{style:b.indexOf("dings")==-1?"font-family:"+b:""})}),a},_createFontSizeSelect:function(){var a=this,b=a.editor,c,d=0,f=[];return c=b.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(a){var d=c.items[c.selectedIndex];if(!a&&d){d=d.value,d["class"]?(b.formatter.toggle("fontsize_class",{value:d["class"]}),b.undoManager.add(),b.nodeChanged()):b.execCommand("FontSize",!1,d.fontSize);return}return a["class"]?(b.focus(),b.undoManager.add(),b.formatter.toggle("fontsize_class",{value:a["class"]}),b.undoManager.add(),b.nodeChanged()):b.execCommand("FontSize",!1,a.fontSize),c.select(function(b){return a==b}),!1}}),c&&e(a.settings.theme_advanced_font_sizes,function(b,e){var f=b.fontSize;f>=1&&f<=7&&(f=a.sizes[parseInt(f)-1]+"pt"),c.add(e,b,{style:"font-size:"+f,"class":"mceFontSize"+d++ +(" "+(b["class"]||""))})}),c},_createBlockFormats:function(){var a,b={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},c=this;return a=c.editor.controlManager.createListBox("formatselect",{title:"advanced.block",cmd:"FormatBlock"}),a&&e(c.editor.getParam("theme_advanced_blockformats",c.settings.theme_advanced_blockformats,"hash"),function(d,e){a.add(c.editor.translate(e!=d?e:b[d]),d,{"class":"mce_formatPreview mce_"+d})}),a},_createForeColorMenu:function(){var a,b=this,c=b.settings,d={},e;c.theme_advanced_more_colors&&(d.more_colors_func=function(){b._mceColorPicker(0,{color:a.value,func:function(b){a.setColor(b)}})});if(e=c.theme_advanced_text_colors)d.colors=e;return c.theme_advanced_default_foreground_color&&(d.default_color=c.theme_advanced_default_foreground_color),d.title="advanced.forecolor_desc",d.cmd="ForeColor",d.scope=this,a=b.editor.controlManager.createColorSplitButton("forecolor",d),a},_createBackColorMenu:function(){var a,b=this,c=b.settings,d={},e;c.theme_advanced_more_colors&&(d.more_colors_func=function(){b._mceColorPicker(0,{color:a.value,func:function(b){a.setColor(b)}})});if(e=c.theme_advanced_background_colors)d.colors=e;return c.theme_advanced_default_background_color&&(d.default_color=c.theme_advanced_default_background_color),d.title="advanced.backcolor_desc",d.cmd="HiliteColor",d.scope=this,a=b.editor.controlManager.createColorSplitButton("backcolor",d),a},renderUI:function(a){var d,f,g,h=this,i=h.editor,j=h.settings,k,l,m;d=l=b.create("span",{id:i.id+"_parent","class":"mceEditor "+i.settings.skin+"Skin"+(j.skin_variant?" "+i.settings.skin+"Skin"+h._ufirst(j.skin_variant):"")}),b.boxModel||(d=b.add(d,"div",{"class":"mceOldBoxModel"})),d=k=b.add(d,"table",{id:i.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0}),d=g=b.add(d,"tbody");switch((j.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":f=h._rowLayout(j,g,a);break;case"customlayout":f=i.execCallback("theme_advanced_custom_layout",j,g,a,l);break;default:f=h._simpleLayout(j,g,a,l)}return d=a.targetNode,m=b.stdMode?k.getElementsByTagName("tr"):k.rows,b.addClass(m[0],"mceFirst"),b.addClass(m[m.length-1],"mceLast"),e(b.select("tr",g),function(a){b.addClass(a.firstChild,"mceFirst"),b.addClass(a.childNodes[a.childNodes.length-1],"mceLast")}),b.get(j.theme_advanced_toolbar_container)?b.get(j.theme_advanced_toolbar_container).appendChild(l):b.insertAfter(l,d),c.add(i.id+"_path_row","click",function(a){a=a.target;if(a.nodeName=="A")return h._sel(a.className.replace(/^.*mcePath_([0-9]+).*$/,"$1")),c.cancel(a)}),i.getParam("accessibility_focus")||c.add(b.add(l,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(i.id).focus()}),j.theme_advanced_toolbar_location=="external"&&(a.deltaHeight=0),h.deltaHeight=a.deltaHeight,a.targetNode=null,{iframeContainer:f,editorContainer:i.id+"_parent",sizeContainer:k,deltaHeight:a.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:a.majorVersion+"."+a.minorVersion}},resizeBy:function(a,c){var d=b.get(this.editor.id+"_tbl");this.resizeTo(d.clientWidth+a,d.clientHeight+c)},resizeTo:function(a,c){var d=this.editor,e=this.settings,f=b.get(d.id+"_tbl"),g=b.get(d.id+"_ifr");a=Math.max(e.theme_advanced_resizing_min_width||100,a),c=Math.max(e.theme_advanced_resizing_min_height||100,c),a=Math.min(e.theme_advanced_resizing_max_width||65535,a),c=Math.min(e.theme_advanced_resizing_max_height||65535,c),b.setStyle(f,"height",""),b.setStyle(g,"height",c),e.theme_advanced_resize_horizontal&&(b.setStyle(f,"width",""),b.setStyle(g,"width",a),a<f.clientWidth&&b.setStyle(g,"width",f.clientWidth))},destroy:function(){var a=this.editor.id;c.clear(a+"_resize"),c.clear(a+"_path_row"),c.clear(a+"_external_close")},_simpleLayout:function(a,d,e,f){var h=this,i=h.editor,j=a.theme_advanced_toolbar_location,k=a.theme_advanced_statusbar_location,l,m,n,o;return a.readonly?(l=b.add(d,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"}),m):(j=="top"&&h._addToolbars(d,e),j=="external"&&(l=o=b.create("div",{style:"position:relative"}),l=b.add(l,"div",{id:i.id+"_external","class":"mceExternalToolbar"}),b.add(l,"a",{id:i.id+"_external_close",href:"javascript:;","class":"mceExternalClose"}),l=b.add(l,"table",{id:i.id+"_tblext",cellSpacing:0,cellPadding:0}),n=b.add(l,"tbody"),f.firstChild.className=="mceOldBoxModel"?f.firstChild.appendChild(o):f.insertBefore(o,f.firstChild),h._addToolbars(n,e),i.onMouseUp.add(function(){var a=b.get(i.id+"_external");b.show(a),b.hide(g);var d=c.add(i.id+"_external_close","click",function(){b.hide(i.id+"_external"),c.remove(i.id+"_external_close","click",d)});b.show(a),b.setStyle(a,"top",0-b.getRect(i.id+"_tblext").h-1),b.hide(a),b.show(a),a.style.filter="",g=i.id+"_external",a=null})),k=="top"&&h._addStatusBar(d,e),a.theme_advanced_toolbar_container||(l=b.add(d,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"})),j=="bottom"&&h._addToolbars(d,e),k=="bottom"&&h._addStatusBar(d,e),m)},_rowLayout:function(a,c,d){var f=this,g=f.editor,i,j,k=g.controlManager,l,m,n,o;return i=a.theme_advanced_containers_default_class||"",j=a.theme_advanced_containers_default_align||"center",e(h(a.theme_advanced_containers||""),function(e,g){var h=a["theme_advanced_container_"+e]||"";switch(h.toLowerCase()){case"mceeditor":l=b.add(c,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":f._addStatusBar(c,d);break;default:o=(a["theme_advanced_container_"+e+"_align"]||j).toLowerCase(),o="mce"+f._ufirst(o),l=b.add(b.add(c,"tr"),"td",{"class":"mceToolbar "+(a["theme_advanced_container_"+e+"_class"]||i)+" "+o||j}),n=k.createToolbar("toolbar"+g),f._addControls(h,n),b.setHTML(l,n.renderHTML()),d.deltaHeight-=a.theme_advanced_row_height}}),m},_addControls:function(a,b){var c=this,d=c.settings,f,g=c.editor.controlManager;d.theme_advanced_disable&&!c._disabled?(f={},e(h(d.theme_advanced_disable),function(a){f[a]=1}),c._disabled=f):f=c._disabled,e(h(a),function(a){var d;if(f&&f[a])return;if(a=="tablecontrols"){e(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(a){a=c.createControl(a,g),a&&b.add(a)});return}d=c.createControl(a,g),d&&b.add(d)})},_addToolbars:function(a,c){var d=this,e,f,g=d.editor,h=d.settings,i,j=g.controlManager,k,l,m=[],n;n=h.theme_advanced_toolbar_align.toLowerCase(),n="mce"+d._ufirst(n),l=b.add(b.add(a,"tr"),"td",{"class":"mceToolbar "+n}),g.getParam("accessibility_focus")||m.push(b.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+g.id+"').focus();"},"<!-- IE -->")),m.push(b.createHTML("a",{href:"#",accesskey:"q",title:g.getLang("advanced.toolbar_focus")},"<!-- IE -->"));for(e=1;i=h["theme_advanced_buttons"+e];e++)f=j.createToolbar("toolbar"+e,{"class":"mceToolbarRow"+e}),h["theme_advanced_buttons"+e+"_add"]&&(i+=","+h["theme_advanced_buttons"+e+"_add"]),h["theme_advanced_buttons"+e+"_add_before"]&&(i=h["theme_advanced_buttons"+e+"_add_before"]+","+i),d._addControls(i,f),m.push(f.renderHTML()),c.deltaHeight-=h.theme_advanced_row_height;m.push(b.createHTML("a",{href:"#",accesskey:"z",title:g.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+g.id+"').focus();"},"<!-- IE -->")),b.setHTML(l,m.join(""))},_addStatusBar:function(a,d){var e,g=this,h=g.editor,i=g.settings,j,k,l,m;e=b.add(a,"tr"),e=m=b.add(e,"td",{"class":"mceStatusbar"}),e=b.add(e,"div",{id:h.id+"_path_row"},i.theme_advanced_path?h.translate("advanced.path")+": ":"&#160;"),b.add(e,"a",{href:"#",accesskey:"x"}),i.theme_advanced_resizing&&(b.add(m,"a",{id:h.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize"}),i.theme_advanced_resizing_use_cookie&&h.onPostRender.add(function(){var a=f.getHash("TinyMCE_"+h.id+"_size"),c=b.get(h.id+"_tbl");if(!a)return;g.resizeTo(a.cw,a.ch)}),h.onPostRender.add(function(){c.add(h.id+"_resize","mousedown",function(
a){function t(a){q=n+(a.screenX-l),r=o+(a.screenY-m),g.resizeTo(q,r)}function u(a){c.remove(b.doc,"mousemove",d),c.remove(h.getDoc(),"mousemove",e),c.remove(b.doc,"mouseup",j),c.remove(h.getDoc(),"mouseup",k),i.theme_advanced_resizing_use_cookie&&f.setHash("TinyMCE_"+h.id+"_size",{cw:q,ch:r})}var d,e,j,k,l,m,n,o,q,r,s;a.preventDefault(),l=a.screenX,m=a.screenY,s=b.get(g.editor.id+"_ifr"),n=q=s.clientWidth,o=r=s.clientHeight,d=c.add(b.doc,"mousemove",t),e=c.add(h.getDoc(),"mousemove",t),j=c.add(b.doc,"mouseup",u),k=c.add(h.getDoc(),"mouseup",u)})})),d.deltaHeight-=21,e=a=null},_nodeChanged:function(c,d,f,g,h){function t(a){var b,c=h.parents,d=a;typeof a=="string"&&(d=function(b){return b.nodeName==a});for(b=0;b<c.length;b++)if(d(c[b]))return c[b]}var i=this,j,k=0,l,m,n=i.settings,o,p,q,r,s;a.each(i.stateControls,function(a){d.setActive(a,c.queryCommandState(i.controls[a][1]))}),d.setActive("visualaid",c.hasVisual),d.setDisabled("undo",!c.undoManager.hasUndo()&&!c.typing),d.setDisabled("redo",!c.undoManager.hasRedo()),d.setDisabled("outdent",!c.queryCommandState("Outdent")),j=t("A");if(m=d.get("link"))if(!j||!j.name)m.setDisabled(!j&&g),m.setActive(!!j);if(m=d.get("unlink"))m.setDisabled(!j&&g),m.setActive(!!j&&!j.name);(m=d.get("anchor"))&&m.setActive(!!j&&j.name),j=t("IMG"),(m=d.get("image"))&&m.setActive(!!j&&f.className.indexOf("mceItem")==-1);if(m=d.get("styleselect"))i._importClasses(),r=[],e(m.items,function(a){r.push(a.value)}),s=c.formatter.matchAll(r),m.select(s[0]);if(m=d.get("formatselect"))j=t(b.isBlock),j&&m.select(j.nodeName.toLowerCase());t(function(a){return a.nodeName==="SPAN"&&(!o&&a.className&&(o=a.className),!p&&a.style.fontSize&&(p=a.style.fontSize),!q&&a.style.fontFamily&&(q=a.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase())),!1}),(m=d.get("fontselect"))&&m.select(function(a){return a.replace(/^([^,]+).*/,"$1").toLowerCase()==q});if(m=d.get("fontsizeselect"))n.theme_advanced_runtime_fontsize&&!p&&!o&&(p=c.dom.getStyle(f,"fontSize",!0)),m.select(function(a){if(a.fontSize&&a.fontSize===p)return!0;if(a["class"]&&a["class"]===o)return!0});n.theme_advanced_path&&n.theme_advanced_statusbar_location&&(j=b.get(c.id+"_path")||b.add(c.id+"_path_row","span",{id:c.id+"_path"}),b.setHTML(j,""),t(function(c){var d=c.nodeName.toLowerCase(),e,f,g="";if(c.nodeType!=1||c.nodeName==="BR"||b.hasClass(c,"mceItemHidden")||b.hasClass(c,"mceItemRemoved"))return;if(l=b.getAttrib(c,"mce_name"))d=l;a.isIE&&c.scopeName!=="HTML"&&(d=c.scopeName+":"+d),d=d.replace(/mce\:/g,"");switch(d){case"b":d="strong";break;case"i":d="em";break;case"img":if(l=b.getAttrib(c,"src"))g+="src: "+l+" ";break;case"a":if(l=b.getAttrib(c,"name"))g+="name: "+l+" ",d+="#"+l;if(l=b.getAttrib(c,"href"))g+="href: "+l+" ";break;case"font":if(l=b.getAttrib(c,"face"))g+="font: "+l+" ";if(l=b.getAttrib(c,"size"))g+="size: "+l+" ";if(l=b.getAttrib(c,"color"))g+="color: "+l+" ";break;case"span":if(l=b.getAttrib(c,"style"))g+="style: "+l+" "}if(l=b.getAttrib(c,"id"))g+="id: "+l+" ";if(l=c.className){l=l.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(l){g+="class: "+l+" ";if(b.isBlock(c)||d=="img"||d=="span")d+="."+l}}d=d.replace(/(html:)/g,""),d={name:d,node:c,title:g},i.onResolveName.dispatch(i,d),g=d.title,d=d.name,f=b.create("a",{href:"javascript:;",onmousedown:"return false;",title:g,"class":"mcePath_"+k++},d),j.hasChildNodes()?(j.insertBefore(b.doc.createTextNode(" Â» "),j.firstChild),j.insertBefore(f,j.firstChild)):j.appendChild(f)},c.getBody()))},_sel:function(a){this.editor.execCommand("mceSelectNodeDepth",!1,a)},_mceInsertAnchor:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/anchor.htm",width:320+parseInt(d.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(d.getLang("advanced.anchor_delta_height",0)),inline:!0},{theme_url:this.url})},_mceCharMap:function(){var b=this.editor;b.windowManager.open({url:a.baseURL+"/themes/advanced/charmap.htm",width:550+parseInt(b.getLang("advanced.charmap_delta_width",0)),height:250+parseInt(b.getLang("advanced.charmap_delta_height",0)),inline:!0},{theme_url:this.url})},_mceHelp:function(){var b=this.editor;b.windowManager.open({url:a.baseURL+"/themes/advanced/about.htm",width:480,height:380,inline:!0},{theme_url:this.url})},_mceColorPicker:function(b,c){var d=this.editor;c=c||{},d.windowManager.open({url:a.baseURL+"/themes/advanced/color_picker.htm",width:375+parseInt(d.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(d.getLang("advanced.colorpicker_delta_height",0)),close_previous:!1,inline:!0},{input_color:c.color,func:c.func,theme_url:this.url})},_mceCodeEditor:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/source_editor.htm",width:parseInt(d.getParam("theme_advanced_source_editor_width",720)),height:parseInt(d.getParam("theme_advanced_source_editor_height",580)),inline:!0,resizable:!0,maximizable:!0},{theme_url:this.url})},_mceImage:function(b,c){var d=this.editor;if(d.dom.getAttrib(d.selection.getNode(),"class").indexOf("mceItem")!=-1)return;d.windowManager.open({url:a.baseURL+"/themes/advanced/image.htm",width:355+parseInt(d.getLang("advanced.image_delta_width",0)),height:275+parseInt(d.getLang("advanced.image_delta_height",0)),inline:!0},{theme_url:this.url})},_mceLink:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/link.htm",width:310+parseInt(d.getLang("advanced.link_delta_width",0)),height:200+parseInt(d.getLang("advanced.link_delta_height",0)),inline:!0},{theme_url:this.url})},_mceNewDocument:function(){var a=this.editor;a.windowManager.confirm("advanced.newdocument",function(b){b&&a.execCommand("mceSetContent",!1,"")})},_mceForeColor:function(){var a=this;this._mceColorPicker(0,{color:a.fgColor,func:function(b){a.fgColor=b,a.editor.execCommand("ForeColor",!1,b)}})},_mceBackColor:function(){var a=this;this._mceColorPicker(0,{color:a.bgColor,func:function(b){a.bgColor=b,a.editor.execCommand("HiliteColor",!1,b)}})},_ufirst:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}}),a.ThemeManager.add("advanced",a.themes.AdvancedTheme)}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.extend,e=a.each,f=a.util.Cookie,g,h=a.explode;a.ThemeManager.requireLangPack("advanced"),a.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(c,f){var g=this,h,i,j;g.editor=c,g.url=f,g.onResolveName=new a.util.Dispatcher(this),g.settings=h=d({theme_advanced_path:!0,theme_advanced_toolbar_location:"bottom",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",readonly:c.settings.readonly},c.settings),h.font_size_style_values||(h.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"),a.is(h.theme_advanced_font_sizes,"string")&&(h.font_size_style_values=a.explode(h.font_size_style_values),h.font_size_classes=a.explode(h.font_size_classes||""),j={},c.settings.theme_advanced_font_sizes=h.theme_advanced_font_sizes,e(c.getParam("theme_advanced_font_sizes","","hash"),function(a,b){var c;b==a&&a>=1&&a<=7&&(b=a+" ("+g.sizes[a-1]+"pt)",c=h.font_size_classes[a-1],a=h.font_size_style_values[a-1]||g.sizes[a-1]+"pt"),/^\s*\./.test(a)&&(c=a.replace(/\./g,"")),j[b]=c?{"class":c}:{fontSize:a}}),h.theme_advanced_font_sizes=j),(i=h.theme_advanced_path_location)&&i!="none"&&(h.theme_advanced_statusbar_location=h.theme_advanced_path_location),h.theme_advanced_statusbar_location=="none"&&(h.theme_advanced_statusbar_location=0),c.onInit.add(function(){c.settings.readonly||c.onNodeChange.add(g._nodeChanged,g),c.settings.content_css!==!1&&c.dom.loadCSS(c.baseURI.toAbsolute("themes/advanced/skins/"+c.settings.skin+"/content.css"))}),c.onSetProgressState.add(function(a,c,d){var e,f=a.id,h;c?g.progressTimer=setTimeout(function(){e=a.getContainer(),e=e.insertBefore(b.create("DIV",{style:"position:relative"}),e.firstChild),h=b.get(a.id+"_tbl"),b.add(e,"div",{id:f+"_blocker","class":"mceBlocker",style:{width:h.clientWidth+2,height:h.clientHeight+2}}),b.add(e,"div",{id:f+"_progress","class":"mceProgress",style:{left:h.clientWidth/2,top:h.clientHeight/2}})},d||0):(b.remove(f+"_blocker"),b.remove(f+"_progress"),clearTimeout(g.progressTimer))}),b.loadCSS(h.editor_css?c.documentBaseURI.toAbsolute(h.editor_css):f+"/skins/"+c.settings.skin+"/ui.css"),h.skin_variant&&b.loadCSS(f+"/skins/"+c.settings.skin+"/ui_"+h.skin_variant+".css")},createControl:function(a,b){var c,d;if(d=b.createControl(a))return d;switch(a){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if(c=this.controls[a])return b.createButton(a,{title:"advanced."+c[0],cmd:c[1],ui:c[2],value:c[3]})},execCommand:function(a,b,c){var d=this["_"+a];return d?(d.call(this,b,c),!0):!1},_importClasses:function(a){var b=this.editor,c=b.controlManager.get("styleselect");c.getLength()==0&&e(b.dom.getClasses(),function(a,d){var e="style_"+d;b.formatter.register(e,{inline:"span",attributes:{"class":a["class"]},selector:"*"}),c.add(a["class"],e)})},_createStyleSelect:function(a){var b=this,d=b.editor,f=d.controlManager,g;return g=f.createListBox("styleselect",{title:"advanced.style_select",onselect:function(a){var b,c=[];return e(g.items,function(a){c.push(a.value)}),d.focus(),d.undoManager.add(),b=d.formatter.matchAll(c),!a||b[0]==a?d.formatter.remove(b[0]):d.formatter.apply(a),d.undoManager.add(),d.nodeChanged(),!1}}),d.onInit.add(function(){var a=0,c=d.getParam("style_formats");c?e(c,function(b){var c,f=0;e(b,function(){f++}),f>1?(c=b.name=b.name||"style_"+a++,d.formatter.register(c,b),g.add(b.title,c)):g.add(b.title)}):e(d.getParam("theme_advanced_styles","","hash"),function(c,e){var f;c&&(f="style_"+a++,d.formatter.register(f,{inline:"span",classes:c,selector:"*"}),g.add(b.editor.translate(e),f))})}),g.getLength()==0&&g.onPostRender.add(function(a,d){g.NativeListBox?c.add(d.id,"focus",b._importClasses,b):(c.add(d.id+"_text","focus",b._importClasses,b),c.add(d.id+"_text","mousedown",b._importClasses,b),c.add(d.id+"_open","focus",b._importClasses,b),c.add(d.id+"_open","mousedown",b._importClasses,b))}),g},_createFontSelect:function(){var a,b=this,c=b.editor;return a=c.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(b){var d=a.items[a.selectedIndex];if(!b&&d){c.execCommand("FontName",!1,d.value);return}return c.execCommand("FontName",!1,b),a.select(function(a){return b==a}),!1}}),a&&e(c.getParam("theme_advanced_fonts",b.settings.theme_advanced_fonts,"hash"),function(b,d){a.add(c.translate(d),b,{style:b.indexOf("dings")==-1?"font-family:"+b:""})}),a},_createFontSizeSelect:function(){var a=this,b=a.editor,c,d=0,f=[];return c=b.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(a){var d=c.items[c.selectedIndex];if(!a&&d){d=d.value,d["class"]?(b.formatter.toggle("fontsize_class",{value:d["class"]}),b.undoManager.add(),b.nodeChanged()):b.execCommand("FontSize",!1,d.fontSize);return}return a["class"]?(b.focus(),b.undoManager.add(),b.formatter.toggle("fontsize_class",{value:a["class"]}),b.undoManager.add(),b.nodeChanged()):b.execCommand("FontSize",!1,a.fontSize),c.select(function(b){return a==b}),!1}}),c&&e(a.settings.theme_advanced_font_sizes,function(b,e){var f=b.fontSize;f>=1&&f<=7&&(f=a.sizes[parseInt(f)-1]+"pt"),c.add(e,b,{style:"font-size:"+f,"class":"mceFontSize"+d++ +(" "+(b["class"]||""))})}),c},_createBlockFormats:function(){var a,b={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},c=this;return a=c.editor.controlManager.createListBox("formatselect",{title:"advanced.block",cmd:"FormatBlock"}),a&&e(c.editor.getParam("theme_advanced_blockformats",c.settings.theme_advanced_blockformats,"hash"),function(d,e){a.add(c.editor.translate(e!=d?e:b[d]),d,{"class":"mce_formatPreview mce_"+d})}),a},_createForeColorMenu:function(){var a,b=this,c=b.settings,d={},e;c.theme_advanced_more_colors&&(d.more_colors_func=function(){b._mceColorPicker(0,{color:a.value,func:function(b){a.setColor(b)}})});if(e=c.theme_advanced_text_colors)d.colors=e;return c.theme_advanced_default_foreground_color&&(d.default_color=c.theme_advanced_default_foreground_color),d.title="advanced.forecolor_desc",d.cmd="ForeColor",d.scope=this,a=b.editor.controlManager.createColorSplitButton("forecolor",d),a},_createBackColorMenu:function(){var a,b=this,c=b.settings,d={},e;c.theme_advanced_more_colors&&(d.more_colors_func=function(){b._mceColorPicker(0,{color:a.value,func:function(b){a.setColor(b)}})});if(e=c.theme_advanced_background_colors)d.colors=e;return c.theme_advanced_default_background_color&&(d.default_color=c.theme_advanced_default_background_color),d.title="advanced.backcolor_desc",d.cmd="HiliteColor",d.scope=this,a=b.editor.controlManager.createColorSplitButton("backcolor",d),a},renderUI:function(a){var d,f,g,h=this,i=h.editor,j=h.settings,k,l,m;d=l=b.create("span",{id:i.id+"_parent","class":"mceEditor "+i.settings.skin+"Skin"+(j.skin_variant?" "+i.settings.skin+"Skin"+h._ufirst(j.skin_variant):"")}),b.boxModel||(d=b.add(d,"div",{"class":"mceOldBoxModel"})),d=k=b.add(d,"table",{id:i.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0}),d=g=b.add(d,"tbody");switch((j.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":f=h._rowLayout(j,g,a);break;case"customlayout":f=i.execCallback("theme_advanced_custom_layout",j,g,a,l);break;default:f=h._simpleLayout(j,g,a,l)}return d=a.targetNode,m=b.stdMode?k.getElementsByTagName("tr"):k.rows,b.addClass(m[0],"mceFirst"),b.addClass(m[m.length-1],"mceLast"),e(b.select("tr",g),function(a){b.addClass(a.firstChild,"mceFirst"),b.addClass(a.childNodes[a.childNodes.length-1],"mceLast")}),b.get(j.theme_advanced_toolbar_container)?b.get(j.theme_advanced_toolbar_container).appendChild(l):b.insertAfter(l,d),c.add(i.id+"_path_row","click",function(a){a=a.target;if(a.nodeName=="A")return h._sel(a.className.replace(/^.*mcePath_([0-9]+).*$/,"$1")),c.cancel(a)}),i.getParam("accessibility_focus")||c.add(b.add(l,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(i.id).focus()}),j.theme_advanced_toolbar_location=="external"&&(a.deltaHeight=0),h.deltaHeight=a.deltaHeight,a.targetNode=null,{iframeContainer:f,editorContainer:i.id+"_parent",sizeContainer:k,deltaHeight:a.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:a.majorVersion+"."+a.minorVersion}},resizeBy:function(a,c){var d=b.get(this.editor.id+"_tbl");this.resizeTo(d.clientWidth+a,d.clientHeight+c)},resizeTo:function(a,c){var d=this.editor,e=this.settings,f=b.get(d.id+"_tbl"),g=b.get(d.id+"_ifr");a=Math.max(e.theme_advanced_resizing_min_width||100,a),c=Math.max(e.theme_advanced_resizing_min_height||100,c),a=Math.min(e.theme_advanced_resizing_max_width||65535,a),c=Math.min(e.theme_advanced_resizing_max_height||65535,c),b.setStyle(f,"height",""),b.setStyle(g,"height",c),e.theme_advanced_resize_horizontal&&(b.setStyle(f,"width",""),b.setStyle(g,"width",a),a<f.clientWidth&&b.setStyle(g,"width",f.clientWidth))},destroy:function(){var a=this.editor.id;c.clear(a+"_resize"),c.clear(a+"_path_row"),c.clear(a+"_external_close")},_simpleLayout:function(a,d,e,f){var h=this,i=h.editor,j=a.theme_advanced_toolbar_location,k=a.theme_advanced_statusbar_location,l,m,n,o;return a.readonly?(l=b.add(d,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"}),m):(j=="top"&&h._addToolbars(d,e),j=="external"&&(l=o=b.create("div",{style:"position:relative"}),l=b.add(l,"div",{id:i.id+"_external","class":"mceExternalToolbar"}),b.add(l,"a",{id:i.id+"_external_close",href:"javascript:;","class":"mceExternalClose"}),l=b.add(l,"table",{id:i.id+"_tblext",cellSpacing:0,cellPadding:0}),n=b.add(l,"tbody"),f.firstChild.className=="mceOldBoxModel"?f.firstChild.appendChild(o):f.insertBefore(o,f.firstChild),h._addToolbars(n,e),i.onMouseUp.add(function(){var a=b.get(i.id+"_external");b.show(a),b.hide(g);var d=c.add(i.id+"_external_close","click",function(){b.hide(i.id+"_external"),c.remove(i.id+"_external_close","click",d)});b.show(a),b.setStyle(a,"top",0-b.getRect(i.id+"_tblext").h-1),b.hide(a),b.show(a),a.style.filter="",g=i.id+"_external",a=null})),k=="top"&&h._addStatusBar(d,e),a.theme_advanced_toolbar_container||(l=b.add(d,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"})),j=="bottom"&&h._addToolbars(d,e),k=="bottom"&&h._addStatusBar(d,e),m)},_rowLayout:function(a,c,d){var f=this,g=f.editor,i,j,k=g.controlManager,l,m,n,o;return i=a.theme_advanced_containers_default_class||"",j=a.theme_advanced_containers_default_align||"center",e(h(a.theme_advanced_containers||""),function(e,g){var h=a["theme_advanced_container_"+e]||"";switch(h.toLowerCase()){case"mceeditor":l=b.add(c,"tr"),l=m=b.add(l,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":f._addStatusBar(c,d);break;default:o=(a["theme_advanced_container_"+e+"_align"]||j).toLowerCase(),o="mce"+f._ufirst(o),l=b.add(b.add(c,"tr"),"td",{"class":"mceToolbar "+(a["theme_advanced_container_"+e+"_class"]||i)+" "+o||j}),n=k.createToolbar("toolbar"+g),f._addControls(h,n),b.setHTML(l,n.renderHTML()),d.deltaHeight-=a.theme_advanced_row_height}}),m},_addControls:function(a,b){var c=this,d=c.settings,f,g=c.editor.controlManager;d.theme_advanced_disable&&!c._disabled?(f={},e(h(d.theme_advanced_disable),function(a){f[a]=1}),c._disabled=f):f=c._disabled,e(h(a),function(a){var d;if(f&&f[a])return;if(a=="tablecontrols"){e(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(a){a=c.createControl(a,g),a&&b.add(a)});return}d=c.createControl(a,g),d&&b.add(d)})},_addToolbars:function(a,c){var d=this,e,f,g=d.editor,h=d.settings,i,j=g.controlManager,k,l,m=[],n;n=h.theme_advanced_toolbar_align.toLowerCase(),n="mce"+d._ufirst(n),l=b.add(b.add(a,"tr"),"td",{"class":"mceToolbar "+n}),g.getParam("accessibility_focus")||m.push(b.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+g.id+"').focus();"},"<!-- IE -->")),m.push(b.createHTML("a",{href:"#",accesskey:"q",title:g.getLang("advanced.toolbar_focus")},"<!-- IE -->"));for(e=1;i=h["theme_advanced_buttons"+e];e++)f=j.createToolbar("toolbar"+e,{"class":"mceToolbarRow"+e}),h["theme_advanced_buttons"+e+"_add"]&&(i+=","+h["theme_advanced_buttons"+e+"_add"]),h["theme_advanced_buttons"+e+"_add_before"]&&(i=h["theme_advanced_buttons"+e+"_add_before"]+","+i),d._addControls(i,f),m.push(f.renderHTML()),c.deltaHeight-=h.theme_advanced_row_height;m.push(b.createHTML("a",{href:"#",accesskey:"z",title:g.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+g.id+"').focus();"},"<!-- IE -->")),b.setHTML(l,m.join(""))},_addStatusBar:function(a,d){var e,g=this,h=g.editor,i=g.settings,j,k,l,m;e=b.add(a,"tr"),e=m=b.add(e,"td",{"class":"mceStatusbar"}),e=b.add(e,"div",{id:h.id+"_path_row"},i.theme_advanced_path?h.translate("advanced.path")+": ":"&#160;"),b.add(e,"a",{href:"#",accesskey:"x"}),i.theme_advanced_resizing&&(b.add(m,"a",{id:h.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize"}),i.theme_advanced_resizing_use_cookie&&h.onPostRender.add(function(){var a=f.getHash("TinyMCE_"+h.id+"_size"),c=b.get(h.id+"_tbl");if(!a)return;g.resizeTo(a.cw,a.ch)}),h.onPostRender.add(function(){c.add(h.id+"_resize","mousedown",function(a){function u(a){p=n+(a.screenX-l),q=o+(a.screenY-m),g.resizeTo(p,q)}function v(a){c.remove(b.doc,"mousemove",d),c.remove(h.getDoc(),"mousemove",e),c.remove(b.doc,"mouseup",j),c.remove(h.getDoc(),"mouseup",k),i.theme_advanced_resizing_use_cookie&&f.setHash("TinyMCE_"+h.id+"_size",{cw:p,ch:q})}var d,e,j,k,l,m,n,o,p,q,r;a.preventDefault(),l=a.screenX,m=a.screenY,r=b.get(g.editor.id+"_ifr"),n=p=r.clientWidth,o=q=r.clientHeight,d=c.add(b.doc,"mousemove",u),e=c.add(h.getDoc(),"mousemove",u),j=c.add(b.doc,"mouseup",v),k=c.add(h.getDoc(),"mouseup",v)})})),d.deltaHeight-=21,e=a=null},_nodeChanged:function(c,d,f,g,h){function t(a){var b,c=h.parents,d=a;typeof a=="string"&&(d=function(b){return b.nodeName==a});for(b=0;b<c.length;b++)if(d(c[b]))return c[b]}var i=this,j,k=0,l,m,n=i.settings,o,p,q,r,s;a.each(i.stateControls,function(a){d.setActive(a,c.queryCommandState(i.controls[a][1]))}),d.setActive("visualaid",c.hasVisual),d.setDisabled("undo",!c.undoManager.hasUndo()&&!c.typing),d.setDisabled("redo",!c.undoManager.hasRedo()),d.setDisabled("outdent",!c.queryCommandState("Outdent")),j=t("A");if(m=d.get("link"))if(!j||!j.name)m.setDisabled(!j&&g),m.setActive(!!j);if(m=d.get("unlink"))m.setDisabled(!j&&g),m.setActive(!!j&&!j.name);(m=d.get("anchor"))&&m.setActive(!!j&&j.name),j=t("IMG"),(m=d.get("image"))&&m.setActive(!!j&&f.className.indexOf("mceItem")==-1);if(m=d.get("styleselect"))i._importClasses(),r=[],e(m.items,function(a){r.push(a.value)}),s=c.formatter.matchAll(r),m.select(s[0]);if(m=d.get("formatselect"))j=t(b.isBlock),j&&m.select(j.nodeName.toLowerCase());t(function(a){return a.nodeName==="SPAN"&&(!o&&a.className&&(o=a.className),!p&&a.style.fontSize&&(p=a.style.fontSize),!q&&a.style.fontFamily&&(q=a.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase())),!1}),(m=d.get("fontselect"))&&m.select(function(a){return a.replace(/^([^,]+).*/,"$1").toLowerCase()==q});if(m=d.get("fontsizeselect"))n.theme_advanced_runtime_fontsize&&!p&&!o&&(p=c.dom.getStyle(f,"fontSize",!0)),m.select(function(a){if(a.fontSize&&a.fontSize===p)return!0;if(a["class"]&&a["class"]===o)return!0});n.theme_advanced_path&&n.theme_advanced_statusbar_location&&(j=b.get(c.id+"_path")||b.add(c.id+"_path_row","span",{id:c.id+"_path"}),b.setHTML(j,""),t(function(c){var d=c.nodeName.toLowerCase(),e,f,g="";if(c.nodeType!=1||c.nodeName==="BR"||b.hasClass(c,"mceItemHidden")||b.hasClass(c,"mceItemRemoved"))return;if(l=b.getAttrib(c,"mce_name"))d=l;a.isIE&&c.scopeName!=="HTML"&&(d=c.scopeName+":"+d),d=d.replace(/mce\:/g,"");switch(d){case"b":d="strong";break;case"i":d="em";break;case"img":if(l=b.getAttrib(c,"src"))g+="src: "+l+" ";break;case"a":if(l=b.getAttrib(c,"name"))g+="name: "+l+" ",d+="#"+l;if(l=b.getAttrib(c,"href"))g+="href: "+l+" ";break;case"font":if(l=b.getAttrib(c,"face"))g+="font: "+l+" ";if(l=b.getAttrib(c,"size"))g+="size: "+l+" ";if(l=b.getAttrib(c,"color"))g+="color: "+l+" ";break;case"span":if(l=b.getAttrib(c,"style"))g+="style: "+l+" "}if(l=b.getAttrib(c,"id"))g+="id: "+l+" ";if(l=c.className){l=l.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(l){g+="class: "+l+" ";if(b.isBlock(c)||d=="img"||d=="span")d+="."+l}}d=d.replace(/(html:)/g,""),d={name:d,node:c,title:g},i.onResolveName.dispatch(i,d),g=d.title,d=d.name,f=b.create("a",{href:"javascript:;",onmousedown:"return false;",title:g,"class":"mcePath_"+k++},d),j.hasChildNodes()?(j.insertBefore(b.doc.createTextNode(" Â» "),j.firstChild),j.insertBefore(f,j.firstChild)):j.appendChild(f)},c.getBody()))},_sel:function(a){this.editor.execCommand("mceSelectNodeDepth",!1,a)},_mceInsertAnchor:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/anchor.htm",width:320+parseInt(d.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(d.getLang("advanced.anchor_delta_height",0)),inline:!0},{theme_url:this.url})},_mceCharMap:function(){var b=this.editor;b.windowManager.open({url:a.baseURL+"/themes/advanced/charmap.htm",width:550+parseInt(b.getLang("advanced.charmap_delta_width",0)),height:250+parseInt(b.getLang("advanced.charmap_delta_height",0)),inline:!0},{theme_url:this.url})},_mceHelp:function(){var b=this.editor;b.windowManager.open({url:a.baseURL+"/themes/advanced/about.htm",width:480,height:380,inline:!0},{theme_url:this.url})},_mceColorPicker:function(b,c){var d=this.editor;c=c||{},d.windowManager.open({url:a.baseURL+"/themes/advanced/color_picker.htm",width:375+parseInt(d.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(d.getLang("advanced.colorpicker_delta_height",0)),close_previous:!1,inline:!0},{input_color:c.color,func:c.func,theme_url:this.url})},_mceCodeEditor:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/source_editor.htm",width:parseInt(d.getParam("theme_advanced_source_editor_width",720)),height:parseInt(d.getParam("theme_advanced_source_editor_height",580)),inline:!0,resizable:!0,maximizable:!0},{theme_url:this.url})},_mceImage:function(b,c){var d=this.editor;if(d.dom.getAttrib(d.selection.getNode(),"class").indexOf("mceItem")!=-1)return;d.windowManager.open({url:a.baseURL+"/themes/advanced/image.htm",width:355+parseInt(d.getLang("advanced.image_delta_width",0)),height:275+parseInt(d.getLang("advanced.image_delta_height",0)),inline:!0},{theme_url:this.url})},_mceLink:function(b,c){var d=this.editor;d.windowManager.open({url:a.baseURL+"/themes/advanced/link.htm",width:310+parseInt(d.getLang("advanced.link_delta_width",0)),height:200+parseInt(d.getLang("advanced.link_delta_height",0)),inline:!0},{theme_url:this.url})},_mceNewDocument:function(){var a=this.editor;a.windowManager.confirm("advanced.newdocument",function(b){b&&a.execCommand("mceSetContent",!1,"")})},_mceForeColor:function(){var a=this;this._mceColorPicker(0,{color:a.fgColor,func:function(b){a.fgColor=b,a.editor.execCommand("ForeColor",!1,b)}})},_mceBackColor:function(){var a=this;this._mceColorPicker(0,{color:a.bgColor,func:function(b){a.bgColor=b,a.editor.execCommand("HiliteColor",!1,b)}})},_ufirst:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}}),a.ThemeManager.add("advanced",a.themes.AdvancedTheme)}(tinymce),tinyMCEPopup.requireLangPack(),tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack();var AnchorDialog={init:function(a){var b,c,d=document.forms[0];this.editor=a,c=a.dom.getParent(a.selection.getNode(),"A"),v=a.dom.getAttrib(c,"name"),v&&(this.action="update",d.anchorName.value=v),d.insert.value=a.getLang(c?"update":"insert")},update:function(){var a=this.editor,b,c=document.forms[0].anchorName.value;tinyMCEPopup.restoreSelection(),this.action!="update"&&a.selection.collapse(1),b=a.dom.getParent(a.selection.getNode(),"A"),b?b.name=c:a.execCommand("mceInsertContent",0,a.dom.createHTML("a",{name:c,"class":"mceItemAnchor"},"")),tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(AnchorDialog.init,AnchorDialog),tinyMCEPopup.requireLangPack();var charmap=[["&nbsp;","&#160;",!0,"no-break space"],["&amp;","&#38;",!0,"ampersand"],["&quot;","&#34;",!0,"quotation mark"],["&cent;","&#162;",!0,"cent sign"],["&euro;","&#8364;",!0,"euro sign"],["&pound;","&#163;",!0,"pound sign"],["&yen;","&#165;",!0,"yen sign"],["&copy;","&#169;",!0,"copyright sign"],["&reg;","&#174;",!0,"registered sign"],["&trade;","&#8482;",!0,"trade mark sign"],["&permil;","&#8240;",!0,"per mille sign"],["&micro;","&#181;",!0,"micro sign"],["&middot;","&#183;",!0,"middle dot"],["&bull;","&#8226;",!0,"bullet"],["&hellip;","&#8230;",!0,"three dot leader"],["&prime;","&#8242;",!0,"minutes / feet"],["&Prime;","&#8243;",!0,"seconds / inches"],["&sect;","&#167;",!0,"section sign"],["&para;","&#182;",!0,"paragraph sign"],["&szlig;","&#223;",!0,"sharp s / ess-zed"],["&lsaquo;","&#8249;",!0,"single left-pointing angle quotation mark"],["&rsaquo;","&#8250;",!0,"single right-pointing angle quotation mark"],["&laquo;","&#171;",!0,"left pointing guillemet"],["&raquo;","&#187;",!0,"right pointing guillemet"],["&lsquo;","&#8216;",!0,"left single quotation mark"],["&rsquo;","&#8217;",!0,"right single quotation mark"],["&ldquo;","&#8220;",!0,"left double quotation mark"],["&rdquo;","&#8221;",!0,"right double quotation mark"],["&sbquo;","&#8218;",!0,"single low-9 quotation mark"],["&bdquo;","&#8222;",!0,"double low-9 quotation mark"],["&lt;","&#60;",!0,"less-than sign"],["&gt;","&#62;",!0,"greater-than sign"],["&le;","&#8804;",!0,"less-than or equal to"],["&ge;","&#8805;",!0,"greater-than or equal to"],["&ndash;","&#8211;",!0,"en dash"],["&mdash;","&#8212;",!0,"em dash"],["&macr;","&#175;",!0,"macron"],["&oline;","&#8254;",!0,"overline"],["&curren;","&#164;",!0,"currency sign"],["&brvbar;","&#166;",!0,"broken bar"],["&uml;","&#168;",!0,"diaeresis"],["&iexcl;","&#161;",!0,"inverted exclamation mark"],["&iquest;","&#191;",!0,"turned question mark"],["&circ;","&#710;",!0,"circumflex accent"],["&tilde;","&#732;",!0,"small tilde"],["&deg;","&#176;",!0,"degree sign"],["&minus;","&#8722;",!0,"minus sign"],["&plusmn;","&#177;",!0,"plus-minus sign"],["&divide;","&#247;",!0,"division sign"],["&frasl;","&#8260;",!0,"fraction slash"],["&times;","&#215;",!0,"multiplication sign"],["&sup1;","&#185;",!0,"superscript one"],["&sup2;","&#178;",!0,"superscript two"],["&sup3;","&#179;",!0,"superscript three"],["&frac14;","&#188;",!0,"fraction one quarter"],["&frac12;","&#189;",!0,"fraction one half"],["&frac34;","&#190;",!0,"fraction three quarters"],["&fnof;","&#402;",!0,"function / florin"],["&int;","&#8747;",!0,"integral"],["&sum;","&#8721;",!0,"n-ary sumation"],["&infin;","&#8734;",!0,"infinity"],["&radic;","&#8730;",!0,"square root"],["&sim;","&#8764;",!1,"similar to"],["&cong;","&#8773;",!1,"approximately equal to"],["&asymp;","&#8776;",!0,"almost equal to"],["&ne;","&#8800;",!0,"not equal to"],["&equiv;","&#8801;",!0,"identical to"],["&isin;","&#8712;",!1,"element of"],["&notin;","&#8713;",!1,"not an element of"],["&ni;","&#8715;",!1,"contains as member"],["&prod;","&#8719;",!0,"n-ary product"],["&and;","&#8743;",!1,"logical and"],["&or;","&#8744;",!1,"logical or"],["&not;","&#172;",!0,"not sign"],["&cap;","&#8745;",!0,"intersection"],["&cup;","&#8746;",!1,"union"],["&part;","&#8706;",!0,"partial differential"],["&forall;","&#8704;",!1,"for all"],["&exist;","&#8707;",!1,"there exists"],["&empty;","&#8709;",!1,"diameter"],["&nabla;","&#8711;",!1,"backward difference"],["&lowast;","&#8727;",!1,"asterisk operator"],["&prop;","&#8733;",!1
,"proportional to"],["&ang;","&#8736;",!1,"angle"],["&acute;","&#180;",!0,"acute accent"],["&cedil;","&#184;",!0,"cedilla"],["&ordf;","&#170;",!0,"feminine ordinal indicator"],["&ordm;","&#186;",!0,"masculine ordinal indicator"],["&dagger;","&#8224;",!0,"dagger"],["&Dagger;","&#8225;",!0,"double dagger"],["&Agrave;","&#192;",!0,"A - grave"],["&Aacute;","&#193;",!0,"A - acute"],["&Acirc;","&#194;",!0,"A - circumflex"],["&Atilde;","&#195;",!0,"A - tilde"],["&Auml;","&#196;",!0,"A - diaeresis"],["&Aring;","&#197;",!0,"A - ring above"],["&AElig;","&#198;",!0,"ligature AE"],["&Ccedil;","&#199;",!0,"C - cedilla"],["&Egrave;","&#200;",!0,"E - grave"],["&Eacute;","&#201;",!0,"E - acute"],["&Ecirc;","&#202;",!0,"E - circumflex"],["&Euml;","&#203;",!0,"E - diaeresis"],["&Igrave;","&#204;",!0,"I - grave"],["&Iacute;","&#205;",!0,"I - acute"],["&Icirc;","&#206;",!0,"I - circumflex"],["&Iuml;","&#207;",!0,"I - diaeresis"],["&ETH;","&#208;",!0,"ETH"],["&Ntilde;","&#209;",!0,"N - tilde"],["&Ograve;","&#210;",!0,"O - grave"],["&Oacute;","&#211;",!0,"O - acute"],["&Ocirc;","&#212;",!0,"O - circumflex"],["&Otilde;","&#213;",!0,"O - tilde"],["&Ouml;","&#214;",!0,"O - diaeresis"],["&Oslash;","&#216;",!0,"O - slash"],["&OElig;","&#338;",!0,"ligature OE"],["&Scaron;","&#352;",!0,"S - caron"],["&Ugrave;","&#217;",!0,"U - grave"],["&Uacute;","&#218;",!0,"U - acute"],["&Ucirc;","&#219;",!0,"U - circumflex"],["&Uuml;","&#220;",!0,"U - diaeresis"],["&Yacute;","&#221;",!0,"Y - acute"],["&Yuml;","&#376;",!0,"Y - diaeresis"],["&THORN;","&#222;",!0,"THORN"],["&agrave;","&#224;",!0,"a - grave"],["&aacute;","&#225;",!0,"a - acute"],["&acirc;","&#226;",!0,"a - circumflex"],["&atilde;","&#227;",!0,"a - tilde"],["&auml;","&#228;",!0,"a - diaeresis"],["&aring;","&#229;",!0,"a - ring above"],["&aelig;","&#230;",!0,"ligature ae"],["&ccedil;","&#231;",!0,"c - cedilla"],["&egrave;","&#232;",!0,"e - grave"],["&eacute;","&#233;",!0,"e - acute"],["&ecirc;","&#234;",!0,"e - circumflex"],["&euml;","&#235;",!0,"e - diaeresis"],["&igrave;","&#236;",!0,"i - grave"],["&iacute;","&#237;",!0,"i - acute"],["&icirc;","&#238;",!0,"i - circumflex"],["&iuml;","&#239;",!0,"i - diaeresis"],["&eth;","&#240;",!0,"eth"],["&ntilde;","&#241;",!0,"n - tilde"],["&ograve;","&#242;",!0,"o - grave"],["&oacute;","&#243;",!0,"o - acute"],["&ocirc;","&#244;",!0,"o - circumflex"],["&otilde;","&#245;",!0,"o - tilde"],["&ouml;","&#246;",!0,"o - diaeresis"],["&oslash;","&#248;",!0,"o slash"],["&oelig;","&#339;",!0,"ligature oe"],["&scaron;","&#353;",!0,"s - caron"],["&ugrave;","&#249;",!0,"u - grave"],["&uacute;","&#250;",!0,"u - acute"],["&ucirc;","&#251;",!0,"u - circumflex"],["&uuml;","&#252;",!0,"u - diaeresis"],["&yacute;","&#253;",!0,"y - acute"],["&thorn;","&#254;",!0,"thorn"],["&yuml;","&#255;",!0,"y - diaeresis"],["&Alpha;","&#913;",!0,"Alpha"],["&Beta;","&#914;",!0,"Beta"],["&Gamma;","&#915;",!0,"Gamma"],["&Delta;","&#916;",!0,"Delta"],["&Epsilon;","&#917;",!0,"Epsilon"],["&Zeta;","&#918;",!0,"Zeta"],["&Eta;","&#919;",!0,"Eta"],["&Theta;","&#920;",!0,"Theta"],["&Iota;","&#921;",!0,"Iota"],["&Kappa;","&#922;",!0,"Kappa"],["&Lambda;","&#923;",!0,"Lambda"],["&Mu;","&#924;",!0,"Mu"],["&Nu;","&#925;",!0,"Nu"],["&Xi;","&#926;",!0,"Xi"],["&Omicron;","&#927;",!0,"Omicron"],["&Pi;","&#928;",!0,"Pi"],["&Rho;","&#929;",!0,"Rho"],["&Sigma;","&#931;",!0,"Sigma"],["&Tau;","&#932;",!0,"Tau"],["&Upsilon;","&#933;",!0,"Upsilon"],["&Phi;","&#934;",!0,"Phi"],["&Chi;","&#935;",!0,"Chi"],["&Psi;","&#936;",!0,"Psi"],["&Omega;","&#937;",!0,"Omega"],["&alpha;","&#945;",!0,"alpha"],["&beta;","&#946;",!0,"beta"],["&gamma;","&#947;",!0,"gamma"],["&delta;","&#948;",!0,"delta"],["&epsilon;","&#949;",!0,"epsilon"],["&zeta;","&#950;",!0,"zeta"],["&eta;","&#951;",!0,"eta"],["&theta;","&#952;",!0,"theta"],["&iota;","&#953;",!0,"iota"],["&kappa;","&#954;",!0,"kappa"],["&lambda;","&#955;",!0,"lambda"],["&mu;","&#956;",!0,"mu"],["&nu;","&#957;",!0,"nu"],["&xi;","&#958;",!0,"xi"],["&omicron;","&#959;",!0,"omicron"],["&pi;","&#960;",!0,"pi"],["&rho;","&#961;",!0,"rho"],["&sigmaf;","&#962;",!0,"final sigma"],["&sigma;","&#963;",!0,"sigma"],["&tau;","&#964;",!0,"tau"],["&upsilon;","&#965;",!0,"upsilon"],["&phi;","&#966;",!0,"phi"],["&chi;","&#967;",!0,"chi"],["&psi;","&#968;",!0,"psi"],["&omega;","&#969;",!0,"omega"],["&alefsym;","&#8501;",!1,"alef symbol"],["&piv;","&#982;",!1,"pi symbol"],["&real;","&#8476;",!1,"real part symbol"],["&thetasym;","&#977;",!1,"theta symbol"],["&upsih;","&#978;",!1,"upsilon - hook symbol"],["&weierp;","&#8472;",!1,"Weierstrass p"],["&image;","&#8465;",!1,"imaginary part"],["&larr;","&#8592;",!0,"leftwards arrow"],["&uarr;","&#8593;",!0,"upwards arrow"],["&rarr;","&#8594;",!0,"rightwards arrow"],["&darr;","&#8595;",!0,"downwards arrow"],["&harr;","&#8596;",!0,"left right arrow"],["&crarr;","&#8629;",!1,"carriage return"],["&lArr;","&#8656;",!1,"leftwards double arrow"],["&uArr;","&#8657;",!1,"upwards double arrow"],["&rArr;","&#8658;",!1,"rightwards double arrow"],["&dArr;","&#8659;",!1,"downwards double arrow"],["&hArr;","&#8660;",!1,"left right double arrow"],["&there4;","&#8756;",!1,"therefore"],["&sub;","&#8834;",!1,"subset of"],["&sup;","&#8835;",!1,"superset of"],["&nsub;","&#8836;",!1,"not a subset of"],["&sube;","&#8838;",!1,"subset of or equal to"],["&supe;","&#8839;",!1,"superset of or equal to"],["&oplus;","&#8853;",!1,"circled plus"],["&otimes;","&#8855;",!1,"circled times"],["&perp;","&#8869;",!1,"perpendicular"],["&sdot;","&#8901;",!1,"dot operator"],["&lceil;","&#8968;",!1,"left ceiling"],["&rceil;","&#8969;",!1,"right ceiling"],["&lfloor;","&#8970;",!1,"left floor"],["&rfloor;","&#8971;",!1,"right floor"],["&lang;","&#9001;",!1,"left-pointing angle bracket"],["&rang;","&#9002;",!1,"right-pointing angle bracket"],["&loz;","&#9674;",!0,"lozenge"],["&spades;","&#9824;",!1,"black spade suit"],["&clubs;","&#9827;",!0,"black club suit"],["&hearts;","&#9829;",!0,"black heart suit"],["&diams;","&#9830;",!0,"black diamond suit"],["&ensp;","&#8194;",!1,"en space"],["&emsp;","&#8195;",!1,"em space"],["&thinsp;","&#8201;",!1,"thin space"],["&zwnj;","&#8204;",!1,"zero width non-joiner"],["&zwj;","&#8205;",!1,"zero width joiner"],["&lrm;","&#8206;",!1,"left-to-right mark"],["&rlm;","&#8207;",!1,"right-to-left mark"],["&shy;","&#173;",!1,"soft hyphen"]];tinyMCEPopup.onInit.add(function(){tinyMCEPopup.dom.setHTML("charmapView",renderCharMapHTML())}),tinyMCEPopup.requireLangPack();var detail=50,strhex="0123456789abcdef",i,isMouseDown=!1,isMouseOver=!1,colors=["#000000","#000033","#000066","#000099","#0000cc","#0000ff","#330000","#330033","#330066","#330099","#3300cc","#3300ff","#660000","#660033","#660066","#660099","#6600cc","#6600ff","#990000","#990033","#990066","#990099","#9900cc","#9900ff","#cc0000","#cc0033","#cc0066","#cc0099","#cc00cc","#cc00ff","#ff0000","#ff0033","#ff0066","#ff0099","#ff00cc","#ff00ff","#003300","#003333","#003366","#003399","#0033cc","#0033ff","#333300","#333333","#333366","#333399","#3333cc","#3333ff","#663300","#663333","#663366","#663399","#6633cc","#6633ff","#993300","#993333","#993366","#993399","#9933cc","#9933ff","#cc3300","#cc3333","#cc3366","#cc3399","#cc33cc","#cc33ff","#ff3300","#ff3333","#ff3366","#ff3399","#ff33cc","#ff33ff","#006600","#006633","#006666","#006699","#0066cc","#0066ff","#336600","#336633","#336666","#336699","#3366cc","#3366ff","#666600","#666633","#666666","#666699","#6666cc","#6666ff","#996600","#996633","#996666","#996699","#9966cc","#9966ff","#cc6600","#cc6633","#cc6666","#cc6699","#cc66cc","#cc66ff","#ff6600","#ff6633","#ff6666","#ff6699","#ff66cc","#ff66ff","#009900","#009933","#009966","#009999","#0099cc","#0099ff","#339900","#339933","#339966","#339999","#3399cc","#3399ff","#669900","#669933","#669966","#669999","#6699cc","#6699ff","#999900","#999933","#999966","#999999","#9999cc","#9999ff","#cc9900","#cc9933","#cc9966","#cc9999","#cc99cc","#cc99ff","#ff9900","#ff9933","#ff9966","#ff9999","#ff99cc","#ff99ff","#00cc00","#00cc33","#00cc66","#00cc99","#00cccc","#00ccff","#33cc00","#33cc33","#33cc66","#33cc99","#33cccc","#33ccff","#66cc00","#66cc33","#66cc66","#66cc99","#66cccc","#66ccff","#99cc00","#99cc33","#99cc66","#99cc99","#99cccc","#99ccff","#cccc00","#cccc33","#cccc66","#cccc99","#cccccc","#ccccff","#ffcc00","#ffcc33","#ffcc66","#ffcc99","#ffcccc","#ffccff","#00ff00","#00ff33","#00ff66","#00ff99","#00ffcc","#00ffff","#33ff00","#33ff33","#33ff66","#33ff99","#33ffcc","#33ffff","#66ff00","#66ff33","#66ff66","#66ff99","#66ffcc","#66ffff","#99ff00","#99ff33","#99ff66","#99ff99","#99ffcc","#99ffff","#ccff00","#ccff33","#ccff66","#ccff99","#ccffcc","#ccffff","#ffff00","#ffff33","#ffff66","#ffff99","#ffffcc","#ffffff"],named={"#F0F8FF":"AliceBlue","#FAEBD7":"AntiqueWhite","#00FFFF":"Aqua","#7FFFD4":"Aquamarine","#F0FFFF":"Azure","#F5F5DC":"Beige","#FFE4C4":"Bisque","#000000":"Black","#FFEBCD":"BlanchedAlmond","#0000FF":"Blue","#8A2BE2":"BlueViolet","#A52A2A":"Brown","#DEB887":"BurlyWood","#5F9EA0":"CadetBlue","#7FFF00":"Chartreuse","#D2691E":"Chocolate","#FF7F50":"Coral","#6495ED":"CornflowerBlue","#FFF8DC":"Cornsilk","#DC143C":"Crimson","#00FFFF":"Cyan","#00008B":"DarkBlue","#008B8B":"DarkCyan","#B8860B":"DarkGoldenRod","#A9A9A9":"DarkGray","#A9A9A9":"DarkGrey","#006400":"DarkGreen","#BDB76B":"DarkKhaki","#8B008B":"DarkMagenta","#556B2F":"DarkOliveGreen","#FF8C00":"Darkorange","#9932CC":"DarkOrchid","#8B0000":"DarkRed","#E9967A":"DarkSalmon","#8FBC8F":"DarkSeaGreen","#483D8B":"DarkSlateBlue","#2F4F4F":"DarkSlateGray","#2F4F4F":"DarkSlateGrey","#00CED1":"DarkTurquoise","#9400D3":"DarkViolet","#FF1493":"DeepPink","#00BFFF":"DeepSkyBlue","#696969":"DimGray","#696969":"DimGrey","#1E90FF":"DodgerBlue","#B22222":"FireBrick","#FFFAF0":"FloralWhite","#228B22":"ForestGreen","#FF00FF":"Fuchsia","#DCDCDC":"Gainsboro","#F8F8FF":"GhostWhite","#FFD700":"Gold","#DAA520":"GoldenRod","#808080":"Gray","#808080":"Grey","#008000":"Green","#ADFF2F":"GreenYellow","#F0FFF0":"HoneyDew","#FF69B4":"HotPink","#CD5C5C":"IndianRed","#4B0082":"Indigo","#FFFFF0":"Ivory","#F0E68C":"Khaki","#E6E6FA":"Lavender","#FFF0F5":"LavenderBlush","#7CFC00":"LawnGreen","#FFFACD":"LemonChiffon","#ADD8E6":"LightBlue","#F08080":"LightCoral","#E0FFFF":"LightCyan","#FAFAD2":"LightGoldenRodYellow","#D3D3D3":"LightGray","#D3D3D3":"LightGrey","#90EE90":"LightGreen","#FFB6C1":"LightPink","#FFA07A":"LightSalmon","#20B2AA":"LightSeaGreen","#87CEFA":"LightSkyBlue","#778899":"LightSlateGray","#778899":"LightSlateGrey","#B0C4DE":"LightSteelBlue","#FFFFE0":"LightYellow","#00FF00":"Lime","#32CD32":"LimeGreen","#FAF0E6":"Linen","#FF00FF":"Magenta","#800000":"Maroon","#66CDAA":"MediumAquaMarine","#0000CD":"MediumBlue","#BA55D3":"MediumOrchid","#9370D8":"MediumPurple","#3CB371":"MediumSeaGreen","#7B68EE":"MediumSlateBlue","#00FA9A":"MediumSpringGreen","#48D1CC":"MediumTurquoise","#C71585":"MediumVioletRed","#191970":"MidnightBlue","#F5FFFA":"MintCream","#FFE4E1":"MistyRose","#FFE4B5":"Moccasin","#FFDEAD":"NavajoWhite","#000080":"Navy","#FDF5E6":"OldLace","#808000":"Olive","#6B8E23":"OliveDrab","#FFA500":"Orange","#FF4500":"OrangeRed","#DA70D6":"Orchid","#EEE8AA":"PaleGoldenRod","#98FB98":"PaleGreen","#AFEEEE":"PaleTurquoise","#D87093":"PaleVioletRed","#FFEFD5":"PapayaWhip","#FFDAB9":"PeachPuff","#CD853F":"Peru","#FFC0CB":"Pink","#DDA0DD":"Plum","#B0E0E6":"PowderBlue","#800080":"Purple","#FF0000":"Red","#BC8F8F":"RosyBrown","#4169E1":"RoyalBlue","#8B4513":"SaddleBrown","#FA8072":"Salmon","#F4A460":"SandyBrown","#2E8B57":"SeaGreen","#FFF5EE":"SeaShell","#A0522D":"Sienna","#C0C0C0":"Silver","#87CEEB":"SkyBlue","#6A5ACD":"SlateBlue","#708090":"SlateGray","#708090":"SlateGrey","#FFFAFA":"Snow","#00FF7F":"SpringGreen","#4682B4":"SteelBlue","#D2B48C":"Tan","#008080":"Teal","#D8BFD8":"Thistle","#FF6347":"Tomato","#40E0D0":"Turquoise","#EE82EE":"Violet","#F5DEB3":"Wheat","#FFFFFF":"White","#F5F5F5":"WhiteSmoke","#FFFF00":"Yellow","#9ACD32":"YellowGreen"};tinyMCEPopup.onInit.add(init);var ImageDialog={preInit:function(){var a;tinyMCEPopup.requireLangPack(),(a=tinyMCEPopup.getParam("external_image_list_url"))&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(a)+'"></script>')},init:function(){var a=document.forms[0],b=tinyMCEPopup.editor;document.getElementById("srcbrowsercontainer").innerHTML=getBrowserHTML("srcbrowser","src","image","theme_advanced_image"),isVisible("srcbrowser")&&(document.getElementById("src").style.width="180px"),e=b.selection.getNode(),this.fillFileList("image_list","tinyMCEImageList"),e.nodeName=="IMG"&&(a.src.value=b.dom.getAttrib(e,"src"),a.alt.value=b.dom.getAttrib(e,"alt"),a.border.value=this.getAttrib(e,"border"),a.vspace.value=this.getAttrib(e,"vspace"),a.hspace.value=this.getAttrib(e,"hspace"),a.width.value=b.dom.getAttrib(e,"width"),a.height.value=b.dom.getAttrib(e,"height"),a.insert.value=b.getLang("update"),this.styleVal=b.dom.getAttrib(e,"style"),selectByValue(a,"image_list",a.src.value),selectByValue(a,"align",this.getAttrib(e,"align")),this.updateStyle())},fillFileList:function(a,b){var c=tinyMCEPopup.dom,d=c.get(a),e,f;b=window[b],b&&b.length>0?(d.options[d.options.length]=new Option("",""),tinymce.each(b,function(a){d.options[d.options.length]=new Option(a[0],a[1])})):c.remove(c.getParent(a,"tr"))},update:function(){var a=document.forms[0],b=a.elements,c=tinyMCEPopup.editor,d={},e;tinyMCEPopup.restoreSelection();if(a.src.value===""){c.selection.getNode().nodeName=="IMG"&&(c.dom.remove(c.selection.getNode()),c.execCommand("mceRepaint")),tinyMCEPopup.close();return}c.settings.inline_styles?d.style=this.styleVal:d=tinymce.extend(d,{vspace:b.vspace.value,hspace:b.hspace.value,border:b.border.value,align:getSelectValue(a,"align")}),tinymce.extend(d,{src:a.src.value,alt:a.alt.value,width:a.width.value,height:a.height.value}),e=c.selection.getNode(),e&&e.nodeName=="IMG"?c.dom.setAttribs(e,d):(c.execCommand("mceInsertContent",!1,'<img id="__mce_tmp" />',{skip_undo:1}),c.dom.setAttribs("__mce_tmp",d),c.dom.setAttrib("__mce_tmp","id",""),c.undoManager.add()),tinyMCEPopup.close()},updateStyle:function(){var a=tinyMCEPopup.dom,b,c,d=document.forms[0];tinyMCEPopup.editor.settings.inline_styles&&(b=tinyMCEPopup.dom.parseStyle(this.styleVal),c=getSelectValue(d,"align"),c?c=="left"||c=="right"?(b["float"]=c,delete b["vertical-align"]):(b["vertical-align"]=c,delete b["float"]):(delete b["float"],delete b["vertical-align"]),c=d.border.value,c||c=="0"?c=="0"?b.border="0":b.border=c+"px solid black":delete b.border,c=d.hspace.value,c?(delete b.margin,b["margin-left"]=c+"px",b["margin-right"]=c+"px"):(delete b["margin-left"],delete b["margin-right"]),c=d.vspace.value,c?(delete b.margin,b["margin-top"]=c+"px",b["margin-bottom"]=c+"px"):(delete b["margin-top"],delete b["margin-bottom"]),b=tinyMCEPopup.dom.parseStyle(a.serializeStyle(b),"img"),this.styleVal=a.serializeStyle(b,"img"))},getAttrib:function(a,b){var c=tinyMCEPopup.editor,d=c.dom,e,f;if(c.settings.inline_styles)switch(b){case"align":if(e=d.getStyle(a,"float"))return e;if(e=d.getStyle(a,"vertical-align"))return e;break;case"hspace":e=d.getStyle(a,"margin-left"),f=d.getStyle(a,"margin-right");if(e&&e==f)return parseInt(e.replace(/[^0-9]/g,""));break;case"vspace":e=d.getStyle(a,"margin-top"),f=d.getStyle(a,"margin-bottom");if(e&&e==f)return parseInt(e.replace(/[^0-9]/g,""));break;case"border":e=0,tinymce.each(["top","right","bottom","left"],function(b){b=d.getStyle(a,"border-"+b+"-width");if(!b||b!=e&&e!==0)return e=0,!1;b&&(e=b)});if(e)return parseInt(e.replace(/[^0-9]/g,""))}return(e=d.getAttrib(a,b))?e:""},resetImageData:function(){var a=document.forms[0];a.width.value=a.height.value=""},updateImageData:function(){var a=document.forms[0],b=ImageDialog;a.width.value==""&&(a.width.value=b.preloadImg.width),a.height.value==""&&(a.height.value=b.preloadImg.height)},getImageData:function(){var a=document.forms[0];this.preloadImg=new Image,this.preloadImg.onload=this.updateImageData,this.preloadImg.onerror=this.resetImageData,this.preloadImg.src=tinyMCEPopup.editor.documentBaseURI.toAbsolute(a.src.value)}};ImageDialog.preInit(),tinyMCEPopup.onInit.add(ImageDialog.init,ImageDialog),tinyMCEPopup.requireLangPack();var LinkDialog={preInit:function(){var a;(a=tinyMCEPopup.getParam("external_link_list_url"))&&document.write('<script language="javascript" type="text/javascript" src="'+tinyMCEPopup.editor.documentBaseURI.toAbsolute(a)+'"></script>')},init:function(){var a=document.forms[0],b=tinyMCEPopup.editor;document.getElementById("hrefbrowsercontainer").innerHTML=getBrowserHTML("hrefbrowser","href","file","theme_advanced_link"),isVisible("hrefbrowser")&&(document.getElementById("href").style.width="180px"),this.fillClassList("class_list"),this.fillFileList("link_list","tinyMCELinkList"),this.fillTargetList("target_list");if(e=b.dom.getParent(b.selection.getNode(),"A"))a.href.value=b.dom.getAttrib(e,"href"),a.linktitle.value=b.dom.getAttrib(e,"title"),a.insert.value=b.getLang("update"),selectByValue(a,"link_list",a.href.value),selectByValue(a,"target_list",b.dom.getAttrib(e,"target")),selectByValue(a,"class_list",b.dom.getAttrib(e,"class"))},update:function(){var a=document.forms[0],b=tinyMCEPopup.editor,c,d;tinyMCEPopup.restoreSelection(),c=b.dom.getParent(b.selection.getNode(),"A");if(!a.href.value&&c){tinyMCEPopup.execCommand("mceBeginUndoLevel"),d=b.selection.getBookmark(),b.dom.remove(c,1),b.selection.moveToBookmark(d),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close();return}tinyMCEPopup.execCommand("mceBeginUndoLevel"),c==null?(b.getDoc().execCommand("unlink",!1,null),tinyMCEPopup.execCommand("CreateLink",!1,"#mce_temp_url#",{skip_undo:1}),tinymce.each(b.dom.select("a"),function(d){b.dom.getAttrib(d,"href")=="#mce_temp_url#"&&(c=d,b.dom.setAttribs(c,{href:a.href.value,title:a.linktitle.value,target:a.target_list?getSelectValue(a,"target_list"):null,"class":a.class_list?getSelectValue(a,"class_list"):null}))})):b.dom.setAttribs(c,{href:a.href.value,title:a.linktitle.value,target:a.target_list?getSelectValue(a,"target_list"):null,"class":a.class_list?getSelectValue(a,"class_list"):null});if(c.childNodes.length!=1||c.firstChild.nodeName!="IMG")b.focus(),b.selection.select(c),b.selection.collapse(0),tinyMCEPopup.storeSelection();tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()},checkPrefix:function(a){a.value&&Validator.isEmail(a)&&!/^\s*mailto:/i.test(a.value)&&confirm(tinyMCEPopup.getLang("advanced_dlg.link_is_email"))&&(a.value="mailto:"+a.value),/^\s*www\./i.test(a.value)&&confirm(tinyMCEPopup.getLang("advanced_dlg.link_is_external"))&&(a.value="http://"+a.value)},fillFileList:function(a,b){var c=tinyMCEPopup.dom,d=c.get(a),e,f;b=window[b],b&&b.length>0?(d.options[d.options.length]=new Option("",""),tinymce.each(b,function(a){d.options[d.options.length]=new Option(a[0],a[1])})):c.remove(c.getParent(a,"tr"))},fillClassList:function(a){var b=tinyMCEPopup.dom,c=b.get(a),d,e;(d=tinyMCEPopup.getParam("theme_advanced_styles"))?(e=[],tinymce.each(d.split(";"),function(a){var b=a.split("=");e.push({title:b[0],"class":b[1]})})):e=tinyMCEPopup.editor.dom.getClasses(),e.length>0?(c.options[c.options.length]=new Option(tinyMCEPopup.getLang("not_set"),""),tinymce.each(e,function(a){c.options[c.options.length]=new Option(a.title||a["class"],a["class"])})):b.remove(b.getParent(a,"tr"))},fillTargetList:function(a){var b=tinyMCEPopup.dom,c=b.get(a),d;c.options[c.options.length]=new Option(tinyMCEPopup.getLang("not_set"),""),c.options[c.options.length]=new Option(tinyMCEPopup.getLang("advanced_dlg.link_target_same"),"_self"),c.options[c.options.length]=new Option(tinyMCEPopup.getLang("advanced_dlg.link_target_blank"),"_blank"),(d=tinyMCEPopup.getParam("theme_advanced_link_targets"))&&tinymce.each(d.split(","),function(a){a=a.split("="),c.options[c.options.length]=new Option(a[0],a[1])})}};LinkDialog.preInit(),tinyMCEPopup.onInit.add(LinkDialog.init,LinkDialog),tinyMCEPopup.requireLangPack(),tinyMCEPopup.onInit.add(onLoadInit);var wHeight=0,wWidth=0,owHeight=0,owWidth=0;tinyMCE.addI18n("en.advanced",{style_select:"Styles",font_size:"Font size",fontdefault:"Font family",block:"Format",paragraph:"Paragraph",div:"Div",address:"Address",pre:"Preformatted",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",blockquote:"Blockquote",code:"Code",samp:"Code sample",dt:"Definition term ",dd:"Definition description",bold_desc:"Bold (Ctrl+B)",italic_desc:"Italic (Ctrl+I)",underline_desc:"Underline (Ctrl+U)",striketrough_desc:"Strikethrough",justifyleft_desc:"Align left",justifycenter_desc:"Align center",justifyright_desc:"Align right",justifyfull_desc:"Align full",bullist_desc:"Unordered list",numlist_desc:"Ordered list",outdent_desc:"Outdent",indent_desc:"Indent",undo_desc:"Undo (Ctrl+Z)",redo_desc:"Redo (Ctrl+Y)",link_desc:"Insert/edit link",unlink_desc:"Unlink",image_desc:"Insert/edit image",cleanup_desc:"Cleanup messy code",code_desc:"Edit HTML Source",sub_desc:"Subscript",sup_desc:"Superscript",hr_desc:"Insert horizontal ruler",removeformat_desc:"Remove formatting",custom1_desc:"Your custom description here",forecolor_desc:"Select text color",backcolor_desc:"Select background color",charmap_desc:"Insert custom character",visualaid_desc:"Toggle guidelines/invisible elements",anchor_desc:"Insert/edit anchor",cut_desc:"Cut",copy_desc:"Copy",paste_desc:"Paste",image_props_desc:"Image properties",newdocument_desc:"New document",help_desc:"Help",blockquote_desc:"Blockquote",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\r\nDo you want more information about this issue?",path:"Path",newdocument:"Are you sure you want clear all contents?",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X",more_colors:"More colors"}),tinyMCE.addI18n("en.advanced_dlg",{about_title:"About TinyMCE",about_general:"About",about_help:"Help",about_license:"License",about_plugins:"Plugins",about_plugin:"Plugin",about_author:"Author",about_version:"Version",about_loaded:"Loaded plugins",anchor_title:"Insert/edit anchor",anchor_name:"Anchor name",code_title:"HTML Source Editor",code_wordwrap:"Word wrap",colorpicker_title:"Select a color",colorpicker_picker_tab:"Picker",colorpicker_picker_title:"Color picker",colorpicker_palette_tab:"Palette",colorpicker_palette_title:"Palette colors",colorpicker_named_tab:"Named",colorpicker_named_title:"Named colors",colorpicker_color:"Color:",colorpicker_name:"Name:",charmap_title:"Select custom character",image_title:"Insert/edit image",image_src:"Image URL",image_alt:"Image description",image_list:"Image list",image_border:"Border",image_dimensions:"Dimensions",image_vspace:"Vertical space",image_hspace:"Horizontal space",image_align:"Alignment",image_align_baseline:"Baseline",image_align_top:"Top",image_align_middle:"Middle",image_align_bottom:"Bottom",image_align_texttop:"Text top",image_align_textbottom:"Text bottom",image_align_left:"Left",image_align_right:"Right",link_title:"Insert/edit link",link_url:"Link URL",link_target:"Target",link_target_same:"Open link in the same window",link_target_blank:"Open link in a new window",link_titlefield:"Title",link_is_email:"The URL you entered seems to be an email address, do you want to add the required mailto: prefix?",link_is_external:"The URL you entered seems to external link, do you want to add the required http:// prefix?",link_list:"Link list"}),function(){var a=tinymce.DOM;tinymce.ThemeManager.requireLangPack("simple"),tinymce.create("tinymce.themes.SimpleTheme",{init:function(b,c){var d=this,e=["Bold","Italic","Underline","Strikethrough","InsertUnorderedList","InsertOrderedList"],f=b.settings;d.editor=b,b.onInit.add(function(){b.onNodeChange.add(function(a,b){tinymce.each(e,function(c){b.get(c.toLowerCase()).setActive(a.queryCommandState(c))})}),b.dom.loadCSS(c+"/skins/"+f.skin+"/content.css")}),a.loadCSS((f.editor_css?b.documentBaseURI.toAbsolute(f.editor_css):"")||c+"/skins/"+f.skin+"/ui.css")},renderUI:function(b){var c=this,d=b.targetNode,e,f,g=c.editor,h=g.controlManager,i;return d=a.insertAfter(a.create("span",{id:g.id+"_container","class":"mceEditor "+g.settings.skin+"SimpleSkin"}),d),d=i=a.add(d,"table",{cellPadding:0,cellSpacing:0,"class":"mceLayout"}),d=f=a.add(d,"tbody"),d=a.add(f,"tr"),d=e=a.add(a.add(d,"td"),"div",{"class":"mceIframeContainer"}),d=a.add(a.add(f,"tr",{"class":"last"}),"td",{"class":"mceToolbar mceLast",align:"center"}),f=c.toolbar=h.createToolbar("tools1"),f.add(h.createButton("bold",{title:"simple.bold_desc",cmd:"Bold"})),f.add(h.createButton("italic",{title:"simple.italic_desc",cmd:"Italic"})),f.add(h.createButton("underline",{title:"simple.underline_desc",cmd:"Underline"})),f.add(h.createButton("strikethrough",{title:"simple.striketrough_desc",cmd:"Strikethrough"})),f.add(h.createSeparator()),f.add(h.createButton("undo",{title:"simple.undo_desc",cmd:"Undo"})),f.add(h.createButton("redo",{title:"simple.redo_desc",cmd:"Redo"})),f.add(h.createSeparator()),f.add(h.createButton("cleanup",{title:"simple.cleanup_desc",cmd:"mceCleanup"})),f.add(h.createSeparator()),f.add(h.createButton("insertunorderedlist",{title:"simple.bullist_desc",cmd:"InsertUnorderedList"})),f.add(h.createButton("insertorderedlist",{title:"simple.numlist_desc",cmd:"InsertOrderedList"})),f.renderTo(d),{iframeContainer:e,editorContainer:g.id+"_container",sizeContainer:i,deltaHeight:-20}},getInfo:function(){return{longname:"Simple theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.ThemeManager.add("simple",tinymce.themes.SimpleTheme)}(),function(){var a=tinymce.DOM;tinymce.ThemeManager.requireLangPack("simple"),tinymce.create("tinymce.themes.SimpleTheme",{init:function(b,c){var d=this,e=["Bold","Italic","Underline","Strikethrough","InsertUnorderedList","InsertOrderedList"],f=b.settings;d.editor=b,b.onInit.add(function(){b.onNodeChange.add(function(a,b){tinymce.each(e,function(c){b.get(c.toLowerCase()).setActive(a.queryCommandState(c))})}),b.dom.loadCSS(c+"/skins/"+f.skin+"/content.css")}),a.loadCSS((f.editor_css?b.documentBaseURI.toAbsolute(f.editor_css):"")||c+"/skins/"+f.skin+"/ui.css")},renderUI:function(b){var c=this,d=b.targetNode,e,f,g=c.editor,h=g.controlManager,i;return d=a.insertAfter(a.create("span",{id:g.id+"_container","class":"mceEditor "+g.settings.skin+"SimpleSkin"}),d),d=i=a.add(d,"table",{cellPadding:0,cellSpacing:0,"class":"mceLayout"}),d=f=a.add(d,"tbody"),d=a.add(f,"tr"),d=e=a.add(a.add(d,"td"),"div",{"class":"mceIframeContainer"}),d=a.add(a.add(f,"tr",{"class":"last"}),"td",{"class":"mceToolbar mceLast",align:"center"}),f=c.toolbar=h.createToolbar("tools1"),f.add(h.createButton("bold",{title:"simple.bold_desc",cmd:"Bold"})),f.add(h.createButton("italic",{title:"simple.italic_desc",cmd:"Italic"})),f.add(h.createButton("underline",{title:"simple.underline_desc",cmd:"Underline"})),f.add(h.createButton("strikethrough",{title:"simple.striketrough_desc",cmd:"Strikethrough"})),f.add(h.createSeparator()),f.add(h.createButton("undo",{title:"simple.undo_desc",cmd:"Undo"})),f.add(h.createButton("redo",{title:"simple.redo_desc",cmd:"Redo"})),f.add(h.createSeparator()),f.add(h.createButton("cleanup",{title:"simple.cleanup_desc",cmd:"mceCleanup"})),f.add(h.createSeparator()),f.add(h.createButton("insertunorderedlist",{title:"simple.bullist_desc",cmd:"InsertUnorderedList"})),f.add(h.createButton("insertorderedlist",{title:"simple.numlist_desc",cmd:"InsertOrderedList"})),f.renderTo(d),{iframeContainer:e,editorContainer:g.id+"_container",sizeContainer:i,deltaHeight:-20}},getInfo:function(){return{longname:"Simple theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.ThemeManager.add("simple",tinymce.themes.SimpleTheme)}(),tinyMCE.addI18n("en.simple",{bold_desc:"Bold (Ctrl+B)",italic_desc:"Italic (Ctrl+I)",underline_desc:"Underline (Ctrl+U)",striketrough_desc:"Strikethrough",bullist_desc:"Unordered list",numlist_desc:"Ordered list",undo_desc:"Undo (Ctrl+Z)",redo_desc:"Redo (Ctrl+Y)",cleanup_desc:"Cleanup messy code"}),function(a){var b=/^\s*|\s*$/g,c,d={majorVersion:"3",minorVersion:"3.8",releaseDate:"2010-06-30",_init:function(){function l(a){return a.src&&/tiny_mce(|_gzip|_jquery|_prototype)(_dev|_src)?.js/.test(a.src)?(/_(src|dev)\.js/g.test(a.src)&&(b.suffix="_src"),(j=a.src.indexOf("?"))!=-1&&(b.query=a.src.substring(j+1)),b.baseURL=a.src.substring(0,a.src.lastIndexOf("/")),i&&b.baseURL.indexOf("://")==-1&&b.baseURL.indexOf("/")!==0&&(b.baseURL=i+b.baseURL),b.baseURL):null}var b=this,c=document,d=navigator,e=d.userAgent,f,g,h,i,j,k;b.isOpera=a.opera&&opera.buildNumber,b.isWebKit=/WebKit/.test(e),b.isIE=!b.isWebKit&&!b.isOpera&&/MSIE/gi.test(e)&&/Explorer/gi.test(d.appName),b.isIE6=b.isIE&&/MSIE [56]/.test(e),b.isGecko=!b.isWebKit&&/Gecko/.test(e),b.isMac=e.indexOf("Mac")!=-1,b.isAir=/adobeair/i.test(e),b.isIDevice=/(iPad|iPhone)/.test(e);if(a.tinyMCEPreInit){b.suffix=tinyMCEPreInit.suffix,b.baseURL=tinyMCEPreInit.base,b.query=tinyMCEPreInit.query;return}b.suffix="",g=c.getElementsByTagName("base");for(f=0;f<g.length;f++)if(k=g[f].href)/^https?:\/\/[^\/]+$/.test(k)&&(k+="/"),i=k?k.match(/.*\//)[0]:"";g=c.getElementsByTagName("script");for(f=0;f<g.length;f++)if(l(g[f]))return;h=c.getElementsByTagName("head")[0];if(h){g=h.getElementsByTagName("script");for(f=0;f<g.length;f++)if(l(g[f]))return}return},is:function(a,b){return b?b=="array"&&a.hasOwnProperty&&a instanceof Array?!0:typeof a==b:a!==c},each:function(a,b,d){var e,f;if(!a)return 0;d=d||a;if(a.length!==c){for(e=0,f=a.length;e<f;e++)if(b.call(d,a[e],e,a)===!1)return 0}else for(e in a)if(a.hasOwnProperty(e)&&b.call(d,a[e],e,a)===!1)return 0;return 1},trim:function(a){return(a?""+a:"").replace(b,"")},create:function(a,b){var c=this,d,e,f,g,h,i=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),f=a[3].match(/(^|\.)(\w+)$/i)[2],e=c.createNS(a[3].replace(/\.\w+$/,""));if(e[f])return;if(a[2]=="static"){e[f]=b,this.onCreate&&this.onCreate(a[2],a[3],e[f]);return}b[f]||(b[f]=function(){},i=1),e[f]=b[f],c.extend(e[f].prototype,b),a[5]&&(d=c.resolve(a[5]).prototype,g=a[5].match(/\.(\w+)$/i)[1],h=e[f],i?e[f]=function(){return d[g].apply(this,arguments)}:e[f]=function(){return this.parent=d[g],h.apply(this,arguments)},e[f].prototype[f]=e[f],c.each(d,function(a,b){e[f].prototype[b]=d[b]}),c.each(b,function(a,b){d[b]?e[f].prototype[b]=function(){return this.parent=d[b],a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),c.each(b["static"],function(a,b){e[f][b]=a}),this.onCreate&&this.onCreate(a[2],a[3],e[f].prototype)},walk:function(a,b,c,e){e=e||this,a&&(c&&(a=a[c]),d.each(a,function(a,f){if(b.call(e,a,f,c)===!1)return!1;d.walk(a,b,c,e)}))},createNS:function(b,c){var d,e;c=c||a,b=b.split(".");for(d=0;d<b.length;d++)e=b[d],c[e]||(c[e]={}),c=c[e];return c},resolve:function(b,c){var d,e;c=c||a,b=b.split(".");for(d=0,e=b.length;d<e;d++){c=c[b[d]];if(!c)break}return c},addUnload:function(b,c){var d=this;b={func:b,scope:c||this};if(!d.unloads){function e(){var b=d.unloads,c,h;if(b){for(h in b)c=b[h],c&&c.func&&c.func.call(c.scope,1);a.detachEvent?(a.detachEvent("onbeforeunload",f),a.detachEvent("onunload",e)):a.removeEventListener&&a.removeEventListener("unload",e,!1),d.unloads=c=b=w=e=0,a.CollectGarbage&&CollectGarbage()}}function f(){var b=document;if(b.readyState=="interactive"){function c(){b.detachEvent("onstop",c),e&&e(),b=0}b&&b.attachEvent("onstop",c),a.setTimeout(function(){b&&b.detachEvent("onstop",c)},0)}}a.attachEvent?(a.attachEvent("onunload",e),a.attachEvent("onbeforeunload",f)):a.addEventListener&&a.addEventListener("unload",e,!1),d.unloads=[b]}else d.unloads.push(b);return b},removeUnload:function(a){var b=this.unloads,c=null;return d.each(b,function(d,f){if(d&&d.func==a)return b.splice(f,1),c=a,!1}),c},explode:function(a,b){return a?d.map(a.split(b||","),d.trim):a},_addVer:function(a){var b;return this.query?(b=(a.indexOf("?")==-1?"?":"&")+this.query,a.indexOf("#")==-1?a+b:a.replace("#",b+"#")):a}};d._init(),a.tinymce=a.tinyMCE=d}(window),function(a,b){var c=b.is,d=/^(href|src|style)$/i,e;if(!a)return alert("Load jQuery first!");b.$=a,b.adapter={patchEditor:function(b){function f(a,b){var d=this;return b&&d.removeAttr("_mce_style"),c.css.apply(d,arguments)}function g(a,f){var g=this;return d.test(a)?f!==e?(g.each(function(c,d){b.dom.setAttrib(d,a,f)}),g):g.attr("_mce_"+a):c.attr.apply(g,arguments)}function h(a){return function(c){return c&&(c=b.dom.processHTML(c)),a.call(this,c)}}function i(a){return a.css!==f&&(a.css=f,a.attr=g,a.html=h(c.html),a.append=h(c.append),a.prepend=h(c.prepend),a.after=h(c.after),a.before=h(c.before),a.replaceWith=h(c.replaceWith),a.tinymce=b,a.pushStack=
function(){return i(c.pushStack.apply(this,arguments))}),a}var c=a.fn;b.$=function(c,d){var e=b.getDoc();return i(a(c||e,e||d))}}},b.extend=a.extend,b.extend(b,{map:a.map,grep:function(b,c){return a.grep(b,c||function(){return 1})},inArray:function(b,c){return a.inArray(c,b||[])}});var f={"tinymce.dom.DOMUtils":{select:function(b,c){var d=this;return a.find(b,d.get(c)||d.get(d.settings.root_element)||d.doc,[])},is:function(b,c){return a(this.get(b)).is(c)}}};b.onCreate=function(a,c,d){b.extend(d,f[c])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this,this.listeners=[]},add:function(a,b){return this.listeners.push({cb:a,scope:b||this.scope}),a},addToTop:function(a,b){return this.listeners.unshift({cb:a,scope:b||this.scope}),a},remove:function(a){var b=this.listeners,c=null;return tinymce.each(b,function(d,e){if(a==d.cb)return c=a,b.splice(e,1),!1}),c},dispatch:function(){var a,b=arguments,c,d=this.listeners,e;for(c=0;c<d.length;c++){e=d[c],a=e.cb.apply(e.scope,b);if(a===!1)break}return a}}),function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(b,c){var d=this,e,f,g;b=tinymce.trim(b),c=d.settings=c||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(b)||/^\s*#/.test(b)){d.source=b;return}b.indexOf("/")===0&&b.indexOf("//")!==0&&(b=(c.base_uri?c.base_uri.protocol||"http":"http")+"://mce_host"+b),/^\w*:?\/\//.test(b)||(b=(c.base_uri.protocol||"http")+"://mce_host"+d.toAbsPath(c.base_uri.path,b)),b=b.replace(/@@/g,"(mce_at)"),b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b),a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(a,c){var e=b[c];e&&(e=e.replace(/\(mce_at\)/g,"@@")),d[a]=e});if(g=c.base_uri){d.protocol||(d.protocol=g.protocol),d.userInfo||(d.userInfo=g.userInfo),!d.port&&d.host=="mce_host"&&(d.port=g.port);if(!d.host||d.host=="mce_host")d.host=g.host;d.source=""}},setPath:function(a){var b=this;a=/^(.*?)\/?(\w+)?$/.exec(a),b.path=a[0],b.directory=a[1],b.file=a[2],b.source="",b.getURI()},toRelative:function(a){var b=this,c;return a==="./"?a:(a=new tinymce.util.URI(a,{base_uri:b}),a.host!="mce_host"&&b.host!=a.host&&a.host||b.port!=a.port||b.protocol!=a.protocol?a.getURI():(c=b.toRelPath(b.path,a.path),a.query&&(c+="?"+a.query),a.anchor&&(c+="#"+a.anchor),c))},toAbsolute:function(a,b){var a=new tinymce.util.URI(a,{base_uri:this});return a.getURI(this.host==a.host&&this.protocol==a.protocol?b:0)},toRelPath:function(a,b){var c,d=0,e="",f,g;a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/");if(a.length>=c.length)for(f=0,g=a.length;f<g;f++)if(f>=c.length||a[f]!=c[f]){d=f+1;break}if(a.length<c.length)for(f=0,g=c.length;f<g;f++)if(f>=a.length||a[f]!=c[f]){d=f+1;break}if(d==1)return b;for(f=0,g=a.length-(d-1);f<g;f++)e+="../";for(f=d-1,g=c.length;f<g;f++)f!=d-1?e+="/"+c[f]:e+=c[f];return e},toAbsPath:function(b,c){var d,e=0,f=[],g,h;g=/\/$/.test(c)?"/":"",b=b.split("/"),c=c.split("/"),a(b,function(a){a&&f.push(a)}),b=f;for(d=c.length-1,f=[];d>=0;d--){if(c[d].length==0||c[d]==".")continue;if(c[d]==".."){e++;continue}if(e>0){e--;continue}f.push(c[d])}return d=b.length-e,d<=0?h=f.reverse().join("/"):h=b.slice(0,d).join("/")+"/"+f.reverse().join("/"),h.indexOf("/")!==0&&(h="/"+h),g&&h.lastIndexOf("/")!==h.length-1&&(h+=g),h},getURI:function(a){var b,c=this;if(!c.source||a)b="",a||(c.protocol&&(b+=c.protocol+"://"),c.userInfo&&(b+=c.userInfo+"@"),c.host&&(b+=c.host),c.port&&(b+=":"+c.port)),c.path&&(b+=c.path),c.query&&(b+="?"+c.query),c.anchor&&(b+="#"+c.anchor),c.source=b;return c.source}})}(),function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(b){var c=this.get(b),d;return c&&a(c.split("&"),function(a){a=a.split("="),d=d||{},d[unescape(a[0])]=unescape(a[1])}),d},setHash:function(b,c,d,e,f,g){var h="";a(c,function(a,b){h+=(h?"&":"")+escape(b)+"="+escape(a)}),this.set(b,h,d,e,f,g)},get:function(a){var b=document.cookie,c,d=a+"=",e;if(!b)return;e=b.indexOf("; "+d);if(e==-1){e=b.indexOf(d);if(e!=0)return null}else e+=2;return c=b.indexOf(";",e),c==-1&&(c=b.length),unescape(b.substring(e+d.length,c))},set:function(a,b,c,d,e,f){document.cookie=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+escape(d):"")+(e?"; domain="+e:"")+(f?"; secure":"")},remove:function(a,b){var c=new Date;c.setTime(c.getTime()-1e3),this.set(a,"",c,b,c)}})}(),tinymce.create("static tinymce.util.JSON",{serialize:function(a){var b,c,d=tinymce.util.JSON.serialize,e;if(a==null)return"null";e=typeof a;if(e=="string")return c="\bb\tt\nn\ff\rr\"\"''\\\\",'"'+a.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(a,d){return b=c.indexOf(d),b+1?"\\"+c.charAt(b+1):(a=d.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a)})+'"';if(e=="object"){if(a.hasOwnProperty&&a instanceof Array){for(b=0,c="[";b<a.length;b++)c+=(b>0?",":"")+d(a[b]);return c+"]"}c="{";for(b in a)c+=typeof a[b]!="function"?(c.length>1?',"':'"')+b+'":'+d(a[b]):"";return c+"}"}return""+a},parse:function(s){try{return eval("("+s+")")}catch(ex){}}}),tinymce.create("static tinymce.util.XHR",{send:function(a){function f(a){b=0;try{b=new ActiveXObject(a)}catch(c){}return b}var b,c,d=window,e=0;a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=a.async===!1?!1:!0,a.data=a.data||"",b=d.XMLHttpRequest?new XMLHttpRequest:f("Microsoft.XMLHTTP")||f("Msxml2.XMLHTTP");if(b){b.overrideMimeType&&b.overrideMimeType(a.content_type),b.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.content_type&&b.setRequestHeader("Content-Type",a.content_type),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(a.data);function g(){!a.async||b.readyState==4||e++>1e4?(a.success&&e<1e4&&b.status==200?a.success.call(a.success_scope,""+b.responseText,b,a):a.error&&a.error.call(a.error_scope,e>1e4?"TIMED_OUT":"GENERAL",b,a),b=null):d.setTimeout(g,10)}if(!a.async)return g();c=d.setTimeout(g,10)}}}),function(){var a=tinymce.extend,b=tinymce.util.JSON,c=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(b){this.settings=a({},b),this.count=0},send:function(d){var e=d.error,f=d.success;d=a(this.settings,d),d.success=function(a,c){a=b.parse(a),typeof a=="undefined"&&(a={error:"JSON Parse error."}),a.error?e.call(d.error_scope||d.scope,a.error,c):f.call(d.success_scope||d.scope,a.result)},d.error=function(a,b){e.call(d.error_scope||d.scope,a,b)},d.data=b.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params}),d.content_type="application/json",c.send(d)},"static":{sendRPC:function(a){return(new tinymce.util.JSONRequest).send(a)}}})}(),function(a){function n(a){var b={},c;a=a.split(",");for(c=a.length;c>=0;c--)b[a[c]]=1;return b}var b=a.each,c=a.is,d=a.isWebKit,e=a.isIE,f=/^(H[1-6R]|P|DIV|ADDRESS|PRE|FORM|T(ABLE|BODY|HEAD|FOOT|H|R|D)|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)$/,g=n("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),h=n("src,href,style,coords,shape"),i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},j=/[<>&\"]/g,k=/^([a-z0-9],?)+$/i,l=/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)(\s*\/?)>/g,m=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;a.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(c,d){var e=this,f;e.doc=c,e.win=window,e.files={},e.cssFlicker=!1,e.counter=0,e.boxModel=!a.isIE||c.compatMode=="CSS1Compat",e.stdMode=c.documentMode===8,e.settings=d=a.extend({keep_values:!1,hex_colors:1,process_html:1},d);if(a.isIE6)try{c.execCommand("BackgroundImageCache",!1,!0)}catch(g){e.cssFlicker=!0}d.valid_styles&&(e._styles={},b(d.valid_styles,function(b,c){e._styles[c]=a.explode(b)})),a.addUnload(e.destroy,e)},getRoot:function(){var a=this,b=a.settings;return b&&a.get(b.root_element)||a.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c=this,d;return a=c.get(a),b=c.getPos(a),d=c.getSize(a),{x:b.x,y:b.y,w:d.w,h:d.h}},getSize:function(a){var b=this,c,d;return a=b.get(a),c=b.getStyle(a,"width"),d=b.getStyle(a,"height"),c.indexOf("px")===-1&&(c=0),d.indexOf("px")===-1&&(d=0),{w:parseInt(c)||a.offsetWidth||a.clientWidth,h:parseInt(d)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,d,e){var f=this,g,h=f.settings,i=[];a=f.get(a),e=e===undefined,h.strict_root&&(d=d||f.getRoot()),c(b,"string")&&(g=b,b==="*"?b=function(a){return a.nodeType==1}:b=function(a){return f.is(a,g)});while(a){if(a==d||!a.nodeType||a.nodeType===9)break;if(!b||b(a)){if(!e)return a;i.push(a)}a=a.parentNode}return e?i:null},get:function(a){var b;if(a&&this.doc&&typeof a=="string"){b=a,a=this.doc.getElementById(a);if(a&&a.id!==b)return this.doc.getElementsByName(b)[1]}return a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},add:function(a,b,d,e,f){var g=this;return this.run(a,function(a){var h,i;return h=c(b,"string")?g.doc.createElement(b):b,g.setAttribs(h,d),e&&(e.nodeType?h.appendChild(e):g.setHTML(h,e)),f?h:a.appendChild(h)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(b,c,d){var e="",f=this,g;e+="<"+b;for(g in c)c.hasOwnProperty(g)&&(e+=" "+g+'="'+f.encode(c[g])+'"');return a.is(d)?e+">"+d+"</"+b+">":e+" />"},remove:function(b,c){return this.run(b,function(b){var d,e;d=b.parentNode;if(!d)return null;if(c)while(e=b.firstChild)!a.isIE||e.nodeType!==3||e.nodeValue?d.insertBefore(e,b):b.removeChild(e);return d.removeChild(b)})},setStyle:function(b,c,d){var f=this;return f.run(b,function(g){var h,i;h=g.style,c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),f.pixelStyles.test(c)&&(a.is(d,"number")||/^[\-0-9\.]+$/.test(d))&&(d+="px");switch(c){case"opacity":if(e){h.filter=d===""?"":"alpha(opacity="+d*100+")";if(!b.currentStyle||!b.currentStyle.hasLayout)h.display="inline-block"}h[c]=h["-moz-opacity"]=h["-khtml-opacity"]=d||"";break;case"float":e?h.styleFloat=d:h.cssFloat=d;break;default:h[c]=d||""}f.settings.update_styles&&f.setAttrib(g,"_mce_style")})},getStyle:function(a,b,c){a=this.get(a);if(!a)return!1;if(this.doc.defaultView&&c){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(d){return null}}return b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),b=="float"&&(b=e?"styleFloat":"cssFloat"),a.currentStyle&&c?a.currentStyle[b]:a.style[b]},setStyles:function(a,c){var d=this,e=d.settings,f;f=e.update_styles,e.update_styles=0,b(c,function(b,c){d.setStyle(a,c,b)}),e.update_styles=f,e.update_styles&&d.setAttrib(a,e.cssText)},setAttrib:function(a,d,e){var f=this;if(!a||!d)return;return f.settings.strict&&(d=d.toLowerCase()),this.run(a,function(a){var g=f.settings;switch(d){case"style":if(!c(e,"string")){b(e,function(b,c){f.setStyle(a,c,b)});return}g.keep_values&&(e&&!f._isRes(e)?a.setAttribute("_mce_style",e,2):a.removeAttribute("_mce_style",2)),a.style.cssText=e;break;case"class":a.className=e||"";break;case"src":case"href":g.keep_values&&(g.url_converter&&(e=g.url_converter.call(g.url_converter_scope||f,e,d,a)),f.setAttrib(a,"_mce_"+d,e,2));break;case"shape":a.setAttribute("_mce_style",e)}c(e)&&e!==null&&e.length!==0?a.setAttribute(d,""+e,2):a.removeAttribute(d,2)})},setAttribs:function(a,c){var d=this;return this.run(a,function(a){b(c,function(b,c){d.setAttrib(a,c,b)})})},getAttrib:function(a,b,f){var g,h=this;a=h.get(a);if(!a||a.nodeType!==1)return!1;c(f)||(f="");if(/^(src|href|style|coords|shape)$/.test(b)){g=a.getAttribute("_mce_"+b);if(g)return g}e&&h.props[b]&&(g=a[h.props[b]],g=g&&g.nodeValue?g.nodeValue:g),g||(g=a.getAttribute(b,2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b))return a[h.props[b]]===!0&&g===""?b:g?b:"";if(a.nodeName==="FORM"&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;b==="style"&&(g=g||a.style.cssText,g&&(g=h.serializeStyle(h.parseStyle(g),a.nodeName),h.settings.keep_values&&!h._isRes(g)&&a.setAttribute("_mce_style",g))),d&&b==="class"&&g&&(g=g.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(e)switch(b){case"rowspan":case"colspan":g===1&&(g="");break;case"size":if(g==="+0"||g===20||g===0)g="";break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":g===0&&(g="");break;case"hspace":g===-1&&(g="");break;case"maxlength":case"tabindex":if(g===32768||g===2147483647||g==="32768")g="";break;case"multiple":case"compact":case"noshade":case"nowrap":if(g===65535)return b;return f;case"shape":g=g.toLowerCase();break;default:b.indexOf("on")===0&&g&&(g=(""+g).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return g!==undefined&&g!==null&&g!==""?""+g:f},getPos:function(a,b){var c=this,d=0,f=0,g,h=c.doc,i;a=c.get(a),b=b||h.body;if(a){if(e&&!c.stdMode)return a=a.getBoundingClientRect(),g=c.boxModel?h.documentElement:h.body,d=c.getStyle(c.select("html")[0],"borderWidth"),d=(d=="medium"||c.boxModel&&!c.isIE6)&&2||d,{x:a.left+g.scrollLeft-d,y:a.top+g.scrollTop-d};i=a;while(i&&i!=b&&i.nodeType)d+=i.offsetLeft||0,f+=i.offsetTop||0,i=i.offsetParent;i=a.parentNode;while(i&&i!=b&&i.nodeType)d-=i.scrollLeft||0,f-=i.scrollTop||0,i=i.parentNode}return{x:d,y:f}},parseStyle:function(c){function h(a,b,c){var d,e,f,h;d=g[a+"-top"+b];if(!d)return;e=g[a+"-right"+b];if(d!=e)return;f=g[a+"-bottom"+b];if(e!=f)return;h=g[a+"-left"+b];if(f!=h)return;g[c]=h,delete g[a+"-top"+b],delete g[a+"-right"+b],delete g[a+"-bottom"+b],delete g[a+"-left"+b]}function i(a,b,c,d){var e;e=g[b];if(!e)return;e=g[c];if(!e)return;e=g[d];if(!e)return;g[a]=g[b]+" "+g[c]+" "+g[d],delete g[b],delete g[c],delete g[d]}var d=this,f=d.settings,g={};return c?(c=c.replace(/&(#?[a-z0-9]+);/g,"&$1_MCE_SEMI_"),b(c.split(";"),function(b){var c,e=[];b&&(b=b.replace(/_MCE_SEMI_/g,";"),b=b.replace(/url\([^\)]+\)/g,function(a){return e.push(a),"url("+e.length+")"}),b=b.split(":"),c=a.trim(b[1]),c=c.replace(/url\(([^\)]+)\)/g,function(a,b){return e[parseInt(b)-1]}),c=c.replace(/rgb\([^\)]+\)/g,function(a){return d.toHex(a)}),f.url_converter&&(c=c.replace(/url\([\'\"]?([^\)\'\"]+)[\'\"]?\)/g,function(a,b){return"url("+f.url_converter.call(f.url_converter_scope||d,d.decode(b),"style",null)+")"})),g[a.trim(b[0]).toLowerCase()]=c)}),h("border","","border"),h("border","-width","border-width"),h("border","-color","border-color"),h("border","-style","border-style"),h("padding","","padding"),h("margin","","margin"),i("border","border-width","border-style","border-color"),e&&g.border=="medium none"&&(g.border=""),g):g},serializeStyle:function(a,c){function f(a,b){if(b&&a){if(b.indexOf("-")===0)return;switch(b){case"font-weight":a==700&&(a="bold");break;case"color":case"background-color":a=a.toLowerCase()}e+=(e?" ":"")+b+": "+a+";"}}var d=this,e="";return c&&d._styles?(b(d._styles["*"],function(b){f(a[b],b)}),b(d._styles[c.toLowerCase()],function(b){f(a[b],b)})):b(a,f),e},loadCSS:function(c){var d=this,f=d.doc,g;c||(c=""),g=d.select("head")[0],b(c.split(","),function(b){var c;if(d.files[b])return;d.files[b]=!0,c=d.create("link",{rel:"stylesheet",href:a._addVer(b)}),e&&f.documentMode&&(c.onload=function(){f.recalc(),c.onload=null}),g.appendChild(c)})},addClass:function(a,b){return this.run(a,function(a){var c;return b?this.hasClass(a,b)?a.className:(c=this.removeClass(a,b),a.className=(c!=""?c+" ":"")+b):0})},removeClass:function(b,c){var d=this,e;return d.run(b,function(b){var f;return d.hasClass(b,c)?(e||(e=new RegExp("(^|\\s+)"+c+"(\\s+|$)","g")),f=b.className.replace(e," "),f=a.trim(f!=" "?f:""),b.className=f,f||(b.removeAttribute("class"),b.removeAttribute("className")),f):b.className})},hasClass:function(a,b){return a=this.get(a),!a||!b?!1:(" "+a.className+" ").indexOf(" "+b+" ")!==-1},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||a.style.display=="none"||this.getStyle(a,"display")=="none"},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,c){var d=this;return this.run(a,function(a){var f,g,h,i,j,f;c=d.processHTML(c);if(e){function k(){while(a.firstChild)a.firstChild.removeNode();try{a.innerHTML="<br />"+c,a.removeChild(a.firstChild)}catch(e){f=d.create("div"),f.innerHTML="<br />"+c,b(f.childNodes,function(b,c){c&&a.appendChild(b)})}}d.settings.fix_ie_paragraphs&&(c=c.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _mce_keep="true">&nbsp;</p>')),k();if(d.settings.fix_ie_paragraphs){h=a.getElementsByTagName("p");for(g=h.length-1,f=0;g>=0;g--){i=h[g];if(!i.hasChildNodes()){if(!i._mce_keep){f=1;break}i.removeAttribute("_mce_keep")}}}if(f){c=c.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">'),c=c.replace(/<\/p>/gi,"</div>"),k();if(d.settings.fix_ie_paragraphs){h=a.getElementsByTagName("DIV");for(g=h.length-1;g>=0;g--){i=h[g];if(i._mce_tmp){j=d.doc.createElement("p"),i.cloneNode(!1).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function(a,b){var c;b!=="_mce_tmp"&&(c=i.getAttribute(b),!c&&b==="class"&&(c=i.className),j.setAttribute(b,c))});for(f=0;f<i.childNodes.length;f++)j.appendChild(i.childNodes[f].cloneNode(!0));i.swapNode(j)}}}}}else a.innerHTML=c;return c})},processHTML:function(b){var c=this,d=c.settings,f=[];if(!d.process_html)return b;e&&(b=b.replace(/&apos;/g,"&#39;"),b=b.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,"")),b=b.replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>");if(d.keep_values){if(/<script|noscript|style/i.test(b)){function i(a){return a=a.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n"),a=a.replace(/^[\r\n]*|[\r\n]*$/g,""),a=a.replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,""),a=a.replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,""),a}b=b.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function(b,e,g){return e||(e=' type="text/javascript"'),e=e.replace(/src=\"([^\"]+)\"?/i,function(a,b){return d.url_converter&&(b=c.encode(d.url_converter.call(d.url_converter_scope||c,c.decode(b),"src","script"))),'_mce_src="'+b+'"'}),a.trim(g)&&(f.push(i(g)),g="<!--\nMCE_SCRIPT:"+(f.length-1)+"\n// -->"),"<mce:script"+e+">"+g+"</mce:script>"}),b=b.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function(a,b,c){return c&&(f.push(i(c)),c="<!--\nMCE_SCRIPT:"+(f.length-1)+"\n-->"),"<mce:style"+b+">"+c+"</mce:style><style "+b+' _mce_bogus="1">'+c+"</style>"}),b=b.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(a,b,d){return"<mce:noscript"+b+"><!--"+c.encode(d).replace(/--/g,"&#45;&#45;")+"--></mce:noscript>"})}b=b.replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<!--[CDATA[$1]]-->");function j(a){return a.replace(l,function(a,b,e,f){return"<"+b+e.replace(m,function(a,f,i,j,k){var l;f=f.toLowerCase(),i=i||j||k||"";if(g[f]){if(i==="false"||i==="0")return;return f+'="'+f+'"'}return h[f]&&e.indexOf("_mce_"+f)==-1?(l=c.decode(i),d.url_converter&&(f=="src"||f=="href")&&(l=d.url_converter.call(d.url_converter_scope||c,l,f,b)),f=="style"&&(l=c.serializeStyle(c.parseStyle(l),f)),f+'="'+i+'" _mce_'+f+'="'+c.encode(l)+'"'):a})+f+">"})}b=j(b),b=b.replace(/MCE_SCRIPT:([0-9]+)/g,function(a,b){return f[b]})}return b},getOuterHTML:function(a){var b;return a=this.get(a),a?a.outerHTML!==undefined?a.outerHTML:(b=(a.ownerDocument||this.doc).createElement("body"),b.appendChild(a.cloneNode(!0)),b.innerHTML):null},setOuterHTML:function(a,b,c){function f(a,b,c){var e,f;f=c.createElement("body"),f.innerHTML=b,e=f.lastChild;while(e)d.insertAfter(e.cloneNode(!0),a),e=e.previousSibling;d.remove(a)}var d=this;return this.run(a,function(a){a=d.get(a);if(a.nodeType==1){c=c||a.ownerDocument||d.doc;if(e)try{e&&a.nodeType==1?a.outerHTML=b:f(a,b,c)}catch(g){f(a,b,c)}else f(a,b,c)}})},decode:function(a){var b,c,d;if(/&[\w#]+;/.test(a)){b=this.doc.createElement("div"),b.innerHTML=a,c=b.firstChild,d="";if(c)do d+=c.nodeValue;while(c=c.nextSibling);return d||a}return a},encode:function(a){return(""+a).replace(j,function(a){return i[a]})},insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},isBlock:function(a){return a.nodeType&&a.nodeType!==1?!1:(a=a.nodeName||a,f.test(a))},replace:function(d,e,f){var g=this;return c(e,"array")&&(d=d.cloneNode(!0)),g.run(e,function(c){return f&&b(a.grep(c.childNodes),function(a){d.appendChild(a)}),c.parentNode.replaceChild(d,c)})},rename:function(a,c){var d=this,e;return a.nodeName!=c.toUpperCase()&&(e=d.create(c),b(d.getAttribs(a),function(b){d.setAttrib(e,b.nodeName,d.getAttrib(a,b.nodeName))}),d.replace(e,a,1)),e||a},findCommonAncestor:function(a,b){var c=a,d;while(c){d=b;while(d&&c!=d)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){function c(a){return a=parseInt(a).toString(16),a.length>1?a:"0"+a}var b=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(a);return b?(a="#"+c(b[1])+c(b[2])+c(b[3]),a):a},getClasses:function(){function h(a){b(a.imports,function(a){h(a)}),b(a.cssRules||a.rules,function(a){switch(a.type||1){case 1:a.selectorText&&b(a.selectorText.split(","),function(a){a=a.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(a)||!/\.[\w\-]+$/.test(a))return;g=a,a=a.replace(/.*\.([a-z0-9_\-]+).*/i,"$1");if(f&&!(a=f(a,g)))return;e[a]||(c.push({"class":a}),e[a]=1)});break;case 3:h(a.styleSheet)}})}var a=this,c=[],d,e={},f=a.settings.class_filter,g;if(a.classes)return a.classes;try{b(a.doc.styleSheets,h)}catch(i){}return c.length>0&&(a.classes=c),c},run:function(a,c,d){var e=this,f;return e.doc&&typeof a=="string"&&(a=e.get(a)),a?(d=d||this,!a.nodeType&&(a.length||a.length===0)?(f=[],b(a,function(a,b){a&&(typeof a=="string"&&(a=e.doc.getElementById(a)),f.push(c.call(d,a,b)))}),f):c.call(d,a)):!1},getAttribs:function(a){var b;return a=this.get(a),a?e?(b=[],a.nodeName=="OBJECT"?a.attributes:(a.nodeName==="OPTION"&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"}),a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})}),b)):a.attributes:[]},destroy:function(b){var c=this;c.events&&c.events.destroy(),c.win=c.doc=c.root=c.events=null,b||a.removeUnload(c.destroy)},createRng:function(){var b=this.doc;return b.createRange?b.createRange():new a.dom.Range(this)},nodeIndex:function(a,b){var c=0,d,e,f;if(a)for(d=a.nodeType,a=a.previousSibling,e=a;a;a=a.previousSibling){f=a.nodeType;if(b&&f==3)if(f==d||!a.nodeValue.length)continue;c++,d=f}return c},split:function(a,b,c){function i(a){var b,c=a.childNodes;if(a.nodeType==1&&a.getAttribute("_mce_type")=="bookmark")return;for(b=c.length-1;b>=0;b--)i(c[b]);if(a.nodeType!=9){if(a.nodeType==3&&a.nodeValue.length>0)return;if(a.nodeType==1){c=a.childNodes,c.length==1&&c[0]&&c[0].nodeType==1&&c[0].getAttribute("_mce_type")=="bookmark"&&a.parentNode.insertBefore(c[0],a);if(c.length||/^(br|hr|input|img)$/i.test(a.nodeName))return}d.remove(a)}return a}var d=this,e=d.createRng(),f,g,h;if(a&&b)return e.setStart(a.parentNode,d.nodeIndex(a)),e.setEnd(b.parentNode,d.nodeIndex(b)),f=e.extractContents(),e=d.createRng(),e.setStart(b.parentNode,d.nodeIndex(b)+1),e.setEnd(a.parentNode,d.nodeIndex(a)+1),g=e.extractContents(),h=a.parentNode,h.insertBefore(i(f),a),c?h.replaceChild(c,b):h.insertBefore(b,a),h.insertBefore(i(g),a),d.remove(a),c||b},bind:function(b,c,d,e){var f=this;return f.events||(f.events=new a.dom.EventUtils),f.events.add(b,c,d,e||this)},unbind:function(b,c,d){var e=this;return e.events||(e.events=new a.dom.EventUtils),e.events.remove(b,c,d)},_findSib:function(a,b,d){var e=this,f=b;if(a){c(f,"string")&&(f=function(a){return e.is(a,b)});for(a=a[d];a;a=a[d])if(f(a))return a}return null},_isRes:function(a){return/^(top|left|bottom|right|width|height)/i.test(a)||/;\s*(top|left|bottom|right|width|height)/i.test(a)}}),a.DOM=new a.dom.DOMUtils(document,{process_html:0})}(tinymce),function(a){function b(a){function p(a,b){I(h,a,b)}function q(a,b){I(i,a,b)}function r(a){p(a.parentNode,o(a))}function s(a){p(a.parentNode,o(a)+1)}function t(a){q(a.parentNode,o(a))}function u(a){q(a.parentNode,o(a)+1)}function v(a){a?(c[l]=c[k],c[m]=c[j]):(c[k]=c[l],c[j]=c[m]),c.collapsed=h}function w(a){r(a),u(a)}function x(a){p(a,0),q(a,a.nodeType===1?a.childNodes.length:a.nodeValue.length)}function y(a,b){var d=c[k],e=c[j],f=c[l],g=c[m];if(a===0)return H(d,e,d,e);if(a===1)return H(d,e,f,g);if(a===2)return H(f,g,f,g);if(a===3)return H(f,g,d,e)}function z(){J(g)}function A(){return J(e)}function B(){return J(f)}function C(b){var c=this[k],d=this[j],e,f;c.nodeType!==3&&c.nodeType!==4||!c.nodeValue?(c.childNodes.length>0&&(f=c.childNodes[d]),f?c.insertBefore(b,f):c.appendChild(b)):d?d>=c.nodeValue.length?a.insertAfter(b,c):(e=c.splitText(d),c.parentNode.insertBefore(b,e)):c.parentNode.insertBefore(b,c)}function D(a){var b=c.extractContents();c.insertNode(a),a.appendChild(b),c.selectNode(a)}function E(){return n(new b(a),{startContainer:c[k],startOffset:c[j],endContainer:c[l],endOffset:c[m],collapsed:c.collapsed,commonAncestorContainer:c.commonAncestorContainer})}function F(a,b){var c;if(a.nodeType==3)return a;if(b<0)return a;c=a.firstChild;while(c&&b>0)--b,c=c.nextSibling;return c?c:a}function G(){return c[k]==c[l]&&c[j]==c[m]}function H(b,c,d,e){var f,g,h,i,j,k;if(b==d)return c==e?0:c<e?-1:1;f=d;while(f&&f.parentNode!=b)f=f.parentNode;if(f){g=0,h=b.firstChild;while(h!=f&&g<c)g++,h=h.nextSibling;return c<=g?-1:1}f=b;while(f&&f.parentNode!=d)f=f.parentNode;if(f){g=0,h=d.firstChild;while(h!=f&&g<e)g++,h=h.nextSibling;return g<e?-1:1}i=a.findCommonAncestor(b,d),j=b;while(j&&j.parentNode!=i)j=j.parentNode;j||(j=i),k=d;while(k&&k.parentNode!=i)k=k.parentNode;k||(k=i);if(j==k)return 0;h=i.firstChild;while(h){if(h==j)return-1;if(h==k)return 1;h=h.nextSibling}}function I(b,d,e){var f,g;b?(c[k]=d,c[j]=e):(c[l]=d,c[m]=e),f=c[l];while(f.parentNode)f=f.parentNode;g=c[k];while(g.parentNode)g=g.parentNode;g==f?H(c[k],c[j],c[l],c[m])>0&&c.collapse(b):c.collapse(b),c.collapsed=G(),c.commonAncestorContainer=a.findCommonAncestor(c[k],c[l])}function J(a){var b,d=0,e=0,f,g,h,i,j,m;if(c[k]==c[l])return K(a);for(b=c[l],f=b.parentNode;f;b=f,f=f.parentNode){if(f==c[k])return L(b,a);++d}for(b=c[k],f=b.parentNode;f;b=f,f=f.parentNode){if(f==c[l])return M(b,a);++e}g=e-d,h=c[k];while(g>0)h=h.parentNode,g--;i=c[l];while(g<0)i=i.parentNode,g++;for(j=h.parentNode,m=i.parentNode;j!=m;j=j.parentNode,m=m.parentNode)h=j,i=m;return N(h,i,a)}function K(a){var b,e,i,l,n,o,p;a!=g&&(b=d.createDocumentFragment());if(c[j]==c[m])return b;if(c[k].nodeType==3){e=c[k].nodeValue,i=e.substring(c[j],c[m]),a!=f&&(c[k].deleteData(c[j],c[m]-c[j]),c.collapse(h));if(a==g)return;return b.appendChild(d.createTextNode(i)),b}l=F(c[k],c[j]),n=c[m]-c[j];while(n>0)o=l.nextSibling,p=R(l,a),b&&b.appendChild(p),--n,l=o;return a!=f&&c.collapse(h),b}function L(a,b){var e,h,k,l,m,n;b!=g&&(e=d.createDocumentFragment()),h=O(a,b),e&&e.appendChild(h),k=o(a),l=k-c[j];if(l<=0)return b!=f&&(c.setEndBefore(a),c.collapse(i)),e;h=a.previousSibling;while(l>0)m=h.previousSibling,n=R(h,b),e&&e.insertBefore(n,e.firstChild),--l,h=m;return b!=f&&(c.setEndBefore(a),c.collapse(i)),e}function M(a,b){var e,i,j,k,l,n;b!=g&&(e=d.createDocumentFragment()),j=P(a,b),e&&e.appendChild(j),i=o(a),++i,k=c[m]-i,j=a.nextSibling;while(k>0)l=j.nextSibling,n=R(j,b),e&&e.appendChild(n),--k,j=l;return b!=f&&(c.setStartAfter(a),c.collapse(h)),e}function N(a,b,e){var i,j,k,l,m,n,p,q;e!=g&&(j=d.createDocumentFragment()),i=P(a,e),j&&j.appendChild(i),k=a.parentNode,l=o(a),m=o(b),++l,n=m-l,p=a.nextSibling;while(n>0)q=p.nextSibling,i=R(p,e),j&&j.appendChild(i),p=q,--n;return i=O(b,e),j&&j.appendChild(i),e!=f&&(c.setStartAfter(a),c.collapse(h)),j}function O(a,b){var d=F(c[l],c[m]-1),e,f,j,k,n,o=d!=c[l];if(d==a)return Q(d,o,i,b);e=d.parentNode,f=Q(e,i,i,b);while(e){while(d)j=d.previousSibling,k=Q(d,o,i,b),b!=g&&f.insertBefore(k,f.firstChild),o=h,d=j;if(e==a)return f;d=e.previousSibling,e=e.parentNode,n=Q(e,i,i,b),b!=g&&n.appendChild(f),f=n}}function P(a,b){var d=F(c[k],c[j]),e=d!=c[k],f,l,m,n,o;if(d==a)return Q(d,e,h,b);f=d.parentNode,l=Q(f,i,h,b);while(f){while(d)m=d.nextSibling,n=Q(d,e,h,b),b!=g&&l.appendChild(n),e=h,d=m;if(f==a)return l;d=f.nextSibling,f=f.parentNode,o=Q(f,i,h,b),b!=g&&o.appendChild(l),l=o}}function Q(a,b,d,e){var h,k,l,n,o;if(b)return R(a,e);if(a.nodeType==3){h=a.nodeValue,d?(n=c[j],k=h.substring(n),l=h.substring(0,n)):(n=c[m],k=h.substring(0,n),l=h.substring(n)),e!=f&&(a.nodeValue=l);if(e==g)return;return o=a.cloneNode(i),o.nodeValue=k,o}if(e==g)return;return a.cloneNode(i)}function R(a,b){if(b!=g)return b==f?a.cloneNode(h):a;a.parentNode.removeChild(a)}var c=this,d=a.doc,e=0,f=1,g=2,h=!0,i=!1,j="startOffset",k="startContainer",l="endContainer",m="endOffset",n=tinymce.extend,o=a.nodeIndex;n(c,{startContainer:d,startOffset:0,endContainer:d,endOffset:0,collapsed:h,commonAncestorContainer:d,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:p,setEnd:q,setStartBefore:r,setStartAfter:s,setEndBefore:t,setEndAfter:u,collapse:v,selectNode:w,selectNodeContents:x,compareBoundaryPoints:y,deleteContents:z,extractContents:A,cloneContents:B,insertNode:C,surroundContents:D,cloneRange:E})}a.Range=b}(tinymce.dom),function(){function a(a){function i(){function g(a){var d,e,g,h,i=0,j,l,m,o,p;o=b.duplicate(),o.collapse(a),d=f.create("a"),m=o.parentElement();if(!m.hasChildNodes()){c[a?"setStart":"setEnd"](m,0);return}m.appendChild(d),o.moveToElementText(d),p=b.compareEndPoints(a?"StartToStart":"EndToEnd",o);if(p>0){c[a?"setStartAfter":"setEndAfter"](m),f.remove(d);return}h=tinymce.grep(m.childNodes),j=h.length-1;while(i<=j){l=Math.floor((i+j)/2),m.insertBefore(d,h[l]),o.moveToElementText(d),p=b.compareEndPoints(a?"StartToStart":"EndToEnd",o);if(p>0)i=l+1;else{if(!(p<0)){found=!0;break}j=l-1}}e=p>0||l==0?d.nextSibling:d.previousSibling,e.nodeType==1?(f.remove(d),g=f.nodeIndex(e),e=e.parentNode,(!a||l>0)&&g++):(p>0||l==0?(o.setEndPoint(a?"StartToStart":"EndToEnd",b),g=o.text.length):(o.setEndPoint(a?"StartToStart":"EndToEnd",b),g=e.nodeValue.length-o.text.length),f.remove(d)),c[a?"setStart":"setEnd"](e,g)}var b=a.getRng(),c=f.createRng(),d,e;return d=b.item?b.item(0):b.parentElement(),d.ownerDocument!=f.doc?c:b.item||!d.hasChildNodes()?(c.setStart(d.parentNode,f.nodeIndex(d)),c.setEnd(c.startContainer,c.startOffset+1),c):(e=a.isCollapsed(),g(!0),e||g(),c)}var b=this,c="ï»¿",d,e,f=a.dom,g=!0,h=!1;this.addRange=function(b){function o(a){var b,e,o,p,q;o=f.create("a"),b=a?h:k,e=a?i:l,p=d.duplicate(),b==m&&(b=n,e=0),b.nodeType==3?(b.parentNode.insertBefore(o,b),p.moveToElementText(o),p.moveStart("character",e),f.remove(o),d.setEndPoint(a?"StartToStart":"EndToEnd",p)):(q=b.childNodes,q.length?(e>=q.length?f.insertAfter(o,q[q.length-1]):b.insertBefore(o,q[e]),p.moveToElementText(o)):(o=m.createTextNode(c),b.appendChild(o),p.moveToElementText(o.parentNode),p.collapse(g)),d.setEndPoint(a?"StartToStart":"EndToEnd",p),f.remove(o))}var d,e,h,i,k,l,m=a.dom.doc,n=m.body;this.destroy(),h=b.startContainer,i=b.startOffset,k=b.endContainer,l=b.endOffset,d=n.createTextRange();if(h==k&&h.nodeType==1&&i==l-1&&i==l-1)try{e=n.createControlRange(),e.addElement(h.childNodes[i]),e.select(),e.scrollIntoView();return}catch(p){}o(!0),o(),d.select(),d.scrollIntoView()},this.getRangeAt=function(){if(!d||!tinymce.dom.RangeUtils.compareRanges(e,a.getRng()))d=i(),e=a.getRng();try{d.startContainer.nextSibling}catch(b){d=i(),e=null}return d},this.destroy=function(){e=d=null},a.dom.boxModel&&function(){function e(a,c){var d=b.createTextRange();try{d.moveToPoint(a,c)}catch(e){d=null}return d}function h(a){var b;a.button?(b=e(a.x,a.y),b&&(b.compareEndPoints("StartToStart",d)>0?b.setEndPoint("StartToStart",d):b.setEndPoint("EndToEnd",d),b.select())):i()}function i(){f.unbind(a,"mouseup",i),f.unbind(a,"mousemove",h),c=0}var a=f.doc
,b=a.body,c,d;a.documentElement.unselectable=g,f.bind(a,"mousedown",function(b){b.target.nodeName==="HTML"&&(c&&i(),c=1,d=e(b.x,b.y),d&&(f.bind(a,"mouseup",i),f.bind(a,"mousemove",h),d.select()))})}()}tinymce.dom.TridentSelection=a}(),function(a){var b=a.each,c=a.DOM,d=a.isIE,e=a.isWebKit,f;a.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[],this.events=[]},add:function(e,f,g,h){var i,j=this,k=j.events,l;if(f instanceof Array)return l=[],b(f,function(a){l.push(j.add(e,a,g,h))}),l;if(e&&e.hasOwnProperty&&e instanceof Array)return l=[],b(e,function(a){a=c.get(a),l.push(j.add(a,f,g,h))}),l;e=c.get(e);if(!e)return;return i=function(b){if(j.disabled)return;return b=b||window.event,b&&d&&(b.target||(b.target=b.srcElement),a.extend(b,j._stoppers)),h?g.call(h,b):g(b)},f=="unload"?(a.unloads.unshift({func:i}),i):f=="init"?(j.domLoaded?i():j.inits.push(i),i):(k.push({obj:e,name:f,func:g,cfunc:i,scope:h}),j._add(e,f,i),g)},remove:function(a,d,e){var f=this,g=f.events,h=!1,i;return a&&a.hasOwnProperty&&a instanceof Array?(i=[],b(a,function(a){a=c.get(a),i.push(f.remove(a,d,e))}),i):(a=c.get(a),b(g,function(b,c){if(b.obj==a&&b.name==d&&(!e||b.func==e||b.cfunc==e))return g.splice(c,1),f._remove(a,d,b.cfunc),h=!0,!1}),h)},clear:function(a){var b=this,d=b.events,e,f;if(a){a=c.get(a);for(e=d.length-1;e>=0;e--)f=d[e],f.obj===a&&(b._remove(f.obj,f.name,f.cfunc),f.obj=f.cfunc=null,d.splice(e,1))}},cancel:function(a){return a?(this.stop(a),this.prevent(a)):!1},stop:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1},prevent:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,!1},destroy:function(){var a=this;b(a.events,function(b,c){a._remove(b.obj,b.name,b.cfunc),b.obj=b.cfunc=null}),a.events=[],a=null},_add:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!1):a["on"+b]=c},_remove:function(a,b,c){if(a)try{a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!1):a["on"+b]=null}catch(d){}},_pageInit:function(a){var c=this;if(c.domLoaded)return;c.domLoaded=!0,b(c.inits,function(a){a()}),c.inits=[]},_wait:function(a){var b=this,c=a.document;if(a.tinyMCE_GZ&&tinyMCE_GZ.loaded){b.domLoaded=1;return}c.attachEvent?(c.attachEvent("onreadystatechange",function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",arguments.callee),b._pageInit(a))}),c.documentElement.doScroll&&a==a.top&&function(){if(b.domLoaded)return;try{c.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}b._pageInit(a)}()):c.addEventListener&&b._add(a,"DOMContentLoaded",function(){b._pageInit(a)}),b._add(a,"load",function(){b._pageInit(a)})},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=!0}}}),f=a.dom.Event=new a.dom.EventUtils,f._wait(window),a.addUnload(function(){f.destroy()})}(tinymce),function(a){a.dom.Element=function(b,c){var d=this,e,f;d.settings=c=c||{},d.id=b,d.dom=e=c.dom||a.DOM,a.isIE||(f=e.get(d.id)),a.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(a){d[a]=function(){var c=[b],f;for(f=0;f<arguments.length;f++)c.push(arguments[f]);return c=e[a].apply(e,c),d.update(a),c}}),a.extend(d,{on:function(b,c,e){return a.dom.Event.add(d.id,b,c,e)},getXY:function(){return{x:parseInt(d.getStyle("left")),y:parseInt(d.getStyle("top"))}},getSize:function(){var a=e.get(d.id);return{w:parseInt(d.getStyle("width")||a.clientWidth),h:parseInt(d.getStyle("height")||a.clientHeight)}},moveTo:function(a,b){d.setStyles({left:a,top:b})},moveBy:function(a,b){var c=d.getXY();d.moveTo(c.x+a,c.y+b)},resizeTo:function(a,b){d.setStyles({width:a,height:b})},resizeBy:function(a,b){var c=d.getSize();d.resizeTo(c.w+a,c.h+b)},update:function(b){var f;if(a.isIE6&&c.blocker){b=b||"";if(b.indexOf("get")===0||b.indexOf("has")===0||b.indexOf("is")===0)return;if(b=="remove"){e.remove(d.blocker);return}d.blocker?f=e.get(d.blocker):(d.blocker=e.uniqueId(),f=e.add(c.container||e.getRoot(),"iframe",{id:d.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),e.setStyle(f,"opacity",0)),e.setStyles(f,{left:d.getStyle("left",1),top:d.getStyle("top",1),width:d.getStyle("width",1),height:d.getStyle("height",1),display:d.getStyle("display",1),zIndex:parseInt(d.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(a){function b(a){return a.replace(/[\n\r]+/g,"")}var c=a.is,d=a.isIE,e=a.each;a.create("tinymce.dom.Selection",{Selection:function(b,c,d){var f=this;f.dom=b,f.win=c,f.serializer=d,e(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(b){f[b]=new a.util.Dispatcher(f)}),f.win.getSelection||(f.tridentSel=new a.dom.TridentSelection(f)),a.addUnload(f.destroy,f)},getContent:function(a){var b=this,d=b.getRng(),e=b.dom.create("body"),f=b.getSel(),g,h,i;return a=a||{},g=h="",a.get=!0,a.format=a.format||"html",b.onBeforeGetContent.dispatch(b,a),a.format=="text"?b.isCollapsed()?"":d.text||(f.toString?f.toString():""):(d.cloneContents?(i=d.cloneContents(),i&&e.appendChild(i)):c(d.item)||c(d.htmlText)?e.innerHTML=d.item?d.item(0).outerHTML:d.htmlText:e.innerHTML=d.toString(),/^\s/.test(e.innerHTML)&&(g=" "),/\s+$/.test(e.innerHTML)&&(h=" "),a.getInner=!0,a.content=b.isCollapsed()?"":g+b.serializer.serialize(e,a)+h,b.onGetContent.dispatch(b,a),a.content)},setContent:function(a,b){var c=this,d=c.getRng(),e,f=c.win.document;b=b||{format:"html"},b.set=!0,a=b.content=c.dom.processHTML(a),c.onBeforeSetContent.dispatch(c,b),a=b.content,d.insertNode?(a+='<span id="__caret">_</span>',d.startContainer==f&&d.endContainer==f?f.body.innerHTML=a:(d.deleteContents(),f.body.childNodes.length==0?f.body.innerHTML=a:d.insertNode(d.createContextualFragment(a))),e=c.dom.get("__caret"),d=f.createRange(),d.setStartBefore(e),d.setEndBefore(e),c.setRng(d),c.dom.remove("__caret")):(d.item&&(f.execCommand("Delete",!1,null),d=c.getRng()),d.pasteHTML(a)),c.onSetContent.dispatch(c,b)},getStart:function(){var a=this.getRng(),b,c,d,e;if(a.duplicate||a.item){if(a.item)return a.item(0);d=a.duplicate(),d.collapse(1),b=d.parentElement(),c=e=a.parentElement();while(e=e.parentNode)if(e==b){b=c;break}return b&&b.nodeName=="BODY"?b.firstChild||b:b}return b=a.startContainer,b.nodeType==1&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]),b&&b.nodeType==3?b.parentNode:b},getEnd:function(){var a=this,b=a.getRng(),c,d;return b.duplicate||b.item?b.item?b.item(0):(b=b.duplicate(),b.collapse(0),c=b.parentElement(),c&&c.nodeName=="BODY"?c.lastChild||c:c):(c=b.endContainer,d=b.endOffset,c.nodeType==1&&c.hasChildNodes()&&(c=c.childNodes[d>0?d-1:d]),c&&c.nodeType==3?c.parentNode:c)},getBookmark:function(a,b){function o(a,b){var c=0;return e(d.select(a),function(a,d){a==b&&(c=d)}),c}var c=this,d=c.dom,f,g,h,i,j,k,l,m="ï»¿",n;if(a==2){function p(){function g(a,d){var f=a[d?"startContainer":"endContainer"],g=a[d?"startOffset":"endOffset"],h=[],i,j,k=0;if(f.nodeType==3){if(b)for(i=f.previousSibling;i&&i.nodeType==3;i=i.previousSibling)g+=i.nodeValue.length;h.push(g)}else j=f.childNodes,g>=j.length&&j.length&&(k=1,g=Math.max(0,j.length-1)),h.push(c.dom.nodeIndex(j[g],b)+k);for(;f&&f!=e;f=f.parentNode)h.push(c.dom.nodeIndex(f,b));return h}var a=c.getRng(!0),e=d.getRoot(),f={};return f.start=g(a,!0),c.isCollapsed()||(f.end=g(a)),f}return p()}if(a)return{rng:c.getRng()};f=c.getRng(),h=d.uniqueId(),i=tinyMCE.activeEditor.selection.isCollapsed(),n="overflow:hidden;line-height:0px";if(f.duplicate||f.item){if(!!f.item)return k=f.item(0),j=k.nodeName,{name:j,index:o(j,k)};g=f.duplicate(),f.collapse(),f.pasteHTML('<span _mce_type="bookmark" id="'+h+'_start" style="'+n+'">'+m+"</span>"),i||(g.collapse(!1),g.pasteHTML('<span _mce_type="bookmark" id="'+h+'_end" style="'+n+'">'+m+"</span>"))}else{k=c.getNode(),j=k.nodeName;if(j=="IMG")return{name:j,index:o(j,k)};g=f.cloneRange(),i||(g.collapse(!1),g.insertNode(d.create("span",{_mce_type:"bookmark",id:h+"_end",style:n},m))),f.collapse(!0),f.insertNode(d.create("span",{_mce_type:"bookmark",id:h+"_start",style:n},m))}return c.moveToBookmark({id:h,keep:1}),{id:h}},moveToBookmark:function(b){var c=this,f=c.dom,g,h,i,j,k,l,m,n;c.tridentSel&&c.tridentSel.destroy();if(b)if(b.start){i=f.createRng(),j=f.getRoot();function o(a){var c=b[a?"start":"end"],d,e,f,g;if(c){for(e=j,d=c.length-1;d>=1;d--)g=e.childNodes,g.length&&(e=g[c[d]]);a?i.setStart(e,c[0]):i.setEnd(e,c[0])}}o(!0),o(),c.setRng(i)}else if(b.id){function p(c){var d=f.get(b.id+"_"+c),g,h,i,j,o=b.keep;if(d){g=d.parentNode,c=="start"?(o?(g=d.firstChild,h=1):h=f.nodeIndex(d),k=l=g,m=n=h):(o?(g=d.firstChild,h=1):h=f.nodeIndex(d),l=g,n=h);if(!o){j=d.previousSibling,i=d.nextSibling,e(a.grep(d.childNodes),function(a){a.nodeType==3&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});while(d=f.get(b.id+"_"+c))f.remove(d,1);j&&i&&j.nodeType==i.nodeType&&j.nodeType==3&&(h=j.nodeValue.length,j.appendData(i.nodeValue),f.remove(i),c=="start"?(k=l=j,m=n=h):(l=j,n=h))}}}function q(a){return!d&&f.isBlock(a)&&!a.innerHTML&&(a.innerHTML='<br _mce_bogus="1" />'),a}p("start"),p("end"),i=f.createRng(),i.setStart(q(k),m),i.setEnd(q(l),n),c.setRng(i)}else b.name?c.select(f.select(b.name)[b.index]):b.rng&&c.setRng(b.rng)},select:function(b,c){var d=this,e=d.dom,f=e.createRng(),g;g=e.nodeIndex(b),f.setStart(b.parentNode,g),f.setEnd(b.parentNode,g+1);if(c){function h(b,c){var d=new a.dom.TreeWalker(b,b);do{if(b.nodeType==3&&a.trim(b.nodeValue).length!=0){c?f.setStart(b,0):f.setEnd(b,b.nodeValue.length);return}if(b.nodeName=="BR"){c?f.setStartBefore(b):f.setEndBefore(b);return}}while(b=c?d.next():d.prev())}h(b,1),h(b)}return d.setRng(f),b},isCollapsed:function(){var a=this,b=a.getRng(),c=a.getSel();return!b||b.item?!1:b.compareEndPoints?b.compareEndPoints("StartToEnd",b)===0:!c||b.collapsed},collapse:function(a){var b=this,c=b.getRng(),d;c.item&&(d=c.item(0),c=this.win.document.body.createTextRange(),c.moveToElementText(d)),c.collapse(!!a),b.setRng(c)},getSel:function(){var a=this,b=this.win;return b.getSelection?b.getSelection():b.document.selection},getRng:function(a){var b=this,c,d;if(a&&b.tridentSel)return b.tridentSel.getRangeAt(0);try{if(c=b.getSel())d=c.rangeCount>0?c.getRangeAt(0):c.createRange?c.createRange():b.win.document.createRange()}catch(e){}return d||(d=b.win.document.createRange?b.win.document.createRange():b.win.document.body.createTextRange()),b.selectedRange&&b.explicitRange&&(d.compareBoundaryPoints(d.START_TO_START,b.selectedRange)===0&&d.compareBoundaryPoints(d.END_TO_END,b.selectedRange)===0?d=b.explicitRange:(b.selectedRange=null,b.explicitRange=null)),d},setRng:function(a){var b,c=this;if(!c.tridentSel)b=c.getSel(),b&&(c.explicitRange=a,b.removeAllRanges(),b.addRange(a),c.selectedRange=b.getRangeAt(0));else{if(a.cloneRange){c.tridentSel.addRange(a);return}try{a.select()}catch(d){}}},setNode:function(a){var b=this;return b.setContent(b.dom.getOuterHTML(a)),a},getNode:function(){var b=this,c=b.getRng(),d=b.getSel(),e;if(c.setStart){if(!c)return b.dom.getRoot();e=c.commonAncestorContainer;if(!c.collapsed){c.startContainer==c.endContainer&&c.startOffset-c.endOffset<2&&c.startContainer.hasChildNodes()&&(e=c.startContainer.childNodes[c.startOffset]);if(a.isWebKit&&d.anchorNode&&d.anchorNode.nodeType==1)return d.anchorNode.childNodes[d.anchorOffset]}return e&&e.nodeType==3?e.parentNode:e}return c.item?c.item(0):c.parentElement()},getSelectedBlocks:function(a,b){var c=this,d=c.dom,e,f,g,h=[];e=d.getParent(a||c.getStart(),d.isBlock),f=d.getParent(b||c.getEnd(),d.isBlock),e&&h.push(e);if(e&&f&&e!=f){g=e;while((g=g.nextSibling)&&g!=f)d.isBlock(g)&&h.push(g)}return f&&e!=f&&h.push(f),h},destroy:function(b){var c=this;c.win=null,c.tridentSel&&c.tridentSel.destroy(),b||a.removeUnload(c.destroy)}})}(tinymce),function(a){a.create("tinymce.dom.XMLWriter",{node:null,XMLWriter:function(b){function c(){var a=document.implementation;if(!!a&&!!a.createDocument)return a.createDocument("","",null);try{return new ActiveXObject("MSXML2.DOMDocument")}catch(b){}try{return new ActiveXObject("Microsoft.XmlDom")}catch(b){}}this.doc=c(),this.valid=a.isOpera||a.isWebKit,this.reset()},reset:function(){var a=this,b=a.doc;b.firstChild&&b.removeChild(b.firstChild),a.node=b.appendChild(b.createElement("html"))},writeStartElement:function(a){var b=this;b.node=b.node.appendChild(b.doc.createElement(a))},writeAttribute:function(a,b){this.valid&&(b=b.replace(/>/g,"%MCGT%")),this.node.setAttribute(a,b)},writeEndElement:function(){this.node=this.node.parentNode},writeFullEndElement:function(){var a=this,b=a.node;b.appendChild(a.doc.createTextNode("")),a.node=b.parentNode},writeText:function(a){this.valid&&(a=a.replace(/>/g,"%MCGT%")),this.node.appendChild(this.doc.createTextNode(a))},writeCDATA:function(a){this.node.appendChild(this.doc.createCDATASection(a))},writeComment:function(b){a.isIE&&(b=b.replace(/^\-|\-$/g," ")),this.node.appendChild(this.doc.createComment(b.replace(/\-\-/g," ")))},getContent:function(){var a;return a=this.doc.xml||(new XMLSerializer).serializeToString(this.doc),a=a.replace(/<\?[^?]+\?>|<html>|<\/html>|<html\/>|<!DOCTYPE[^>]+>/g,""),a=a.replace(/ ?\/>/g," />"),this.valid&&(a=a.replace(/\%MCGT%/g,"&gt;")),a}})}(tinymce),function(a){a.create("tinymce.dom.StringWriter",{str:null,tags:null,count:0,settings:null,indent:null,StringWriter:function(b){this.settings=a.extend({indent_char:" ",indentation:0},b),this.reset()},reset:function(){this.indent="",this.str="",this.tags=[],this.count=0},writeStartElement:function(a){this._writeAttributesEnd(),this.writeRaw("<"+a),this.tags.push(a),this.inAttr=!0,this.count++,this.elementCount=this.count},writeAttribute:function(a,b){var c=this;c.writeRaw(" "+c.encode(a)+'="'+c.encode(b)+'"')},writeEndElement:function(){var a;this.tags.length>0&&(a=this.tags.pop(),this._writeAttributesEnd(1)&&this.writeRaw("</"+a+">"),this.settings.indentation>0&&this.writeRaw("\n"))},writeFullEndElement:function(){this.tags.length>0&&(this._writeAttributesEnd(),this.writeRaw("</"+this.tags.pop()+">"),this.settings.indentation>0&&this.writeRaw("\n"))},writeText:function(a){this._writeAttributesEnd(),this.writeRaw(this.encode(a)),this.count++},writeCDATA:function(a){this._writeAttributesEnd(),this.writeRaw("<![CDATA["+a+"]]>"),this.count++},writeComment:function(a){this._writeAttributesEnd(),this.writeRaw("<!-- "+a+"-->"),this.count++},writeRaw:function(a){this.str+=a},encode:function(a){return a.replace(/[<>&"]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;"}return a})},getContent:function(){return this.str},_writeAttributesEnd:function(a){if(!this.inAttr)return;return this.inAttr=!1,a&&this.elementCount==this.count?(this.writeRaw(" />"),!1):(this.writeRaw(">"),!0)}})}(tinymce),function(a){function g(a){return a.replace(/([?+*])/g,".$1")}var b=a.extend,c=a.each,d=a.util.Dispatcher,e=a.isIE,f=a.isGecko;a.create("tinymce.dom.Serializer",{Serializer:function(e){var f=this;f.key=0,f.onPreProcess=new d(f),f.onPostProcess=new d(f);try{f.writer=new a.dom.XMLWriter}catch(g){f.writer=new a.dom.StringWriter}f.settings=e=b({dom:a.DOM,valid_nodes:0,node_filter:0,attr_filter:0,invalid_attrs:/^(_mce_|_moz_|sizset|sizcache)/,closed:/^(br|hr|input|meta|img|link|param|area)$/,entity_encoding:"named",entities:"160,nbsp,161,iexcl,162,cent,163,pound,164,curren,165,yen,166,brvbar,167,sect,168,uml,169,copy,170,ordf,171,laquo,172,not,173,shy,174,reg,175,macr,176,deg,177,plusmn,178,sup2,179,sup3,180,acute,181,micro,182,para,183,middot,184,cedil,185,sup1,186,ordm,187,raquo,188,frac14,189,frac12,190,frac34,191,iquest,192,Agrave,193,Aacute,194,Acirc,195,Atilde,196,Auml,197,Aring,198,AElig,199,Ccedil,200,Egrave,201,Eacute,202,Ecirc,203,Euml,204,Igrave,205,Iacute,206,Icirc,207,Iuml,208,ETH,209,Ntilde,210,Ograve,211,Oacute,212,Ocirc,213,Otilde,214,Ouml,215,times,216,Oslash,217,Ugrave,218,Uacute,219,Ucirc,220,Uuml,221,Yacute,222,THORN,223,szlig,224,agrave,225,aacute,226,acirc,227,atilde,228,auml,229,aring,230,aelig,231,ccedil,232,egrave,233,eacute,234,ecirc,235,euml,236,igrave,237,iacute,238,icirc,239,iuml,240,eth,241,ntilde,242,ograve,243,oacute,244,ocirc,245,otilde,246,ouml,247,divide,248,oslash,249,ugrave,250,uacute,251,ucirc,252,uuml,253,yacute,254,thorn,255,yuml,402,fnof,913,Alpha,914,Beta,915,Gamma,916,Delta,917,Epsilon,918,Zeta,919,Eta,920,Theta,921,Iota,922,Kappa,923,Lambda,924,Mu,925,Nu,926,Xi,927,Omicron,928,Pi,929,Rho,931,Sigma,932,Tau,933,Upsilon,934,Phi,935,Chi,936,Psi,937,Omega,945,alpha,946,beta,947,gamma,948,delta,949,epsilon,950,zeta,951,eta,952,theta,953,iota,954,kappa,955,lambda,956,mu,957,nu,958,xi,959,omicron,960,pi,961,rho,962,sigmaf,963,sigma,964,tau,965,upsilon,966,phi,967,chi,968,psi,969,omega,977,thetasym,978,upsih,982,piv,8226,bull,8230,hellip,8242,prime,8243,Prime,8254,oline,8260,frasl,8472,weierp,8465,image,8476,real,8482,trade,8501,alefsym,8592,larr,8593,uarr,8594,rarr,8595,darr,8596,harr,8629,crarr,8656,lArr,8657,uArr,8658,rArr,8659,dArr,8660,hArr,8704,forall,8706,part,8707,exist,8709,empty,8711,nabla,8712,isin,8713,notin,8715,ni,8719,prod,8721,sum,8722,minus,8727,lowast,8730,radic,8733,prop,8734,infin,8736,ang,8743,and,8744,or,8745,cap,8746,cup,8747,int,8756,there4,8764,sim,8773,cong,8776,asymp,8800,ne,8801,equiv,8804,le,8805,ge,8834,sub,8835,sup,8836,nsub,8838,sube,8839,supe,8853,oplus,8855,otimes,8869,perp,8901,sdot,8968,lceil,8969,rceil,8970,lfloor,8971,rfloor,9001,lang,9002,rang,9674,loz,9824,spades,9827,clubs,9829,hearts,9830,diams,338,OElig,339,oelig,352,Scaron,353,scaron,376,Yuml,710,circ,732,tilde,8194,ensp,8195,emsp,8201,thinsp,8204,zwnj,8205,zwj,8206,lrm,8207,rlm,8211,ndash,8212,mdash,8216,lsquo,8217,rsquo,8218,sbquo,8220,ldquo,8221,rdquo,8222,bdquo,8224,dagger,8225,Dagger,8240,permil,8249,lsaquo,8250,rsaquo,8364,euro",valid_elements:"*[*]",extended_valid_elements:0,invalid_elements:0,fix_table_elements:1,fix_list_elements:!0,fix_content_duplication:!0,convert_fonts_to_spans:!1,font_size_classes:0,apply_source_formatting:0,indent_mode:"simple",indent_char:"\t",indent_levels:1,remove_linebreaks:1,remove_redundant_brs:1,element_format:"xhtml"},e),f.dom=e.dom,f.schema=e.schema,e.entity_encoding=="named"&&!e.entities&&(e.entity_encoding="raw"),e.remove_redundant_brs&&f.onPostProcess.add(function(a,b){b.content=b.content.replace(/(<br \/>\s*)+<\/(p|h[1-6]|div|li)>/gi,function(a,b,c){return/^<br \/>\s*<\//.test(a)?"</"+c+">":a})}),e.element_format=="html"&&f.onPostProcess.add(function(a,b){b.content=b.content.replace(/<([^>]+) \/>/g,"<$1>")}),e.fix_list_elements&&f.onPreProcess.add(function(a,b){function m(a,b){var c=b.split(","),d;while((a=a.previousSibling)!=null)for(d=0;d<c.length;d++)if(a.nodeName==c[d])return a;return null}var c,d,e=["ol","ul"],g,h,j,k=/^(OL|UL)$/,l;for(d=0;d<e.length;d++){c=f.dom.select(e[d],b.node);for(g=0;g<c.length;g++)h=c[g],j=h.parentNode,k.test(j.nodeName)&&(l=m(h,"LI"),l?l.appendChild(h):(l=f.dom.create("li"),l.innerHTML="&nbsp;",l.appendChild(h),j.insertBefore(l,j.firstChild)))}}),e.fix_table_elements&&f.onPreProcess.add(function(b,d){(!a.isOpera||opera.buildNumber()>=1767)&&c(f.dom.select("p table",d.node).reverse(),function(a){var b=f.dom.getParent(a.parentNode,"table,p");if(b.nodeName!="TABLE")try{f.dom.split(b,a)}catch(c){}})})},setEntities:function(a){var b=this,c,d,e={},f;if(b.entityLookup)return;c=a.split(",");for(d=0;d<c.length;d+=2){f=c[d];if(f==34||f==38||f==60||f==62)continue;e[String.fromCharCode(c[d])]=c[d+1],f=parseInt(c[d]).toString(16)}b.entityLookup=e},setRules:function(a){var b=this;return b._setup(),b.rules={},b.wildRules=[],b.validElements={},b.addRules(a)},addRules:function(b){var d=this,e;if(!b)return;d._setup(),c(b.split(","),function(b){var f=b.split(/\[|\]/),i=f[0].split("/"),k,l,m,n=[];e&&(l=a.extend([],e.attribs)),f.length>1&&c(f[1].split("|"),function(a){var b={},c;l=l||[],a=a.replace(/::/g,"~"),a=/^([!\-])?([\w*.?~_\-]+|)([=:<])?(.+)?$/.exec(a),a[2]=a[2].replace(/~/g,":"),a[1]=="!"&&(k=k||[],k.push(a[2]));if(a[1]=="-")for(c=0;c<l.length;c++)if(l[c].name==a[2]){l.splice(c,1);return}switch(a[3]){case"=":b.defaultVal=a[4]||"";break;case":":b.forcedVal=a[4];break;case"<":b.validVals=a[4].split("?")}/[*.?]/.test(a[2])?(m=m||[],b.nameRE=new RegExp("^"+g(a[2])+"$"),m.push(b)):(b.name=a[2],l.push(b)),n.push(a[2])}),c(i,function(a,b){var f=a.charAt(0),p=1,q={};e&&(e.noEmpty&&(q.noEmpty=e.noEmpty),e.fullEnd&&(q.fullEnd=e.fullEnd),e.padd&&(q.padd=e.padd));switch(f){case"-":q.noEmpty=!0;break;case"+":q.fullEnd=!0;break;case"#":q.padd=!0;break;default:p=0}i[b]=a=a.substring(p),d.validElements[a]=1,/[*.?]/.test(i[0])?(q.nameRE=new RegExp("^"+g(i[0])+"$"),d.wildRules=d.wildRules||{},d.wildRules.push(q)):(q.name=i[0],i[0]=="@"&&(e=q),d.rules[a]=q),q.attribs=l,k&&(q.requiredAttribs=k),m&&(a="",c(n,function(b){a&&(a+="|"),a+="("+g(b)+")"}),q.validAttribsRE=new RegExp("^"+a.toLowerCase()+"$"),q.wildAttribs=m)})}),b="",c(d.validElements,function(a,c){b&&(b+="|"),c!="@"&&(b+=c)}),d.validElementsRE=new RegExp("^("+g(b.toLowerCase())+")$")},findRule:function(a){var b=this,c=b.rules,d,e;b._setup(),e=c[a];if(e)return e;c=b.wildRules;for(d=0;d<c.length;d++)if(c[d].nameRE.test(a))return c[d];return null},findAttribRule:function(a,b){var c,d=a.wildAttribs;for(c=0;c<d.length;c++)if(d[c].nameRE.test(b))return d[c];return null},serialize:function(b,d){var f,g=this,h,i,j,k;return g._setup(),d=d||{},d.format=d.format||"html",g.processObj=d,e&&(k=[],c(b.getElementsByTagName("option"),function(a){var b=g.dom.getAttrib(a,"selected");k.push(b?b:null)})),b=b.cloneNode(!0),e&&c(b.getElementsByTagName("option"),function(a,b){g.dom.setAttrib(a,"selected",k[b])}),j=b.ownerDocument.implementation,j.createHTMLDocument&&a.isOpera&&opera.buildNumber()>=1767&&(h=j.createHTMLDocument(""),c(b.nodeName=="BODY"?b.childNodes:[b],function(a){h.body.appendChild(h.importNode(a,!0))}),b.nodeName!="BODY"?b=h.body.firstChild:b=h.body,i=g.dom.doc,g.dom.doc=h),g.key=""+(parseInt(g.key)+1),d.no_events||(d.node=b,g.onPreProcess.dispatch(g,d)),g.writer.reset(),g._info=d,g._serializeNode(b,d.getInner),d.content=g.writer.getContent(),i&&(g.dom.doc=i),d.no_events||g.onPostProcess.dispatch(g,d),g._postProcess(d),d.node=null,a.trim(d.content)},_postProcess:function(a){var b=this,c=b.settings,d=a.content,e=[],f;a.format=="html"&&(f=b._protect({content:d,patterns:[{pattern:/(<script[^>]*>)(.*?)(<\/script>)/g},{pattern:/(<noscript[^>]*>)(.*?)(<\/noscript>)/g},{pattern:/(<style[^>]*>)(.*?)(<\/style>)/g},{pattern:/(<pre[^>]*>)(.*?)(<\/pre>)/g,encode:1},{pattern:/(<!--\[CDATA\[)(.*?)(\]\]-->)/g}]}),d=f.content,c.entity_encoding!=="raw"&&(d=b._encode(d)),a.set||(d=d.replace(/<p>\s+<\/p>|<p([^>]+)>\s+<\/p>/g,c.entity_encoding=="numeric"?"<p$1>&#160;</p>":"<p$1>&nbsp;</p>"),c.remove_linebreaks&&(d=d.replace(/\r?\n|\r/g," "),d=d.replace(/(<[^>]+>)\s+/g,"$1 "),d=d.replace(/\s+(<\/[^>]+>)/g," $1"),d=d.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object) ([^>]+)>\s+/g,"<$1 $2>"),d=d.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>\s+/g,"<$1>"),d=d.replace(/\s+<\/(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>/g,"</$1>")),c.apply_source_formatting&&c.indent_mode=="simple"&&(d=d.replace(/<(\/?)(ul|hr|table|meta|link|tbody|tr|object|body|head|html|map)(|[^>]+)>\s*/g,"\n<$1$2$3>\n"),d=d.replace(/\s*<(p|h[1-6]|blockquote|div|title|style|pre|script|td|li|area)(|[^>]+)>/g,"\n<$1$2>"),d=d.replace(/<\/(p|h[1-6]|blockquote|div|title|style|pre|script|td|li)>\s*/g,"</$1>\n"),d=d.replace(/\n\n/g,"\n"))),d=b._unprotect(d,f),d=d.replace(/<!--\[CDATA\[([\s\S]+)\]\]-->/g,"<![CDATA[$1]]>"),c.entity_encoding=="raw"&&(d=d.replace(/<p>&nbsp;<\/p>|<p([^>]+)>&nbsp;<\/p>/g,"<p$1>Â </p>")),d=d.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(a,c,d){return"<noscript"+c+">"+b.dom.decode(d.replace(/<!--|-->/g,""))+"</noscript>"})),a.content=d},_serializeNode:function(b,c){var d=this,g=d.settings,h=d.writer,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(!g.node_filter||g.node_filter(b))switch(b.nodeType){case 1:if(b.hasAttribute?b.hasAttribute("_mce_bogus"):b.getAttribute("_mce_bogus"))return;u=w=!1,i=b.hasChildNodes(),r=b.getAttribute("_mce_name")||b.nodeName.toLowerCase(),x=b.getAttribute("_mce_type");if(x){if(!d._info.cleanup){u=!0;return}w=1}e&&(y=b.scopeName,y&&y!=="HTML"&&y!=="html"&&(r=y+":"+r)),r.indexOf("mce:")===0&&(r=r.substring(4));if(!w)if(!d.validElementsRE||!d.validElementsRE.test(r)||d.invalidElementsRE&&d.invalidElementsRE.test(r)||c){u=!0;break}if(e){if(g.fix_content_duplication){if(b._mce_serialized==d.key)return;b._mce_serialized=d.key}r.charAt(0)=="/"&&(r=r.substring(1))}else if(f&&b.nodeName==="BR"&&b.getAttribute("type")=="_moz")return;if(g.validate_children){if(d.elementName&&!d.schema.isValid(d.elementName,r)){u=!0;break}d.elementName=r}s=d.findRule(r);if(!s){u=!0;break}r=s.name||r,v=g.closed.test(r);if(!i&&s.noEmpty||e&&!r){u=!0;break}if(s.requiredAttribs){n=s.requiredAttribs;for(l=n.length-1;l>=0;l--)if(this.dom.getAttrib(b,n[l])!=="")break;if(l==-1){u=!0;break}}h.writeStartElement(r);if(s.attribs)for(l=0,o=s.attribs,m=o.length;l<m;l++)n=o[l],q=d._getAttrib(b,n),q!==null&&h.writeAttribute(n.name,q);if(s.validAttribsRE){o=d.dom.getAttribs(b);for(l=o.length-1;l>-1;l--){p=o[l];if(p.specified){n=p.nodeName.toLowerCase();if(g.invalid_attrs.test(n)||!s.validAttribsRE.test(n))continue;t=d.findAttribRule(s,n),q=d._getAttrib(b,t,n),q!==null&&h.writeAttribute(n,q)}}}x&&w&&h.writeAttribute("_mce_type",x);if(r==="script"&&a.trim(b.innerHTML)){h.writeText("// "),h.writeCDATA(b.innerHTML.replace(/<!--|-->|<\[CDATA\[|\]\]>/g,"")),i=!1;break}s.padd&&(i&&(k=b.firstChild)&&k.nodeType===1&&b.childNodes.length===1?(k.hasAttribute?k.hasAttribute("_mce_bogus"):k.getAttribute("_mce_bogus"))&&h.writeText("Â "):i||h.writeText("Â "));break;case 3:if(g.validate_children&&d.elementName&&!d.schema.isValid(d.elementName,"#text"))return;return h.writeText(b.nodeValue);case 4:return h.writeCDATA(b.nodeValue);case 8:return h.writeComment(b.nodeValue)}else b.nodeType==1&&(i=b.hasChildNodes());if(i&&!v){k=b.firstChild;while(k)d._serializeNode(k),d.elementName=r,k=k.nextSibling}u||(v?h.writeEndElement():h.writeFullEndElement())},_protect:function(a){function d(a){return a.replace(/[\r\n\\]/g,function(a){return a==="\n"?"\\n":a==="\\"?"\\\\":"\\r"})}function e(a){return a.replace(/\\[\\rn]/g,function(a){return a==="\\n"?"\n":a==="\\\\"?"\\":"\r"})}var b=this;return a.items=a.items||[],c(a.patterns,function(c){a.content=e(d(a.content).replace(c.pattern,function(d,f,g,h){return g=e(g),c.encode&&(g=b._encode(g)),a.items.push(g),f+"<!--mce:"+(a.items.length-1)+"-->"+h}))}),a},_unprotect:function(a,b){return a=a.replace(/\<!--mce:([0-9]+)--\>/g,function(a,c){return b.items[parseInt(c)]}),b.items=[],a},_encode:function(a){var b=this,c=b.settings,d;return c.entity_encoding!=="raw"&&(c.entity_encoding.indexOf("named")!=-1&&(b.setEntities(c.entities),d=b.entityLookup,a=a.replace(/[\u007E-\uFFFF]/g,function(a){var b;if(b=d[a])a="&"+b+";";return a})),c.entity_encoding.indexOf("numeric")!=-1&&(a=a.replace(/[\u007E-\uFFFF]/g,function(a){return"&#"+a.charCodeAt(0)+";"}))),a},_setup:function(){var a=this,b=this.settings;if(a.done)return;a.done=1,a.setRules(b.valid_elements),a.addRules(b.extended_valid_elements),b.invalid_elements&&(a.invalidElementsRE=new RegExp("^("+g(b.invalid_elements.replace(/,/g,"|").toLowerCase())+")$")),b.attrib_value_filter&&(a.attribValueFilter=b.attribValueFilter)},_getAttrib:function(a,b,c){var d,e;c=c||b.name;if(b.forcedVal&&(e=b.forcedVal))return e==="{$uid}"?this.dom.uniqueId():e;e=this.dom.getAttrib(a,c);switch(c){case"rowspan":case"colspan":e=="1"&&(e="")}this.attribValueFilter&&(e=this.attribValueFilter(c,e,a));if(b.validVals){for(d=b.validVals.length-1;d>=0;d--)if(e==b.validVals[d])break;if(d==-1)return null}return e===""&&typeof b.defaultVal!="undefined"?(e=b.defaultVal,e==="{$uid}"?this.dom.uniqueId():e):(c=="class"&&this.processObj.get&&(e=e.replace(/\s?mceItem\w+\s?/g,"")),e===""?null:e)}})}(tinymce),function(a){a.dom.ScriptLoader=function(b){function l(b,c){function j(){e.remove(i),f&&(f.onreadystatechange=f.onload=f=null),c()}var d=this,e=a.DOM,f,g,h,i;i=e.uniqueId();if(a.isIE6){g=new a.util.URI(b),h=location;if(g.host==h.hostname&&g.port==h.port&&g.protocol+":"==h.protocol){a.util.XHR.send({url:a._addVer(g.getURI()),success:function(a){var b=e.create("script",{type:"text/javascript"});b.text=a,document.getElementsByTagName("head")[0].appendChild(b),e.remove(b),j()}});return}}f=e.create("script",{id:i,type:"text/javascript",src:a._addVer(b)}),f.onload=j,f.onreadystatechange=function(){var a=f.readyState;(a=="complete"||a=="loaded")&&j()},(document.getElementsByTagName("head")[0]||document.body).appendChild(f)}var c=0,d=1,e=2,f={},g=[],h={},i=[],j=0,k;this.isDone=function(a){return f[a]==e},this.markDone=function(a){f[a]=e},this.add=this.load=function(a,b,d){var e,i=f[a];i==k&&(g.push(a),f[a]=c),b&&(h[a]||(h[a]=[]),h[a].push({func:b,scope:d||this}))},this.loadQueue=function(a,b){this.loadScripts(g,a,b)},this.loadScripts=function(b,c,g){function n(b){a.each(h[b],function(a){a.func.call(a.scope)}),h[b]=k}var m;i.push({func:c,scope:g||this}),m=function(){var c=a.grep(b);b.length=0,a.each(c,function(a){if(f[a]==e){n(a);return}f[a]!=d&&(f[a]=d,j++,l(a,function(){f[a]=e,j--,n(a),m()}))}),j||(a.each(i,function(a){a.func.call(a.scope)}),i.length=0)},m()}},a.ScriptLoader=new a.dom.ScriptLoader}(tinymce),tinymce.dom.TreeWalker=function(a,b){function d(a,c,d,e){var f,g;if(a){if(!e&&a[c])return a[c];if(a!=b){f=a[d];if(f)return f;for(g=a.parentNode;g&&g!=b;g=g.parentNode){f=g[d];if(f)return f}}}}var c=a;this.current=function(){return c},this.next=function(a){return c=d(c,"firstChild","nextSibling",a)},this.prev=function(a){return c=d(c,"lastChild","lastSibling",a)}},function(){function b(b,c){function e(a){return a.replace(/[A-Z]+/g,function(a){return e(b[a])})}var d;for(d in b)b.hasOwnProperty(d)&&(b[d]=e(b[d]));e(c).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]/g,function(b,c,d){var e,f={};d=d.split(/\|/);for(e=d.length-1;e>=0;e--)f[d[e]]=1;a[c]=f})}var a={};b({Z:"#|H|K|N|O|P",Y:"#|X|form|R|Q",X:"p|T|div|U|W|isindex|fieldset|table",W:"pre|hr|blockquote|address|center|noframes",U:"ul|ol|dl|menu|dir",ZC:"#|p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"#|X|S|Q",S:"R|P",ZA:"#|a|G|J|M|O|P",R:"#|a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe"},"script[]style[]object[#|param|X|form|a|H|K|N|O|Q]param[]p[S]a[Z]br[]span[S]bdo[S]applet[#|param|X|form|a|H|K|N|O|Q]h1[S]img[]map[X|form|Q|area]h2[S]iframe[#|X|form|a|H|K|N|O|Q]h3[S]tt[S]i[S]b[S]u[S]s[S]strike[S]big[S]small[S]font[S]basefont[]em[S]strong[S]dfn[S]code[S]q[S]samp[S]kbd[S]var[S]cite[S]abbr[S]acronym[S]sub[S]sup[S]input[]select[optgroup|option]optgroup[option]option[]textarea[]label[S]button[#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[S]ins[#|X|form|a|H|K|N|O|Q]h5[S]del[#|X|form|a|H|K|N|O|Q]h6[S]div[#|X|form|a|H|K|N|O|Q]ul[li]li[#|X|form|a|H|K|N|O|Q]ol[li]dl[dt|dd]dt[S]dd[#|X|form|a|H|K|N|O|Q]menu[li]dir[li]pre[ZA]hr[]blockquote[#|X|form|a|H|K|N|O|Q]address[S|p]center[#|X|form|a|H|K|N|O|Q]noframes[#|X|form|a|H|K|N|O|Q]isindex[]fieldset[#|legend|X|form|a|H|K|N|O|Q]legend[S]table[caption|col|colgroup|thead|tfoot|tbody|tr]caption[S]col[]colgroup[col]thead[tr]tr[th|td]th[#|X|form|a|H|K|N|O|Q]form[#|X|a|H|K|N|O|Q]noscript[#|X|form|a|H|K|N|O|Q]td[#|X|form|a|H|K|N|O|Q]tfoot[tr]tbody[tr]area[]base[]body[#|X|form|a|H|K|N|O|Q]"),tinymce.dom.Schema=function(){var b=this,c=a;b.isValid=function(a,b){var e=c[a];return!(!e||!!b&&!e[b])}}}(),function(a){a.dom.RangeUtils=function(b){var c="ï»¿";this.walk=function(c,d){function p(a,b,c){var d=[];for(;a&&a!=c;a=a[b])d.push(a);return d}function q(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function r(a,b,c){var e=c?"nextSibling":"previousSibling";for(l=a,m=l.parentNode;l&&l!=b;l=m)m=l.parentNode,n=p(l==a?l:l[e],e),n.length&&(c||n.reverse(),d(n))}var e=c.startContainer,f=c.startOffset,g=c.endContainer,h=c.endOffset,i,j,k,l,m,n,o;o=b.select("td.mceSelected,th.mceSelected");if(o.length>0){a.each(o,function(a){d([a])});return}e.nodeType==1&&e.hasChildNodes()&&(e=e.childNodes[f]),g.nodeType==1&&g.hasChildNodes()&&(g=g.childNodes[Math.min(f==h?h:h-1,g.childNodes.length-1)]),i=b.findCommonAncestor
(e,g);if(e==g)return d([e]);for(l=e;l;l=l.parentNode){if(l==g)return r(e,i,!0);if(l==i)break}for(l=g;l;l=l.parentNode){if(l==e)return r(g,i);if(l==i)break}j=q(e,i)||e,k=q(g,i)||g,r(e,j,!0),n=p(j==e?j:j.nextSibling,"nextSibling",k==g?k.nextSibling:k),n.length&&d(n),r(g,k)}},a.dom.RangeUtils.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;if(a.item&&b.item&&a.item(0)===b.item(0))return!0;if(a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1}}(tinymce),function(a){var b=a.DOM,c=a.is;a.create("tinymce.ui.Control",{Control:function(b,c){this.id=b,this.settings=c=c||{},this.rendered=!1,this.onRender=new a.util.Dispatcher(this),this.classPrefix="",this.scope=c.scope||this,this.disabled=0,this.active=0},setDisabled:function(a){var c;a!=this.disabled&&(c=b.get(this.id),c&&this.settings.unavailable_prefix&&(a?(this.prevTitle=c.title,c.title=this.settings.unavailable_prefix+": "+c.title):c.title=this.prevTitle),this.setState("Disabled",a),this.setState("Enabled",!a),this.disabled=a)},isDisabled:function(){return this.disabled},setActive:function(a){a!=this.active&&(this.setState("Active",a),this.active=a)},isActive:function(){return this.active},setState:function(a,c){var d=b.get(this.id);a=this.classPrefix+a,c?b.addClass(d,a):b.removeClass(d,a)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(a){b.setHTML(a,this.renderHTML())},postRender:function(){var a=this,b;c(a.disabled)&&(b=a.disabled,a.disabled=-1,a.setDisabled(b)),c(a.active)&&(b=a.active,a.active=-1,a.setActive(b))},remove:function(){b.remove(this.id),this.destroy()},destroy:function(){a.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(a,b){this.parent(a,b),this.controls=[],this.lookup={}},add:function(a){return this.lookup[a.id]=a,this.controls.push(a),a},get:function(a){return this.lookup[a]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(a,b){this.parent(a,b),this.classPrefix="mceSeparator"},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix})}}),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.walk;a.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(a,b){this.parent(a,b),this.classPrefix="mceMenuItem"},setSelected:function(a){this.setState("Selected",a),this.selected=a},isSelected:function(){return this.selected},postRender:function(){var a=this;a.parent(),b(a.selected)&&a.setSelected(a.selected)}})}(tinymce),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.walk;a.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(b,c){var d=this;d.parent(b,c),d.items={},d.collapsed=!1,d.menuCount=0,d.onAddItem=new a.util.Dispatcher(this)},expand:function(a){var b=this;a&&e(b,function(a){a.expand&&a.expand()},"items",b),b.collapsed=!1},collapse:function(a){var b=this;a&&e(b,function(a){a.collapse&&a.collapse()},"items",b),b.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(b){return b.settings||(b=new a.ui.MenuItem(b.id||c.uniqueId(),b)),this.onAddItem.dispatch(this,b),this.items[b.id]=b},addSeparator:function(){return this.add({separator:!0})},addMenu:function(a){return a.collapse||(a=this.createMenu(a)),this.menuCount++,this.add(a)},hasMenus:function(){return this.menuCount!==0},remove:function(a){delete this.items[a.id]},removeAll:function(){var a=this;e(a,function(a){a.removeAll?a.removeAll():a.remove(),a.destroy()},"items",a),a.items={}},createMenu:function(b){var d=new a.ui.Menu(b.id||c.uniqueId(),b);return d.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),d}})}(tinymce),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.dom.Event,f=a.dom.Element;a.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(d,e){e=e||{},e.container=e.container||c.doc.body,e.offset_x=e.offset_x||0,e.offset_y=e.offset_y||0,e.vp_offset_x=e.vp_offset_x||0,e.vp_offset_y=e.vp_offset_y||0,b(e.icons)&&!e.icons&&(e["class"]+=" mceNoIcons"),this.parent(d,e),this.onShowMenu=new a.util.Dispatcher(this),this.onHideMenu=new a.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(b){var d=this,e=d.settings,f;return b.container=b.container||e.container,b.parent=d,b.constrain=b.constrain||e.constrain,b["class"]=b["class"]||e["class"],b.vp_offset_x=b.vp_offset_x||e.vp_offset_x,b.vp_offset_y=b.vp_offset_y||e.vp_offset_y,f=new a.ui.DropMenu(b.id||c.uniqueId(),b),f.onAddItem.add(d.onAddItem.dispatch,d.onAddItem),f},update:function(){var a=this,b=a.settings,d=c.get("menu_"+a.id+"_tbl"),e=c.get("menu_"+a.id+"_co"),f,g;f=b.max_width?Math.min(d.clientWidth,b.max_width):d.clientWidth,g=b.max_height?Math.min(d.clientHeight,b.max_height):d.clientHeight,c.boxModel?a.element.setStyles({width:f,height:g}):a.element.setStyles({width:f+2,height:g+2}),b.max_width&&c.setStyle(e,"width",f),b.max_height&&(c.setStyle(e,"height",g),d.clientHeight<b.max_height&&c.setStyle(e,"overflow","hidden"))},showMenu:function(b,g,h){var i=this,j=i.settings,k,l=c.getViewPort(),m,n,o,p,q=2,r,s,t=i.classPrefix;i.collapse(1);if(i.isMenuVisible)return;i.rendered?k=c.get("menu_"+i.id):(k=c.add(i.settings.container,i.renderNode()),d(i.items,function(a){a.postRender()}),i.element=new f("menu_"+i.id,{blocker:1,container:j.container})),a.isOpera||c.setStyles(k,{left:-65535,top:-65535}),c.show(k),i.update(),b+=j.offset_x||0,g+=j.offset_y||0,l.w-=4,l.h-=4,j.constrain&&(m=k.clientWidth-q,n=k.clientHeight-q,o=l.x+l.w,p=l.y+l.h,b+j.vp_offset_x+m>o&&(b=h?h-m:Math.max(0,o-j.vp_offset_x-m)),g+j.vp_offset_y+n>p&&(g=Math.max(0,p-j.vp_offset_y-n))),c.setStyles(k,{left:b,top:g}),i.element.update(),i.isMenuVisible=1,i.mouseClickFunc=e.add(k,"click",function(a){var b;a=a.target;if(a&&(a=c.getParent(a,"tr"))&&!c.hasClass(a,t+"ItemSub")){b=i.items[a.id];if(b.isDisabled())return;r=i;while(r)r.hideMenu&&r.hideMenu(),r=r.settings.parent;return b.settings.onclick&&b.settings.onclick(a),e.cancel(a)}}),i.hasMenus()&&(i.mouseOverFunc=e.add(k,"mouseover",function(a){var b,d,e;a=a.target;if(a&&(a=c.getParent(a,"tr"))){b=i.items[a.id],i.lastMenu&&i.lastMenu.collapse(1);if(b.isDisabled())return;a&&c.hasClass(a,t+"ItemSub")&&(d=c.getRect(a),b.showMenu(d.x+d.w-q,d.y-q,d.x),i.lastMenu=b,c.addClass(c.get(b.id).firstChild,t+"ItemActive"))}})),i.onShowMenu.dispatch(i),j.keyboard_focus&&(e.add(k,"keydown",i._keyHandler,i),c.select("a","menu_"+i.id)[0].focus(),i._focusIdx=0)},hideMenu:function(a){var b=this,d=c.get("menu_"+b.id),f;if(!b.isMenuVisible)return;e.remove(d,"mouseover",b.mouseOverFunc),e.remove(d,"click",b.mouseClickFunc),e.remove(d,"keydown",b._keyHandler),c.hide(d),b.isMenuVisible=0,a||b.collapse(1),b.element&&b.element.hide(),(f=c.get(b.id))&&c.removeClass(f.firstChild,b.classPrefix+"ItemActive"),b.onHideMenu.dispatch(b)},add:function(a){var b=this,d;return a=b.parent(a),b.isRendered&&(d=c.get("menu_"+b.id))&&b._add(c.select("tbody",d)[0],a),a},collapse:function(a){this.parent(a),this.hideMenu(1)},remove:function(a){return c.remove(a.id),this.destroy(),this.parent(a)},destroy:function(){var a=this,b=c.get("menu_"+a.id);e.remove(b,"mouseover",a.mouseOverFunc),e.remove(b,"click",a.mouseClickFunc),a.element&&a.element.remove(),c.remove(b)},renderNode:function(){var a=this,b=a.settings,e,g,h,i;return i=c.create("div",{id:"menu_"+a.id,"class":b["class"],style:"position:absolute;left:0;top:0;z-index:200000"}),h=c.add(i,"div",{id:"menu_"+a.id+"_co","class":a.classPrefix+(b["class"]?" "+b["class"]:"")}),a.element=new f("menu_"+a.id,{blocker:1,container:b.container}),b.menu_line&&c.add(h,"span",{"class":a.classPrefix+"Line"}),e=c.add(h,"table",{id:"menu_"+a.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),g=c.add(e,"tbody"),d(a.items,function(b){a._add(g,b)}),a.rendered=!0,i},_keyHandler:function(a){function e(a){var d=b._focusIdx+a,e=c.select("a","menu_"+b.id)[d];e&&(b._focusIdx=d,e.focus())}var b=this,d=a.keyCode;switch(d){case 38:e(-1);return;case 40:e(1);return;case 13:return;case 27:return this.hideMenu()}},_add:function(a,b){var d,e=b.settings,f,g,h,i=this.classPrefix,j;if(e.separator){g=c.add(a,"tr",{id:b.id,"class":i+"ItemSeparator"}),c.add(g,"td",{"class":i+"ItemSeparator"}),(d=g.previousSibling)&&c.addClass(d,"mceLast");return}d=g=c.add(a,"tr",{id:b.id,"class":i+"Item "+i+"ItemEnabled"}),d=h=c.add(d,"td"),d=f=c.add(d,"a",{href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),c.addClass(h,e["class"]),j=c.add(d,"span",{"class":"mceIcon"+(e.icon?" mce_"+e.icon:"")}),e.icon_src&&c.add(j,"img",{src:e.icon_src}),d=c.add(d,e.element||"span",{"class":"mceText",title:b.settings.title},b.settings.title),b.settings.style&&c.setAttrib(d,"style",b.settings.style),a.childNodes.length==1&&c.addClass(g,"mceFirst"),(d=g.previousSibling)&&c.hasClass(d,i+"ItemSeparator")&&c.addClass(g,"mceFirst"),b.collapse&&c.addClass(g,i+"ItemSub"),(d=g.previousSibling)&&c.removeClass(d,"mceLast"),c.addClass(g,"mceLast")}})}(tinymce),function(a){var b=a.DOM;a.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(a,b){this.parent(a,b),this.classPrefix="mceButton"},renderHTML:function(){var a=this.classPrefix,c=this.settings,d,e;return e=b.encode(c.label||""),d='<a id="'+this.id+'" href="javascript:;" class="'+a+" "+a+"Enabled "+c["class"]+(e?" "+a+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" title="'+b.encode(c.title)+'">',c.image?d+='<img class="mceIcon" src="'+c.image+'" />'+e+"</a>":d+='<span class="mceIcon '+c["class"]+'"></span>'+(e?'<span class="'+a+'Label">'+e+"</span>":"")+"</a>",d},postRender:function(){var b=this,c=b.settings;a.dom.Event.add(b.id,"click",function(a){if(!b.isDisabled())return c.onclick.call(c.scope,a)})}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.util.Dispatcher;a.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(b,c){var d=this;d.parent(b,c),d.items=[],d.onChange=new e(d),d.onPostRender=new e(d),d.onAdd=new e(d),d.onRenderMenu=new a.util.Dispatcher(this),d.classPrefix="mceListBox"},select:function(a){var b=this,c,e;if(a==undefined)return b.selectByIndex(-1);a&&a.call?e=a:e=function(b){return b==a},a!=b.selectedValue&&(d(b.items,function(a,d){if(e(a.value))return c=1,b.selectByIndex(d),!1}),c||b.selectByIndex(-1))},selectByIndex:function(a){var c=this,d,e;a!=c.selectedIndex&&(d=b.get(c.id+"_text"),e=c.items[a],e?(c.selectedValue=e.value,c.selectedIndex=a,b.setHTML(d,b.encode(e.title)),b.removeClass(d,"mceTitle")):(b.setHTML(d,b.encode(c.settings.title)),b.addClass(d,"mceTitle"),c.selectedValue=c.selectedIndex=null),d=0)},add:function(b,c,d){var e=this;d=d||{},d=a.extend(d,{title:b,value:c}),e.items.push(d),e.onAdd.dispatch(e,d)},getLength:function(){return this.items.length},renderHTML:function(){var a="",c=this,d=c.settings,e=c.classPrefix;return a='<table id="'+c.id+'" cellpadding="0" cellspacing="0" class="'+e+" "+e+"Enabled"+(d["class"]?" "+d["class"]:"")+'"><tbody><tr>',a+="<td>"+b.createHTML("a",{id:c.id+"_text",href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},b.encode(c.settings.title))+"</td>",a+="<td>"+b.createHTML("a",{id:c.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},"<span></span>")+"</td>",a+="</tr></tbody></table>",a},showMenu:function(){var e=this,f,g,h=b.get(this.id),i;if(e.isDisabled()||e.items.length==0)return;if(e.menu&&e.menu.isMenuVisible)return e.hideMenu();e.isMenuRendered||(e.renderMenu(),e.isMenuRendered=!0),f=b.getPos(this.settings.menu_container),g=b.getPos(h),i=e.menu,i.settings.offset_x=g.x,i.settings.offset_y=g.y,i.settings.keyboard_focus=!a.isOpera,e.oldID&&i.items[e.oldID].setSelected(0),d(e.items,function(a){a.value===e.selectedValue&&(i.items[a.id].setSelected(1),e.oldID=a.id)}),i.showMenu(0,h.clientHeight),c.add(b.doc,"mousedown",e.hideMenu,e),b.addClass(e.id,e.classPrefix+"Selected")},hideMenu:function(a){var d=this;if(d.menu&&d.menu.isMenuVisible){if(!(!a||a.type!="mousedown"||a.target.id!=d.id+"_text"&&a.target.id!=d.id+"_open"))return;if(!a||!b.getParent(a.target,".mceMenu"))b.removeClass(d.id,d.classPrefix+"Selected"),c.remove(b.doc,"mousedown",d.hideMenu,d),d.menu.hideMenu()}},renderMenu:function(){var a=this,c;c=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":a.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150}),c.onHideMenu.add(a.hideMenu,a),c.add({title:a.settings.title,"class":"mceMenuItemTitle",onclick:function(){a.settings.onselect("")!==!1&&a.select("")}}),d(a.items,function(d){d.value===undefined?c.add({title:d.title,"class":"mceMenuItemTitle",onclick:function(){a.settings.onselect("")!==!1&&a.select("")}}):(d.id=b.uniqueId(),d.onclick=function(){a.settings.onselect(d.value)!==!1&&a.select(d.value)},c.add(d))}),a.onRenderMenu.dispatch(a,c),a.menu=c},postRender:function(){var e=this,f=e.classPrefix;c.add(e.id,"click",e.showMenu,e),c.add(e.id+"_text","focus",function(){e._focused||(e.keyDownHandler=c.add(e.id+"_text","keydown",function(a){var b=-1,f,g=a.keyCode;d(e.items,function(a,c){e.selectedValue==a.value&&(b=c)});if(g==38)f=e.items[b-1];else if(g==40)f=e.items[b+1];else if(g==13)return f=e.selectedValue,e.selectedValue=null,e.settings.onselect(f),c.cancel(a);f&&(e.hideMenu(),e.select(f.value))})),e._focused=1}),c.add(e.id+"_text","blur",function(){c.remove(e.id+"_text","keydown",e.keyDownHandler),e._focused=0});if(a.isIE6||!b.boxModel)c.add(e.id,"mouseover",function(){b.hasClass(e.id,f+"Disabled")||b.addClass(e.id,f+"Hover")}),c.add(e.id,"mouseout",function(){b.hasClass(e.id,f+"Disabled")||b.removeClass(e.id,f+"Hover")});e.onPostRender.dispatch(e,b.get(e.id))},destroy:function(){this.parent(),c.clear(this.id+"_text"),c.clear(this.id+"_open")}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.util.Dispatcher;a.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(a,b){this.parent(a,b),this.classPrefix="mceNativeListBox"},setDisabled:function(a){b.get(this.id).disabled=a},isDisabled:function(){return b.get(this.id).disabled},select:function(a){var b=this,c,e;if(a==undefined)return b.selectByIndex(-1);a&&a.call?e=a:e=function(b){return b==a},a!=b.selectedValue&&(d(b.items,function(a,d){if(e(a.value))return c=1,b.selectByIndex(d),!1}),c||b.selectByIndex(-1))},selectByIndex:function(a){b.get(this.id).selectedIndex=a+1,this.selectedValue=this.items[a]?this.items[a].value:null},add:function(a,c,d){var e,f=this;d=d||{},d.value=c,f.isRendered()&&b.add(b.get(this.id),"option",d,a),e={title:a,value:c,attribs:d},f.items.push(e),f.onAdd.dispatch(f,e)},getLength:function(){return this.items.length},renderHTML:function(){var a,c=this;return a=b.createHTML("option",{value:""},"-- "+c.settings.title+" --"),d(c.items,function(c){a+=b.createHTML("option",{value:c.value},c.title)}),a=b.createHTML("select",{id:c.id,"class":"mceNativeListBox"},a),a},postRender:function(){function e(b){var c=a.items[b.target.selectedIndex-1];c&&(c=c.value)&&(a.onChange.dispatch(a,c),a.settings.onselect&&a.settings.onselect(c))}var a=this,d;a.rendered=!0,c.add(a.id,"change",e),c.add(a.id,"keydown",function(b){var i;c.remove(a.id,"change",d),i=c.add(a.id,"blur",function(){c.add(a.id,"change",e),c.remove(a.id,"blur",i)});if(b.keyCode==13||b.keyCode==32)return e(b),c.cancel(b)}),a.onPostRender.dispatch(a,b.get(a.id))}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each;a.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(c,d){this.parent(c,d),this.onRenderMenu=new a.util.Dispatcher(this),d.menu_container=d.menu_container||b.doc.body},showMenu:function(){var a=this,d,e,f=b.get(a.id),g;if(a.isDisabled())return;a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);if(a.isMenuVisible)return a.hideMenu();d=b.getPos(a.settings.menu_container),e=b.getPos(f),g=a.menu,g.settings.offset_x=e.x,g.settings.offset_y=e.y,g.settings.vp_offset_x=e.x,g.settings.vp_offset_y=e.y,g.settings.keyboard_focus=a._focused,g.showMenu(0,f.clientHeight),c.add(b.doc,"mousedown",a.hideMenu,a),a.setState("Selected",1),a.isMenuVisible=1},renderMenu:function(){var a=this,b;b=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:a.settings.icons}),b.onHideMenu.add(a.hideMenu,a),a.onRenderMenu.dispatch(a,b),a.menu=b},hideMenu:function(a){var d=this;if(a&&a.type=="mousedown"&&b.getParent(a.target,function(a){return a.id===d.id||a.id===d.id+"_open"}))return;if(!a||!b.getParent(a.target,".mceMenu"))d.setState("Selected",0),c.remove(b.doc,"mousedown",d.hideMenu,d),d.menu&&d.menu.hideMenu();d.isMenuVisible=0},postRender:function(){var a=this,b=a.settings;c.add(a.id,"click",function(){a.isDisabled()||(b.onclick&&b.onclick(a.value),a.showMenu())})}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each;a.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(a,b){this.parent(a,b),this.classPrefix="mceSplitButton"},renderHTML:function(){var a,c=this,d=c.settings,e;return a="<tbody><tr>",d.image?e=b.createHTML("img ",{src:d.image,"class":"mceAction "+d["class"]}):e=b.createHTML("span",{"class":"mceAction "+d["class"]},""),a+="<td>"+b.createHTML("a",{id:c.id+"_action",href:"javascript:;","class":"mceAction "+d["class"],onclick:"return false;",onmousedown:"return false;",title:d.title},e)+"</td>",e=b.createHTML("span",{"class":"mceOpen "+d["class"]}),a+="<td>"+b.createHTML("a",{id:c.id+"_open",href:"javascript:;","class":"mceOpen "+d["class"],onclick:"return false;",onmousedown:"return false;",title:d.title},e)+"</td>",a+="</tr></tbody>",b.createHTML("table",{id:c.id,"class":"mceSplitButton mceSplitButtonEnabled "+d["class"],cellpadding:"0",cellspacing:"0",onmousedown:"return false;",title:d.title},a)},postRender:function(){var d=this,e=d.settings;e.onclick&&c.add(d.id+"_action","click",function(){d.isDisabled()||e.onclick(d.value)}),c.add(d.id+"_open","click",d.showMenu,d),c.add(d.id+"_open","focus",function(){d._focused=1}),c.add(d.id+"_open","blur",function(){d._focused=0});if(a.isIE6||!b.boxModel)c.add(d.id,"mouseover",function(){b.hasClass(d.id,"mceSplitButtonDisabled")||b.addClass(d.id,"mceSplitButtonHover")}),c.add(d.id,"mouseout",function(){b.hasClass(d.id,"mceSplitButtonDisabled")||b.removeClass(d.id,"mceSplitButtonHover")})},destroy:function(){this.parent(),c.clear(this.id+"_action"),c.clear(this.id+"_open")}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.is,e=a.each;a.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(b,c){var d=this;d.parent(b,c),d.settings=c=a.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},d.settings),d.onShowMenu=new a.util.Dispatcher(d),d.onHideMenu=new a.util.Dispatcher(d),d.value=c.default_color},showMenu:function(){var a=this,d,e,f,g;if(a.isDisabled())return;a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);if(a.isMenuVisible)return a.hideMenu();f=b.get(a.id),b.show(a.id+"_menu"),b.addClass(f,"mceSplitButtonSelected"),g=b.getPos(f),b.setStyles(a.id+"_menu",{left:g.x,top:g.y+f.clientHeight,zIndex:2e5}),f=0,c.add(b.doc,"mousedown",a.hideMenu,a),a.onShowMenu.dispatch(a),a._focused&&(a._keyHandler=c.add(a.id+"_menu","keydown",function(b){b.keyCode==27&&a.hideMenu()}),b.select("a",a.id+"_menu")[0].focus()),a.isMenuVisible=1},hideMenu:function(a){var d=this;if(a&&a.type=="mousedown"&&b.getParent(a.target,function(a){return a.id===d.id+"_open"}))return;if(!a||!b.getParent(a.target,".mceSplitButtonMenu"))b.removeClass(d.id,"mceSplitButtonSelected"),c.remove(b.doc,"mousedown",d.hideMenu,d),c.remove(d.id+"_menu","keydown",d._keyHandler),b.hide(d.id+"_menu");d.onHideMenu.dispatch(d),d.isMenuVisible=0},renderMenu:function(){var a=this,f,g=0,h=a.settings,i,j,k,l;return l=b.add(h.menu_container,"div",{id:a.id+"_menu","class":h.menu_class+" "+h["class"],style:"position:absolute;left:0;top:-1000px;"}),f=b.add(l,"div",{"class":h["class"]+" mceSplitButtonMenu"}),b.add(f,"span",{"class":"mceMenuLine"}),i=b.add(f,"table",{"class":"mceColorSplitMenu"}),j=b.add(i,"tbody"),g=0,e(d(h.colors,"array")?h.colors:h.colors.split(","),function(a){a=a.replace(/^#/,""),g--||(k=b.add(j,"tr"),g=h.grid_width-1),i=b.add(k,"td"),i=b.add(i,"a",{href:"javascript:;",style:{backgroundColor:"#"+a},_mce_color:"#"+a})}),h.more_colors_func&&(i=b.add(j,"tr"),i=b.add(i,"td",{colspan:h.grid_width,"class":"mceMoreColors"}),i=b.add(i,"a",{id:a.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},h.more_colors_title),c.add(i,"click",function(a){return h.more_colors_func.call(h.more_colors_scope||this),c.cancel(a)})),b.addClass(f,"mceColorSplitMenu"),c.add(a.id+"_menu","click",function(b){var d;return b=b.target,b.nodeName=="A"&&(d=b.getAttribute("_mce_color"))&&a.setColor(d),c.cancel(b)}),l},setColor:function(a){var c=this;b.setStyle(c.id+"_preview","backgroundColor",a),c.value=a,c.hideMenu(),c.settings.onselect(a)},postRender:function(){var a=this,c=a.id;a.parent(),b.add(c+"_action","div",{id:c+"_preview","class":"mceColorPreview"}),b.setStyle(a.id+"_preview","backgroundColor",a.value)},destroy:function(){this.parent(),c.clear(this.id+"_menu"),c.clear(this.id+"_more"),b.remove(this.id+"_menu")}})}(tinymce),tinymce.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var a=this,b="",c,d,e=tinymce.DOM,f=a.settings,g,h,i,j;j=a.controls;for(g=0;g<j.length;g++)d=j[g],h=j[g-1],i=j[g+1],g===0&&(c="mceToolbarStart",d.Button?c+=" mceToolbarStartButton":d.SplitButton?c+=" mceToolbarStartSplitButton":d.ListBox&&(c+=" mceToolbarStartListBox"),b+=e.createHTML("td",{"class":c},e.createHTML("span",null,"<!-- IE -->"))),h&&d.ListBox&&(h.Button||h.SplitButton)&&(b+=e.createHTML("td",{"class":"mceToolbarEnd"},e.createHTML("span",null,"<!-- IE -->"))),e.stdMode?b+='<td style="position: relative">'+d.renderHTML()+"</td>":b+="<td>"+d.renderHTML()+"</td>",i&&d.ListBox&&(i.Button||i.SplitButton)&&(b+=e.createHTML("td",{"class":"mceToolbarStart"},e.createHTML("span",null,"<!-- IE -->")));return c="mceToolbarEnd",d.Button?c+=" mceToolbarEndButton":d.SplitButton?c+=" mceToolbarEndSplitButton":d.ListBox&&(c+=" mceToolbarEndListBox"),b+=e.createHTML("td",{"class":c},e.createHTML("span",null,"<!-- IE -->")),e.createHTML("table",{id:a.id,"class":"mceToolbar"+(f["class"]?" "+f["class"]:""),cellpadding:"0",cellspacing:"0",align:a.settings.align||""},"<tbody><tr>"+b+"</tr></tbody>")}}),function(a){var b=a.util.Dispatcher,c=a.each;a.create("tinymce.AddOnManager",{items:[],urls:{},lookup:{},onAdd:new b(this),get:function(a){return this.lookup[a]},requireLangPack:function(b){var c=a.settings;c&&c.language&&a.ScriptLoader.add(this.urls[b]+"/langs/"+c.language+".js")},add:function(a,b){return this.items.push(b),this.lookup[a]=b,this.onAdd.dispatch(this,a,b),b},load:function(b,c,d,e){var f=this;if(f.urls[b])return;c.indexOf("/")!=0&&c.indexOf("://")==-1&&(c=a.baseURL+"/"+c),f.urls[b]=c.substring(0,c.lastIndexOf("/")),a.ScriptLoader.add(c,d,e)}}),a.PluginManager=new a.AddOnManager,a.ThemeManager=new a.AddOnManager}(tinymce),function(a){var b=a.each,c=a.extend,d=a.DOM,e=a.dom.Event,f=a.ThemeManager,g=a.PluginManager,h=a.explode,i=a.util.Dispatcher,j,k=0;a.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a.documentBaseURL)||(a.documentBaseURL+="/"),a.baseURL=(new a.util.URI(a.documentBaseURL)).toAbsolute(a.baseURL),a.baseURI=new a.util.URI(a.baseURL),a.onBeforeUnload=new i(a),e.add(window,"beforeunload",function(b){a.onBeforeUnload.dispatch(a,b)}),a.onAddEditor=new i(a),a.onRemoveEditor=new i(a),a.EditorManager=c(a,{editors:[],i18n:{},activeEditor:null,init:function(f){function o(b,c,d){var e=b[c];if(!e)return;return a.is(e,"string")&&(d=e.replace(/\.\w+$/,""),d=d?a.resolve(d):0,e=a.resolve(e)),e.apply(d||this,Array.prototype.slice.call(arguments,2))}var g=this,i,j=a.ScriptLoader,l,m=[],n;f=c({theme:"simple",language:"en"},f),g.settings=f,e.add(document,"init",function(){var c,e;o(f,"onpageload");switch(f.mode){case"exact":c=f.elements||"",c.length>0&&b(h(c),function(c){d.get(c)?(n=new a.Editor(c,f),m.push(n),n.render(1)):b(document.forms,function(e){b(e.elements,function(b){b.name===c&&(c="mce_editor_"+k++,d.setAttrib(b,"id",c),n=new a.Editor(c,f),m.push(n),n.render(1))})})});break;case"textareas":case"specific_textareas":function i(a,b){return b.constructor===RegExp?b.test(a.className):d.hasClass(a,b)}b(d.select("textarea"),function(b){if(f.editor_deselector&&i(b,f.editor_deselector))return;if(!f.editor_selector||i(b,f.editor_selector)){l=d.get(b.name),!b.id&&!l&&(b.id=b.name);if(!b.id||g.get(b.id))b.id=d.uniqueId();n=new a.Editor(b.id,f),m.push(n),n.render(1)}})}f.oninit&&(c=e=0,b(m,function(a){e++,a.initialized?c++:a.onInit.add(function(){c++,c==e&&o(f,"oninit")}),c==e&&o(f,"oninit")}))})},get:function(a){return a===j?this.editors:this.editors[a]},getInstanceById:function(a){return this.get(a)},add:function(b){var c=this,d=c.editors;return d[b.id]=b,d.push(b),c._setActive(b),c.onAddEditor.dispatch(c,b),a.adapter&&a.adapter.patchEditor(b),b},remove:function(a){var b=this,c,d=b.editors;if(!d[a.id])return null;delete d[a.id];for(c=0;c<d.length;c++)if(d[c]==a){d.splice(c,1);break}return b.activeEditor==a&&b._setActive(d[0]),a.destroy(),b.onRemoveEditor.dispatch(b,a),a},execCommand:function(b,c,d){var e=this,f=e.get(d),g;switch(b){case"mceFocus":return f.focus(),!0;case"mceAddEditor":case"mceAddControl":return e.get(d)||(new a.Editor(d,e.settings)).render(),!0;case"mceAddFrameControl":g=d.window,g.tinyMCE=tinyMCE,g.tinymce=a,a.DOM.doc=g.document,a.DOM.win=g,f=new a.Editor(d.element_id,d),f.render();if(a.isIE){function h(){f.destroy(),g.detachEvent("onunload",h),g=g.tinyMCE=g.tinymce=null}g.attachEvent("onunload",h)}return d.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return f&&f.remove(),!0;case"mceToggleEditor":if(!f)return e.execCommand("mceAddControl",0,d),!0;return f.isHidden()?f.show():f.hide(),!0}return e.activeEditor?e.activeEditor.execCommand(b,c,d):!1},execInstanceCommand:function(a,b,c,d){var e=this.get(a);return e?e.execCommand(b,c,d):!1},triggerSave:function(){b(this.editors,function(a){a.save()})},addI18n:function(c,d){var e,f=this.i18n;a.is(c,"string")?b(d,function(a,b){f[c+"."+b]=a}):b(c,function(a,c){b(a,function(a,d){b(a,function(a,b){d==="common"?f[c+"."+b]=a:f[c+"."+d+"."+b]=a})})})},_setActive:function(a){this.selectedInstance=this.activeEditor=a}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.extend,e=a.util.Dispatcher,f=a.each,g=a.isGecko,h=a.isIE,i=a.isWebKit,j=a.is,k=a.ThemeManager,l=a.PluginManager,m=a.inArray,n=a.grep,o=a.explode;a.create("tinymce.Editor",{Editor:function(b,c){var g=this;g.id=g.editorId=b,g.execCommands={},g.queryStateCommands={},g.queryValueCommands={},g.isNotDirty=!1,g.plugins={},f(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(a){g[a]=new e(g)}),g.settings=c=d({id:b,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:a.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:a.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",valid_elements:"@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:!0},c),g.documentBaseURI=new a.util.URI(c.document_base_url||a.documentBaseURL,{base_uri:tinyMCE.baseURI}),g.baseURI=a.baseURI,g.execCallback("setup",g)},render:function(d){function j(){g.language&&i.add(a.baseURL+"/langs/"+g.language+".js"),g.theme&&g.theme.charAt(0)!="-"&&!k.urls[g.theme]&&k.load(g.theme,"themes/"+g.theme+"/editor_template"+a.suffix+".js"),f(o(g.plugins),function(b){if(b&&b.charAt(0)!="-"&&!l.urls[b]){if(b=="safari")return;l.load(b,"plugins/"+b+"/editor_plugin"+a.suffix+".js")}}),i.loadQueue(function(){e.removed||e.init()})}var e=this,g=e.settings,h=e.id,i=a.ScriptLoader;if(!c.domLoaded){c.add(document,"init",function(){e.render()});return}tinyMCE.settings=g;if(!e.getElement())return;if(a.isIDevice)return;!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&g.hidden_input&&b.getParent(h,"form")&&b.insertAfter(b.create("input",{type:"hidden",name:h}),h),a.WindowManager&&(e.windowManager=new a.WindowManager(e)),g.encoding=="xml"&&e.onGetContent.add(function(a,c){c.save&&(c.content=b.encode(c.content))}),g.add_form_submit_trigger&&e.onSubmit.addToTop(function(){e.initialized&&(e.save(),e.isNotDirty=1)}),g.add_unload_trigger&&(e._beforeUnload=tinyMCE.onBeforeUnload.add(function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0})})),a.addUnload(e.destroy,e),g.submit_patch&&e.onBeforeRenderUI.add(function(){var b=e.getElement().form;if(!b)return;if(b._mceOldSubmit)return;!b.submit.nodeType&&!b.submit.length&&(e.formElement=b,b._mceOldSubmit=b.submit,b.submit=function(){return a.triggerSave(),e.isNotDirty=1,e.formElement._mceOldSubmit(e.formElement)}),b=null}),j()},init:function(){var c,d=this,e=d.settings,i,j,m=d.getElement(),n,p,q,r,s,t;a.add(d),e.theme&&(e.theme=e.theme.replace(/-/,""),n=k.get(e.theme),d.theme=new n,d.theme.init&&e.init_theme&&d.theme.init(d,k.urls[e.theme]||a.documentBaseURL.replace(/\/$/,""))),f(o(e.plugins.replace(/\-/g,"")),function(b){var c=l.get(b),e=l.urls[b]||a.documentBaseURL.replace(/\/$/,""),f;c&&(f=new c(d,e),d.plugins[b]=f,f.init&&f.init(d,e))}),e.popup_css!==!1&&(e.popup_css?e.popup_css=d.documentBaseURI.toAbsolute(e.popup_css):e.popup_css=d.baseURI.toAbsolute("themes/"+e.theme+"/skins/"+e.skin+"/dialog.css")),e.popup_css_add&&(e.popup_css+=","+d.documentBaseURI.toAbsolute(e.popup_css_add)),d.controlManager=new a.ControlManager(d),e.custom_undo_redo&&(d.onBeforeExecCommand.add(function(a,b,c,e,f){b!="Undo"&&b!="Redo"&&b!="mceRepaint"&&(!f||!f.skip_undo)&&(d.undoManager.hasUndo()||d.undoManager.add())}),d.onExecCommand.add(function(a,b,c,e,f){b!="Undo"&&b!="Redo"&&b!="mceRepaint"&&(!f||!f.skip_undo)&&d.undoManager.add()})),d.onExecCommand.add(function(a,b){/^(FontName|FontSize)$/.test(b)||d.nodeChanged()});if(g){function u
(a,b){(!b||!b.initial)&&d.execCommand("mceRepaint")}d.onUndo.add(u),d.onRedo.add(u),d.onSetContent.add(u)}d.onBeforeRenderUI.dispatch(d,d.controlManager),e.render_ui&&(i=e.width||m.style.width||m.offsetWidth,j=e.height||m.style.height||m.offsetHeight,d.orgDisplay=m.style.display,t=/^[0-9\.]+(|px)$/i,t.test(""+i)&&(i=Math.max(parseInt(i)+(n.deltaWidth||0),100)),t.test(""+j)&&(j=Math.max(parseInt(j)+(n.deltaHeight||0),100)),n=d.theme.renderUI({targetNode:m,width:i,height:j,deltaWidth:e.delta_width,deltaHeight:e.delta_height}),d.editorContainer=n.editorContainer),document.domain&&location.hostname!=document.domain&&(a.relaxedDomain=document.domain),b.setStyles(n.sizeContainer||n.editorContainer,{width:i,height:j}),j=(n.iframeHeight||j)+(typeof j=="number"?n.deltaHeight||0:""),j<100&&(j=100),d.iframeHTML=e.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',e.document_base_url!=a.documentBaseURL&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',a.relaxedDomain&&(d.iframeHTML+='<script type="text/javascript">document.domain = "'+a.relaxedDomain+'";</script>'),r=e.body_id||"tinymce",r.indexOf("=")!=-1&&(r=d.getParam("body_id","","hash"),r=r[d.id]||r),s=e.body_class||"",s.indexOf("=")!=-1&&(s=d.getParam("body_class","","hash"),s=s[d.id]||""),d.iframeHTML+='</head><body id="'+r+'" class="mceContentBody '+s+'"></body></html>',a.relaxedDomain&&(h||a.isOpera&&parseFloat(opera.version())>=9.5?q='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()':a.isOpera&&(q='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();ed.setupIframe();})()')),c=b.add(n.iframeContainer,"iframe",{id:d.id+"_ifr",src:q||'javascript:""',frameBorder:"0",style:{width:"100%",height:j}}),d.contentAreaContainer=n.iframeContainer,b.get(n.editorContainer).style.display=d.orgDisplay,b.get(d.id).style.display="none",(!h||!a.relaxedDomain)&&d.setupIframe(),m=c=n=null},setupIframe:function(){var e=this,i=e.settings,j=b.get(e.id),k=e.getDoc(),l,m;if(!h||!a.relaxedDomain)k.open(),k.write(e.iframeHTML),k.close();if(!h)try{i.readonly||(k.designMode="On")}catch(n){}h&&(m=e.getBody(),b.hide(m),i.readonly||(m.contentEditable=!0),b.show(m)),e.dom=new a.dom.DOMUtils(e.getDoc(),{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:1,fix_ie_paragraphs:1,valid_styles:i.valid_styles}),e.schema=new a.dom.Schema,e.serializer=new a.dom.Serializer(d(i,{valid_elements:i.verify_html===!1?"*[*]":i.valid_elements,dom:e.dom,schema:e.schema})),e.selection=new a.dom.Selection(e.dom,e.getWin(),e.serializer),e.formatter=new a.Formatter(this),e.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b"}],italic:[{inline:"em"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"u"}],forecolor:{inline:"span",styles:{color:"%value"}},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"}},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),f("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(a){e.formatter.register(a,{block:a,remove:"all"})}),e.formatter.register(e.settings.formats),e.undoManager=new a.UndoManager(e),e.undoManager.onAdd.add(function(a,b){if(!b.initial)return e.onChange.dispatch(e,b,a)}),e.undoManager.onUndo.add(function(a,b){return e.onUndo.dispatch(e,b,a)}),e.undoManager.onRedo.add(function(a,b){return e.onRedo.dispatch(e,b,a)}),e.forceBlocks=new a.ForceBlocks(e,{forced_root_block:i.forced_root_block}),e.editorCommands=new a.EditorCommands(e),e.serializer.onPreProcess.add(function(a,b){return e.onPreProcess.dispatch(e,b,a)}),e.serializer.onPostProcess.add(function(a,b){return e.onPostProcess.dispatch(e,b,a)}),e.onPreInit.dispatch(e),i.gecko_spellcheck||(e.getBody().spellcheck=0),i.readonly||e._addEvents(),e.controlManager.onPostRender.dispatch(e,e.controlManager),e.onPostRender.dispatch(e),i.directionality&&(e.getBody().dir=i.directionality),i.nowrap&&(e.getBody().style.whiteSpace="nowrap");if(i.custom_elements){function p(a,b){f(o(i.custom_elements),function(a){var c;a.indexOf("~")===0?(a=a.substring(1),c="span"):c="div",b.content=b.content.replace(new RegExp("<("+a+")([^>]*)>","g"),"<"+c+' _mce_name="$1"$2>'),b.content=b.content.replace(new RegExp("</("+a+")>","g"),"</"+c+">")})}e.onBeforeSetContent.add(p),e.onPostProcess.add(function(a,b){b.set&&p(a,b)})}i.handle_node_change_callback&&e.onNodeChange.add(function(a,b,c){e.execCallback("handle_node_change_callback",e.id,c,-1,-1,!0,e.selection.isCollapsed())}),i.save_callback&&e.onSaveContent.add(function(a,b){var c=e.execCallback("save_callback",e.id,b.content,e.getBody());c&&(b.content=c)}),i.onchange_callback&&e.onChange.add(function(a,b){e.execCallback("onchange_callback",e,b)}),i.convert_newlines_to_brs&&e.onBeforeSetContent.add(function(a,b){b.initial&&(b.content=b.content.replace(/\r?\n/g,"<br />"))}),i.fix_nesting&&h&&e.onBeforeSetContent.add(function(a,b){b.content=e._fixNesting(b.content)}),i.preformatted&&e.onPostProcess.add(function(a,b){b.content=b.content.replace(/^\s*<pre.*?>/,""),b.content=b.content.replace(/<\/pre>\s*$/,""),b.set&&(b.content='<pre class="mceItemHidden">'+b.content+"</pre>")}),i.verify_css_classes&&(e.serializer.attribValueFilter=function(a,b){var c,d;return a=="class"?(e.classesRE||(d=e.dom.getClasses(),d.length>0&&(c="",f(d,function(a){c+=(c?"|":"")+a["class"]}),e.classesRE=new RegExp("("+c+")","gi"))),!e.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(b)||e.classesRE.test(b)?b:""):b}),i.cleanup_callback&&(e.onBeforeSetContent.add(function(a,b){b.content=e.execCallback("cleanup_callback","insert_to_editor",b.content,b)}),e.onPreProcess.add(function(a,b){b.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",b.node,b),b.get&&e.execCallback("cleanup_callback","get_from_editor_dom",b.node,b)}),e.onPostProcess.add(function(a,b){b.set&&(b.content=e.execCallback("cleanup_callback","insert_to_editor",b.content,b)),b.get&&(b.content=e.execCallback("cleanup_callback","get_from_editor",b.content,b))})),i.save_callback&&e.onGetContent.add(function(a,b){b.save&&(b.content=e.execCallback("save_callback",e.id,b.content,e.getBody()))}),i.handle_event_callback&&e.onEvent.add(function(a,b,d){e.execCallback("handle_event_callback",b,a,d)===!1&&c.cancel(b)}),e.onSetContent.add(function(){e.addVisual(e.getBody())}),i.padd_empty_editor&&e.onPostProcess.add(function(a,b){b.content=b.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});if(g){function q(a,b){f(a.dom.select("a"),function(b){var c=b.parentNode;a.dom.isBlock(c)&&c.lastChild===b&&a.dom.add(c,"br",{_mce_bogus:1})})}e.onExecCommand.add(function(a,b){b==="CreateLink"&&q(a)}),e.onSetContent.add(e.selection.onSetContent.add(q));if(!i.readonly)try{k.designMode="Off",k.designMode="On"}catch(n){}}setTimeout(function(){if(e.removed)return;e.load({initial:!0,format:i.cleanup_on_startup?"html":"raw"}),e.startContent=e.getContent({format:"raw"}),e.initialized=!0,e.onInit.dispatch(e),e.execCallback("setupcontent_callback",e.id,e.getBody(),e.getDoc()),e.execCallback("init_instance_callback",e),e.focus(!0),e.nodeChanged({initial:1}),i.content_css&&a.each(o(i.content_css),function(a){e.dom.loadCSS(e.documentBaseURI.toAbsolute(a))}),i.auto_focus&&setTimeout(function(){var b=a.get(i.auto_focus);b.selection.select(b.getBody(),1),b.selection.collapse(1),b.getWin().focus()},100)},1),j=null},focus:function(b){var c,d=this,e=d.settings.content_editable,f,g,h=d.getDoc();b||(f=d.selection.getRng(),f.item&&(g=f.item(0)),e||d.getWin().focus(),g&&g.ownerDocument==h&&(f=h.body.createControlRange(),f.addElement(g),f.select())),a.activeEditor!=d&&((c=a.activeEditor)!=null&&c.onDeactivate.dispatch(c,d),d.onActivate.dispatch(d,c)),a._setActive(d)},execCallback:function(b){var c=this,d=c.settings[b],e;if(!d)return;return c.callbackLookup&&(e=c.callbackLookup[b])&&(d=e.func,e=e.scope),j(d,"string")&&(e=d.replace(/\.\w+$/,""),e=e?a.resolve(e):0,d=a.resolve(d),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[b]={func:d,scope:e}),d.apply(e||c,Array.prototype.slice.call(arguments,1))},translate:function(b){var c=this.settings.language||"en",d=a.i18n;return b?d[c+"."+b]||b.replace(/{\#([^}]+)\}/g,function(a,b){return d[c+"."+b]||"{#"+b+"}"}):""},getLang:function(b,c){return a.i18n[(this.settings.language||"en")+"."+b]||(j(c)?c:"{#"+b+"}")},getParam:function(b,c,d){var e=a.trim,g=j(this.settings[b])?this.settings[b]:c,h;return d==="hash"?(h={},j(g,"string")?f(g.indexOf("=")>0?g.split(/[;,](?![^=;,]*(?:[;,]|$))/):g.split(","),function(a){a=a.split("="),a.length>1?h[e(a[0])]=e(a[1]):h[e(a[0])]=e(a)}):h=g,h):g},nodeChanged:function(a){var b=this,c=b.selection,d=(h?c.getNode():c.getStart())||b.getBody();b.initialized&&(a=a||{},d=h&&d.ownerDocument!=b.getDoc()?b.getBody():d,a.parents=[],b.dom.getParent(d,function(b){if(b.nodeName=="BODY")return!0;a.parents.push(b)}),b.onNodeChange.dispatch(b,a?a.controlManager||b.controlManager:b.controlManager,d,c.isCollapsed(),a))},addButton:function(a,b){var c=this;c.buttons=c.buttons||{},c.buttons[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,d){var e=this,g;return e.settings.custom_shortcuts?(e.shortcuts=e.shortcuts||{},j(c,"string")&&(g=c,c=function(){e.execCommand(g,!1,null)}),j(c,"object")&&(g=c,c=function(){e.execCommand(g[0],g[1],g[2])}),f(o(a),function(a){var g={func:c,scope:d||this,desc:b,alt:!1,ctrl:!1,shift:!1};f(o(a,"+"),function(a){switch(a){case"alt":case"ctrl":case"shift":g[a]=!0;break;default:g.charCode=a.charCodeAt(0),g.keyCode=a.toUpperCase().charCodeAt(0)}}),e.shortcuts[(g.ctrl?"ctrl":"")+","+(g.alt?"alt":"")+","+(g.shift?"shift":"")+","+g.keyCode]=g}),!0):!1},execCommand:function(b,c,d,e){var g=this,h=0,i,j;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(b)&&(!e||!e.skip_focus)&&g.focus(),i={},g.onBeforeExecCommand.dispatch(g,b,c,d,i);if(i.terminate)return!1;if(g.execCallback("execcommand_callback",g.id,g.selection.getNode(),b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(i=g.execCommands[b]){j=i.func.call(i.scope,c,d);if(j!==!0)return g.onExecCommand.dispatch(g,b,c,d,e),j}f(g.plugins,function(a){if(a.execCommand&&a.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),h=1,!1});if(h)return!0;if(g.theme&&g.theme.execCommand&&g.theme.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(a.GlobalCommands.execCommand(g,b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(g.editorCommands.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;g.getDoc().execCommand(b,c,d),g.onExecCommand.dispatch(g,b,c,d,e)},queryCommandState:function(a){var b=this,c,d;if(b._isHidden())return;if(c=b.queryStateCommands[a]){d=c.func.call(c.scope);if(d!==!0)return d}c=b.editorCommands.queryCommandState(a);if(c!==-1)return c;try{return this.getDoc().queryCommandState(a)}catch(e){}},queryCommandValue:function(a){var b=this,c,d;if(b._isHidden())return;if(c=b.queryValueCommands[a]){d=c.func.call(c.scope);if(d!==!0)return d}c=b.editorCommands.queryCommandValue(a);if(j(c))return c;try{return this.getDoc().queryCommandValue(a)}catch(e){}},show:function(){var a=this;b.show(a.getContainer()),b.hide(a.id),a.load()},hide:function(){var a=this,c=a.getDoc();h&&c&&c.execCommand("SelectAll"),a.save(),b.hide(a.getContainer()),b.setStyle(a.id,"display",a.orgDisplay)},isHidden:function(){return!b.isHidden(this.id)},setProgressState:function(a,b,c){return this.onSetProgressState.dispatch(this,a,b,c),a},load:function(a){var b=this,c=b.getElement(),d;if(c)return a=a||{},a.load=!0,d=b.setContent(j(c.value)?c.value:c.innerHTML,a),a.element=c,a.no_events||b.onLoadContent.dispatch(b,a),a.element=c=null,d},save:function(a){var c=this,d=c.getElement(),e,g;if(!d||!c.initialized)return;return a=a||{},a.save=!0,a.no_events||(c.undoManager.typing=0,c.undoManager.add()),a.element=d,e=a.content=c.getContent(a),a.no_events||c.onSaveContent.dispatch(c,a),e=a.content,/TEXTAREA|INPUT/i.test(d.nodeName)?d.value=e:(d.innerHTML=e,(g=b.getParent(c.id,"form"))&&f(g.elements,function(a){if(a.name==c.id)return a.value=e,!1})),a.element=d=null,e},setContent:function(b,c){var d=this;return c=c||{},c.format=c.format||"html",c.set=!0,c.content=b,c.no_events||d.onBeforeSetContent.dispatch(d,c),!a.isIE&&(b.length===0||/^\s+$/.test(b))&&(c.content=d.dom.setHTML(d.getBody(),'<br _mce_bogus="1" />'),c.format="raw"),c.content=d.dom.setHTML(d.getBody(),a.trim(c.content)),c.format!="raw"&&d.settings.cleanup&&(c.getInner=!0,c.content=d.dom.setHTML(d.getBody(),d.serializer.serialize(d.getBody(),c))),c.no_events||d.onSetContent.dispatch(d,c),c.content},getContent:function(a){var b=this,c;return a=a||{},a.format=a.format||"html",a.get=!0,a.no_events||b.onBeforeGetContent.dispatch(b,a),a.format!="raw"&&b.settings.cleanup?(a.getInner=!0,c=b.serializer.serialize(b.getBody(),a)):c=b.getBody().innerHTML,c=c.replace(/^\s*|\s*$/g,""),a.content=c,a.no_events||b.onGetContent.dispatch(b,a),a.content},isDirty:function(){var b=this;return a.trim(b.startContent)!=a.trim(b.getContent({format:"raw",no_events:1}))&&!b.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=b.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return b.get(this.settings.content_element||this.id)},getWin:function(){var a=this,c;return a.contentWindow||(c=b.get(a.id+"_ifr"),c&&(a.contentWindow=c.contentWindow)),a.contentWindow},getDoc:function(){var a=this,b;return a.contentDocument||(b=a.getWin(),b&&(a.contentDocument=b.document)),a.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this,e=d.settings;return e.urlconverter_callback?d.execCallback("urlconverter_callback",a,c,!0,b):!e.convert_urls||c&&c.nodeName=="LINK"||a.indexOf("file:")===0?a:e.relative_urls?d.documentBaseURI.toRelative(a):(a=d.documentBaseURI.toAbsolute(a,e.remove_script_host),a)},addVisual:function(a){var b=this,c=b.settings;a=a||b.getBody(),j(b.hasVisual)||(b.hasVisual=c.visual),f(b.dom.select("table,a",a),function(a){var d;switch(a.nodeName){case"TABLE":d=b.dom.getAttrib(a,"border");if(!d||d=="0")b.hasVisual?b.dom.addClass(a,c.visual_table_class):b.dom.removeClass(a,c.visual_table_class);return;case"A":d=b.dom.getAttrib(a,"name"),d&&(b.hasVisual?b.dom.addClass(a,"mceItemAnchor"):b.dom.removeClass(a,"mceItemAnchor"));return}}),b.onVisualAid.dispatch(b,a,b.hasVisual)},remove:function(){var c=this,d=c.getContainer();c.removed=1,c.hide(),c.execCallback("remove_instance_callback",c),c.onRemove.dispatch(c),c.onExecCommand.listeners=[],a.remove(c),b.remove(d)},destroy:function(b){var d=this;if(d.destroyed)return;b||(a.removeUnload(d.destroy),tinyMCE.onBeforeUnload.remove(d._beforeUnload),d.theme&&d.theme.destroy&&d.theme.destroy(),d.controlManager.destroy(),d.selection.destroy(),d.dom.destroy(),d.settings.content_editable||(c.clear(d.getWin()),c.clear(d.getDoc())),c.clear(d.getBody()),c.clear(d.formElement)),d.formElement&&(d.formElement.submit=d.formElement._mceOldSubmit,d.formElement._mceOldSubmit=null),d.contentAreaContainer=d.formElement=d.container=d.settings.content_element=d.bodyElement=d.contentDocument=d.contentWindow=null,d.selection&&(d.selection=d.selection.win=d.selection.dom=d.selection.dom.doc=null),d.destroyed=1},_addEvents:function(){function k(a,b){var c=a.type;if(d.removed)return;d.onEvent.dispatch(d,a,b)!==!1&&d[j[a.fakeType||a.type]].dispatch(d,a,b)}var d=this,e,i=d.settings,j={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};f(j,function(c,e){switch(e){case"contextmenu":a.isOpera?d.dom.bind(d.getBody(),"mousedown",function(a){a.ctrlKey&&(a.fakeType="contextmenu",k(a))}):d.dom.bind(d.getBody(),e,k);break;case"paste":d.dom.bind(d.getBody(),e,function(a){k(a)});break;case"submit":case"reset":d.dom.bind(d.getElement().form||b.getParent(d.id,"form"),e,k);break;default:d.dom.bind(i.content_editable?d.getBody():d.getDoc(),e,k)}}),d.dom.bind(i.content_editable?d.getBody():g?d.getDoc():d.getWin(),"focus",function(a){d.focus(!0)}),a.isGecko&&d.dom.bind(d.getDoc(),"DOMNodeInserted",function(a){var b;a=a.target,a.nodeType===1&&a.nodeName==="IMG"&&(b=a.getAttribute("_mce_src"))&&(a.src=d.documentBaseURI.toAbsolute(b))});if(g){function l(){var a=this,b=a.getDoc(),c=a.settings;if(g&&!c.readonly){if(a._isHidden())try{c.content_editable||(b.designMode="On")}catch(d){}try{b.execCommand("styleWithCSS",0,!1)}catch(d){if(!a._isHidden())try{b.execCommand("useCSS",0,!0)}catch(d){}}if(!c.table_inline_editing)try{b.execCommand("enableInlineTableEditing",!1,!1)}catch(d){}if(!c.object_resizing)try{b.execCommand("enableObjectResizing",!1,!1)}catch(d){}}}d.onBeforeExecCommand.add(l),d.onMouseDown.add(l)}a.isWebKit&&d.onClick.add(function(a,b){b=b.target,(b.nodeName=="IMG"||b.nodeName=="A"&&d.dom.hasClass(b,"mceItemAnchor"))&&d.selection.getSel().setBaseAndExtent(b,0,b,1)}),d.onMouseUp.add(d.nodeChanged),d.onKeyUp.add(function(b,c){var e=c.keyCode;(e>=33&&e<=36||e>=37&&e<=40||e==13||e==45||e==46||e==8||a.isMac&&(e==91||e==93)||c.ctrlKey)&&d.nodeChanged()}),d.onReset.add(function(){d.setContent(d.startContent,{format:"raw"})});if(i.custom_shortcuts){i.custom_undo_redo_keyboard_shortcuts&&(d.addShortcut("ctrl+z",d.getLang("undo_desc"),"Undo"),d.addShortcut("ctrl+y",d.getLang("redo_desc"),"Redo")),d.addShortcut("ctrl+b",d.getLang("bold_desc"),"Bold"),d.addShortcut("ctrl+i",d.getLang("italic_desc"),"Italic"),d.addShortcut("ctrl+u",d.getLang("underline_desc"),"Underline");for(e=1;e<=6;e++)d.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);d.addShortcut("ctrl+7","",["FormatBlock",!1,"<p>"]),d.addShortcut("ctrl+8","",["FormatBlock",!1,"<div>"]),d.addShortcut("ctrl+9","",["FormatBlock",!1,"<address>"]);function m(b){var c=null;return!b.altKey&&!b.ctrlKey&&!b.metaKey?c:(f(d.shortcuts,function(d){if(a.isMac&&d.ctrl!=b.metaKey)return;if(!a.isMac&&d.ctrl!=b.ctrlKey)return;if(d.alt!=b.altKey)return;if(d.shift!=b.shiftKey)return;if(b.keyCode==d.keyCode||b.charCode&&b.charCode==d.charCode)return c=d,!1}),c)}d.onKeyUp.add(function(a,b){var d=m(b);if(d)return c.cancel(b)}),d.onKeyPress.add(function(a,b){var d=m(b);if(d)return c.cancel(b)}),d.onKeyDown.add(function(a,b){var d=m(b);if(d)return d.func.call(d.scope),c.cancel(b)})}a.isIE&&(d.dom.bind(d.getDoc(),"controlselect",function(a){var b=d.resizeInfo,e;a=a.target;if(a.nodeName!=="IMG")return;b&&d.dom.unbind(b.node,b.ev,b.cb),d.dom.hasClass(a,"mceItemNoResize")?(ev="resizestart",e=d.dom.bind(a,"resizestart",c.cancel,c)):(ev="resizeend",e=d.dom.bind(a,ev,function(a){var b;a=a.target;if(b=d.dom.getStyle(a,"width"))d.dom.setAttrib(a,"width",b.replace(/[^0-9%]+/g,"")),d.dom.setStyle(a,"width","");if(b=d.dom.getStyle(a,"height"))d.dom.setAttrib(a,"height",b.replace(/[^0-9%]+/g,"")),d.dom.setStyle(a,"height","")})),b=d.resizeInfo={node:a,ev:ev,cb:e}}),d.onKeyDown.add(function(a,b){switch(b.keyCode){case 8:if(d.selection.getRng().item)return a.dom.remove(d.selection.getRng().item(0)),c.cancel(b)}})),a.isOpera&&d.onClick.add(function(a,b){c.prevent(b)});if(i.custom_undo_redo){function n(){d.undoManager.typing=0,d.undoManager.add()}d.dom.bind(d.getDoc(),"focusout",function(a){!d.removed&&d.undoManager.typing&&n()}),d.onKeyUp.add(function(a,b){(b.keyCode>=33&&b.keyCode<=36||b.keyCode>=37&&b.keyCode<=40||b.keyCode==13||b.keyCode==45||b.ctrlKey)&&n()}),d.onKeyDown.add(function(a,b){var c,e,f;if(h&&b.keyCode==46){c=d.selection.getRng();if(c.parentElement){e=c.parentElement(),b.ctrlKey&&(c.moveEnd("word",1),c.select()),d.selection.getSel().clear();if(c.parentElement()==e){f=d.selection.getBookmark();try{e.innerHTML=e.innerHTML}catch(g){}d.selection.moveToBookmark(f)}b.preventDefault();return}}if(b.keyCode>=33&&b.keyCode<=36||b.keyCode>=37&&b.keyCode<=40||b.keyCode==13||b.keyCode==45){d.undoManager.typing&&n();return}d.undoManager.typing||(d.undoManager.add(),d.undoManager.typing=1)}),d.onMouseDown.add(function(){d.undoManager.typing&&n()})}},_isHidden:function(){var a;return g?(a=this.selection.getSel(),!a||!a.rangeCount||a.rangeCount==0):0},_fixNesting:function(a){var b=[],c;a=a.replace(/<(\/)?([^\s>]+)[^>]*?>/g,function(a,d,e){var f;if(d==="/"){if(!b.length)return"";if(e!==b[b.length-1].tag){for(c=b.length-1;c>=0;c--)if(b[c].tag===e){b[c].close=1;break}return""}b.pop(),b.length&&b[b.length-1].close&&(a=a+"</"+b[b.length-1].tag+">",b.pop())}else{if(/^(br|hr|input|meta|img|link|param)$/i.test(e))return a;if(/\/>$/.test(a))return a;b.push({tag:e})}return a});for(c=b.length-1;c>=0;c--)a+="</"+b[c].tag+">";return a}})}(tinymce),function(a){var b=a.each,c,d=!0,e=!1;a.EditorCommands=function(f){function l(a,b,c){var f;return a=a.toLowerCase(),(f=i.exec[a])?(f(a,b,c),d):e}function m(a){var b;return a=a.toLowerCase(),(b=i.state[a])?b(a):-1}function n(a){var b;return a=a.toLowerCase(),(b=i.value[a])?b(a):e}function o(a,c){c=c||"exec",b(a,function(a,d){b(d.toLowerCase().split(","),function(b){i[c][b]=a})})}function p(a,b,d){return b===c&&(b=e),d===c&&(d=null),f.getDoc().execCommand(a,b,d)}function q(a){return f.formatter.match(a)}function r(a,b){f.formatter.toggle(a,b?{value:b}:c)}function s(a){k=h.getBookmark(a)}function t(){h.moveToBookmark(k)}var g=f.dom,h=f.selection,i={state:{},exec:{},value:{}},j=f.settings,k;a.extend(this,{execCommand:l,queryCommandState:m,queryCommandValue:n,addCommands:o}),o({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(b){var c=f.getDoc(),e;try{p(b)}catch(g){e=d}if(e||!c.queryCommandSupported(b))a.isGecko?f.windowManager.confirm(f.getLang("clipboard_msg"),function(a){a&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):f.windowManager.alert(f.getLang("clipboard_no_support"))},unlink:function(a){h.isCollapsed()&&h.select(h.getNode()),p(a),h.collapse(e)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var c=a.substring(7);b("left,center,right,full".split(","),function(a){c!=a&&f.formatter.remove("align"+a)}),r("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){var b,c;p(a),b=g.getParent(h.getNode(),"ol,ul"),b&&(c=b.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(s(),g.split(c,b),t()))},"Bold,Italic,Underline,Strikethrough":function(a){r(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){r(a,c)},FontSize:function(b,c,d){var e,f;d>=1&&d<=7&&(f=a.explode(j.font_size_style_values),e=a.explode(j.font_size_classes),e?d=e[d-1]||d:d=f[d-1]||d),r(b,d)},RemoveFormat:function(a){f.formatter.remove(a)},mceBlockQuote:function(a){r("blockquote")},FormatBlock:function(a,b,c){return r(c||"p")},mceCleanup:function(){var a=h.getBookmark();f.setContent(f.getContent({cleanup:d}),{cleanup:d}),h.moveToBookmark(a)},mceRemoveNode:function(a,b,c){var e=c||h.getNode();e!=f.getBody()&&(s(),f.dom.remove(e,d),t())},mceSelectNodeDepth:function(a,b,c){var d=0;g.getParent(h.getNode(),function(a){if(a.nodeType==1&&d++==c)return h.select(a),e},f.getBody())},mceSelectNode:function(a,b,c){h.select(c)},mceInsertContent:function(a,b,c){h.setContent(c)},mceInsertRawHTML:function(a,b,c){h.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,c))},mceSetContent:function(a,b,c){f.setContent(c)},"Indent,Outdent":function(a){var c,d,e;c=j.indentation,d=/[a-z%]+$/i.exec(c),c=parseInt(c),!m("InsertUnorderedList")&&!m("InsertOrderedList")?b(h.getSelectedBlocks(),function(b){a=="outdent"?(e=Math.max(0,parseInt(b.style.paddingLeft||0)-c),g.setStyle(b,"paddingLeft",e?e+d:"")):g.setStyle(b,"paddingLeft",parseInt(b.style.paddingLeft||0)+c+d)}):p(a)},mceRepaint:function(){var b;if(a.isGecko)try{s(d),h.getSel()&&h.getSel().selectAllChildren(f.getBody()),h.collapse(d),t()}catch(c){}},mceToggleFormat:function(a,b,c){f.formatter.toggle(c)},InsertHorizontalRule:function(){h.setContent("<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(a,b,c){h.setContent(c.replace(/\{\$selection\}/g,h.getContent({format:"text"})))},mceInsertLink:function(c,i,j){var k=g.getParent(h.getNode(),"a");a.is(j,"string")&&(j={href:j}),k?j.href?g.setAttribs(k,j):f.dom.remove(k,d):(p("CreateLink",e,"javascript:mctmp(0);"),b(g.select("a[href=javascript:mctmp(0);]"),function(a){g.setAttribs(a,j)}))},selectAll:function(){var a=g.getRoot(),b=g.createRng();b.setStart(a,0),b.setEnd(a,a.childNodes.length),f.selection.setRng(b)}}),o({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){return q("align"+a.substring(7))},"Bold,Italic,Underline,Strikethrough":function(a){return q(a)},mceBlockQuote:function(){return q("blockquote")},Outdent:function(){var a;if(j.inline_styles){if((a=g.getParent(h.getStart(),g.isBlock))&&parseInt(a.style.paddingLeft)>0)return d;if((a=g.getParent(h.getEnd(),g.isBlock))&&parseInt(a.style.paddingLeft)>0)return d}return m("InsertUnorderedList")||m("InsertOrderedList")||!j.inline_styles&&!!g.getParent(h.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){return g.getParent(h.getNode(),a=="insertunorderedlist"?"UL":"OL")}},"state"),o({"FontSize,FontName":function(a){var b=0,c;if(c=g.getParent(h.getNode(),"span"))a=="fontsize"?b=c.style.fontSize:b=c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value"),j.custom_undo_redo&&o({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}(tinymce),function(a){var b=a.util.Dispatcher;a.UndoManager=function(c){function g(){return a.trim(c.getContent({format:"raw",no_events:1}))}var d,e=0,f=[];return d={typing:0,onAdd:new b(d),onUndo:new b(d),onRedo:new b(d),add:function(a){var b,h=c.settings,i;a=a||{},a.content=g(),i=f[e];if(i&&i.content==a.content)if(e>0||f.length==1)return null;if(h.custom_undo_redo_levels&&f.length>h.custom_undo_redo_levels){for(b=0;b<f.length-1;b++)f[b]=f[b+1];f.length--,e=f.length}return a.bookmark=c.selection.getBookmark(2,!0),e<f.length-1&&(e==0?f=[]:f.length=e+1),f.push(a),e=f.length-1,d.onAdd.dispatch(d,a),c.isNotDirty=0,a},undo:function(){var a,b;return d.typing&&(d.add(),d.typing=0),e>0&&(a=f[--e],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),d.onUndo.dispatch(d,a)),a},redo:function(){var a;return e<f.length-1&&(a=f[++e],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),d.onRedo.dispatch(d,a)),a},clear:function(){f=[],e=d.typing=0},hasUndo:function(){return e>0||d.typing},hasRedo:function(){return e<f.length-1}}}}(tinymce),function(a){function j(a){var b,c,d;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(a.nodeName)&&(b?(c=a.cloneNode(!1),c.appendChild(b),b=c):b=d=a.cloneNode(!1),b.removeAttribute("id"));while(a=a.parentNode);if(b)return{wrapper:b,inner:d}}function k(a,b){var c=b.ownerDocument.createRange();return c.setStart(a.endContainer,a.endOffset),c.setEndAfter(b),c.cloneContents().textContent.length==0}function l(a){return a=a.innerHTML,a=a.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-"),a=a.replace(/<[^>]+>/g,""),a.replace(/[ \u00a0\t\r\n]+/g,"")==""}function m(a,b,c){var d,e;return l(c)?(d=b.getParent(c,"ul,ol"),b.getParent(d.parentNode,"ul,ol")||(b.split(d,c),e=b.create("p",0,'<br _mce_bogus="1" />'),b.replace(e,c),a.select(e,1)),i):h}var b=a.dom.Event,c=a.isIE,d=a.isGecko,e=a.isOpera,f=a.each,g=a.extend,h=!0,i=!1;a.create("tinymce.ForceBlocks",{ForceBlocks:function(a){function g(a,d){e&&(d.content=d.content.replace(b.reOpera,"</"+f+">")),d.content=d.content.replace(b.rePadd,"<"+f+"$1$2$3$4$5$6>Â </"+f+">"),!c&&!e&&d.set?(d.content=d.content.replace(b.reNbsp2BR1,"<"+f+"$1$2><br /></"+f+">"),d.content=d.content.replace(b.reNbsp2BR2,"<"+f+"$1$2><br /></"+f+">")):d.content=d.content.replace(b.reBR2Nbsp,"<"+f+"$1$2>Â </"+f+">")}var b=this,d=a.settings,f;b.editor=a,b.dom=a.dom,f=(d.forced_root_block||"p").toLowerCase(),d.element=f.toUpperCase(),a.onPreInit.add(b.setup,b),b.reOpera=new RegExp("(\\u00a0|&#160;|&nbsp;)</"+f+">","gi"),b.rePadd=new RegExp("<p( )([^>]+)><\\/p>|<p( )([^>]+)\\/>|<p( )([^>]+)>\\s+<\\/p>|<p><\\/p>|<p\\/>|<p>\\s+<\\/p>".replace(/p/g,f),"gi"),b.reNbsp2BR1=new RegExp("<p( )([^>]+)>[\\s\\u00a0]+<\\/p>|<p>[\\s\\u00a0]+<\\/p>".replace(/p/g,f),"gi"),b.reNbsp2BR2=new RegExp("<%p()([^>]+)>(&nbsp;|&#160;)<\\/%p>|<%p>(&nbsp;|&#160;)<\\/%p>".replace(/%p/g,f),"gi"),b.reBR2Nbsp=new RegExp("<p( )([^>]+)>\\s*<br \\/>\\s*<\\/p>|<p>\\s*<br \\/>\\s*<\\/p>".replace(/p/g,f),"gi"),a.onBeforeSetContent.add(g),a.onPostProcess.add(g),d.forced_root_block&&(a.onInit.add(b.forceRoots,b),a.onSetContent.add(b.forceRoots,b),a.onBeforeGetContent.add(b.forceRoots,b))},setup:function(){var e=this,g=e.editor,k=g.settings,m=g.dom,n=g.selection;k.forced_root_block&&(g.onBeforeExecCommand.add(e.forceRoots,e),g.onKeyUp.add(e.forceRoots,e),g.onPreProcess.add(e.forceRoots,e)),k.force_br_newlines&&c&&g.onKeyPress.add(function(a,c){var d;if(c.keyCode==13&&n.getNode().nodeName!="LI")return n.setContent('<br id="__" /> ',{format:"raw"}),d=m.get("__"),d.removeAttribute("id"),n.select(d),n.collapse(),b.cancel(c)}),k.force_p_newlines&&(c?(a.addUnload(function(){e._previousFormats=0}),g.onKeyPress.add(function(a,b){e._previousFormats=0,b.keyCode==13&&!b.shiftKey&&a.selection.isCollapsed()&&k.keep_styles&&(e._previousFormats=j(a.selection.getStart()))}),g.onKeyUp.add(function(a,b){if(b.keyCode==13&&!b.shiftKey){var c=a.selection.getStart(),d=e._previousFormats;c.hasChildNodes()||(c=m.getParent(c,m.isBlock),c&&(c.innerHTML="",e._previousFormats?(c.appendChild(d.wrapper),d.inner.innerHTML="ï»¿"):c.innerHTML="ï»¿",n.select(c,1),a.getDoc().execCommand("Delete",!1,null)))}})):g.onKeyPress.add(function(a,c){c.keyCode==13&&!c.shiftKey&&!e.insertPara(c)&&b.cancel(c)}),d&&g.onKeyDown.add(function(a,b){(b.keyCode==8||b.keyCode==46)&&!b.shiftKey&&e.backspaceDelete(b,b.keyCode==8)}));if(a.isWebKit){function o(a){var b=n.getRng(),c,d=m.create("div",null," "),e,f=m.getViewPort(a.getWin()).h;b.insertNode(c=m.create("br")),b.setStartAfter(c),b.setEndAfter(c),n.setRng(b),n.getSel().focusNode==c.previousSibling&&(n.select(m.insertAfter(m.doc.createTextNode("Â "),c)),n.collapse(h)),m.insertAfter(d,c),e=m.getPos(d).y,m.remove(d),e>f&&a.getWin().scrollTo(0,e)}g.onKeyPress.add(function(a,c){c.keyCode==13&&(c.shiftKey||k.force_br_newlines&&!m.getParent(n.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))&&(o(a),b.cancel(c))})}g.onPreProcess.add(function(a,b){f(m.select("p,h1,h2,h3,h4,h5,h6,div",b.node),function(c){l(c)&&f(m.select("span,em,strong,b,i",b.node),function(b){if(!b.hasChildNodes())return b.appendChild(a.getDoc().createTextNode("Â ")),i})})}),c&&k.element!="P"&&(g.onKeyPress.add(function(a,b){e.lastElm=n.getNode().nodeName}),g.onKeyUp.add(function(a,b){var c,d=n.getNode(),f=a.getBody();f.childNodes.length===1&&d.nodeName=="P"?(d=m.rename(d,k.element),n.select(d),n.collapse(),a.nodeChanged()):b.keyCode==13&&!b.shiftKey&&
e.lastElm!="P"&&(c=m.getParent(d,"p"),c&&(m.rename(c,k.element),a.nodeChanged()))}))},find:function(a,b,c){var d=this.editor,e=d.getDoc().createTreeWalker(a,4,null,i),f=-1;while(a=e.nextNode()){f++;if(b==0&&a==c)return f;if(b==1&&f==c)return a}return-1},forceRoots:function(a,b){var d=this,a=d.editor,e=a.getBody(),f=a.getDoc(),g=a.selection,h=g.getSel(),i=g.getRng(),j=-2,k,l,m,n,o=-16777215,p,q,r,s,t,u=e.childNodes,v,w,x;for(v=u.length-1;v>=0;v--){p=u[v];if(p.nodeType===1&&p.getAttribute("_mce_type")){q=null;continue}if(p.nodeType===3||!d.dom.isBlock(p)&&p.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(p.nodeName))if(!q){if(p.nodeType!=3||/[^\s]/g.test(p.nodeValue))j==-2&&i&&(c?(i.item&&(n=f.body.createTextRange(),n.moveToElementText(i.item(0)),i=n),n=f.body.createTextRange(),n.moveToElementText(e),n.collapse(1),r=n.move("character",o)*-1,n=i.duplicate(),n.collapse(1),s=n.move("character",o)*-1,n=i.duplicate(),n.collapse(0),t=n.move("character",o)*-1-s,j=s-r,k=t):i.startContainer.nodeType==1&&(w=i.startContainer.childNodes[i.startOffset])&&w.nodeType==1?(x=w.getAttribute("id"),w.setAttribute("id","__mce")):a.dom.getParent(i.startContainer,function(a){return a===e})&&(l=i.startOffset,m=i.endOffset,j=d.find(e,0,i.startContainer),k=d.find(e,0,i.endContainer))),q=a.dom.create(a.settings.forced_root_block),p.parentNode.replaceChild(q,p),q.appendChild(p)}else q.hasChildNodes()?q.insertBefore(p,q.firstChild):q.appendChild(p);else q=null}if(j!=-2)if(!c)q=e.getElementsByTagName(a.settings.element)[0],i=f.createRange(),j!=-1?i.setStart(d.find(e,1,j),l):i.setStart(q,0),k!=-1?i.setEnd(d.find(e,1,k),m):i.setEnd(q,0),h&&(h.removeAllRanges(),h.addRange(i));else try{i=h.createRange(),i.moveToElementText(e),i.collapse(1),i.moveStart("character",j),i.moveEnd("character",k),i.select()}catch(y){}else!c&&(w=a.dom.get("__mce"))&&(x?w.setAttribute("id",x):w.removeAttribute("id"),i=f.createRange(),i.setStartBefore(w),i.setEndBefore(w),g.setRng(i))},getParentBlock:function(a){var b=this.dom;return b.getParent(a,b.isBlock)},insertPara:function(a){function K(a,b){var c=[],d,g,h;a.innerHTML="";if(j.keep_styles){g=b;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(g.nodeName)&&(d=g.cloneNode(i),f.setAttrib(d,"id",""),c.push(d));while(g=g.parentNode)}if(c.length>0){for(h=c.length-1,d=a;h>=0;h--)d=d.appendChild(c[h]);return c[0].innerHTML=e?"&nbsp;":"<br />",c[0]}a.innerHTML=e?"&nbsp;":"<br />"}function L(a){return g.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,i).nextNode()||a}var b=this,c=b.editor,f=c.dom,g=c.getDoc(),j=c.settings,n=c.selection.getSel(),o=n.getRangeAt(0),p=g.body,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=f.getViewPort(c.getWin()),G,H,I;q=g.createRange(),q.setStart(n.anchorNode,n.anchorOffset),q.collapse(h),r=g.createRange(),r.setStart(n.focusNode,n.focusOffset),r.collapse(h),s=q.compareBoundaryPoints(q.START_TO_END,r)<0,t=s?n.anchorNode:n.focusNode,u=s?n.anchorOffset:n.focusOffset,v=s?n.focusNode:n.anchorNode,w=s?n.focusOffset:n.anchorOffset;if(t===v&&/^(TD|TH)$/.test(t.nodeName))return t.firstChild.nodeName=="BR"&&f.remove(t.firstChild),t.childNodes.length==0?(c.dom.add(t,j.element,null,"<br />"),B=c.dom.add(t,j.element,null,"<br />")):(E=t.innerHTML,t.innerHTML="",c.dom.add(t,j.element,null,E),B=c.dom.add(t,j.element,null,"<br />")),o=g.createRange(),o.selectNodeContents(B),o.collapse(1),c.selection.setRng(o),i;t==p&&v==p&&p.firstChild&&c.dom.isBlock(p.firstChild)&&(t=v=t.firstChild,u=w=0,q=g.createRange(),q.setStart(t,0),r=g.createRange(),r.setStart(v,0)),t=t.nodeName=="HTML"?g.body:t,t=t.nodeName=="BODY"?t.firstChild:t,v=v.nodeName=="HTML"?g.body:v,v=v.nodeName=="BODY"?v.firstChild:v,x=b.getParentBlock(t),y=b.getParentBlock(v),z=x?x.nodeName:j.element;if(E=b.dom.getParent(x,"li,pre"))return E.nodeName=="LI"?m(c.selection,b.dom,E):h;x&&(x.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(f.getStyle(x,"position",1)))&&(z=j.element,x=null),y&&(y.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(f.getStyle(x,"position",1)))&&(z=j.element,y=null);if(/(TD|TABLE|TH|CAPTION)/.test(z)||x&&z=="DIV"&&/left|right/gi.test(f.getStyle(x,"float",1)))z=j.element,x=y=null;A=x&&x.nodeName==z?x.cloneNode(0):c.dom.create(z),B=y&&y.nodeName==z?y.cloneNode(0):c.dom.create(z),B.removeAttribute("id"),/^(H[1-6])$/.test(z)&&k(o,x)&&(B=c.dom.create(j.element)),E=C=t;do{if(E==p||E.nodeType==9||b.dom.isBlock(E)||/(TD|TABLE|TH|CAPTION)/.test(E.nodeName))break;C=E}while(E=E.previousSibling?E.previousSibling:E.parentNode);E=D=v;do{if(E==p||E.nodeType==9||b.dom.isBlock(E)||/(TD|TABLE|TH|CAPTION)/.test(E.nodeName))break;D=E}while(E=E.nextSibling?E.nextSibling:E.parentNode);C.nodeName==z?q.setStart(C,0):q.setStartBefore(C),q.setEnd(t,u),A.appendChild(q.cloneContents()||g.createTextNode(""));try{r.setEndAfter(D)}catch(J){}return r.setStart(v,w),B.appendChild(r.cloneContents()||g.createTextNode("")),o=g.createRange(),!C.previousSibling&&C.parentNode.nodeName==z?o.setStartBefore(C.parentNode):q.startContainer.nodeName==z&&q.startOffset==0?o.setStartBefore(q.startContainer):o.setStart(q.startContainer,q.startOffset),!D.nextSibling&&D.parentNode.nodeName==z?o.setEndAfter(D.parentNode):o.setEnd(r.endContainer,r.endOffset),o.deleteContents(),e&&c.getWin().scrollTo(0,F.y),A.firstChild&&A.firstChild.nodeName==z&&(A.innerHTML=A.firstChild.innerHTML),B.firstChild&&B.firstChild.nodeName==z&&(B.innerHTML=B.firstChild.innerHTML),l(A)&&(A.innerHTML="<br />"),l(B)&&(I=K(B,v)),e&&parseFloat(opera.version())<9.5?(o.insertNode(A),o.insertNode(B)):(o.insertNode(B),o.insertNode(A)),B.normalize(),A.normalize(),o=g.createRange(),o.selectNodeContents(d?L(I||B):I||B),o.collapse(1),n.removeAllRanges(),n.addRange(o),G=c.dom.getPos(B).y,H=B.clientHeight,(G<F.y||G+H>F.y+F.h)&&c.getWin().scrollTo(0,G<F.y?G:G-F.h+25),i},backspaceDelete:function(c,d){var e=this,f=e.editor,g=f.getBody(),h=f.dom,j,k=f.selection,l=k.getRng(),m=l.startContainer,j,n,o,p;if(!d&&l.collapsed&&m.nodeType==1&&l.startOffset==m.childNodes.length){p=new a.dom.TreeWalker(m.lastChild,m);for(j=m.lastChild;j;j=p.prev())if(j.nodeType==3){l.setStart(j,j.nodeValue.length),l.collapse(!0),k.setRng(l);return}}if(m&&f.dom.isBlock(m)&&!/^(TD|TH)$/.test(m.nodeName)&&d)if(m.childNodes.length==0||m.childNodes.length==1&&m.firstChild.nodeName=="BR"){j=m;while((j=j.previousSibling)&&!f.dom.isBlock(j));if(j){if(m!=g.firstChild){n=f.dom.doc.createTreeWalker(j,NodeFilter.SHOW_TEXT,null,i);while(o=n.nextNode())j=o;l=f.getDoc().createRange(),l.setStart(j,j.nodeValue?j.nodeValue.length:0),l.setEnd(j,j.nodeValue?j.nodeValue.length:0),k.setRng(l),f.dom.remove(m)}return b.cancel(c)}}}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.extend;a.create("tinymce.ControlManager",{ControlManager:function(b,c){var e=this,f;c=c||{},e.editor=b,e.controls={},e.onAdd=new a.util.Dispatcher(e),e.onPostRender=new a.util.Dispatcher(e),e.prefix=c.prefix||b.id+"_",e._cls={},e.onPostRender.add(function(){d(e.controls,function(a){a.postRender()})})},get:function(a){return this.controls[this.prefix+a]||this.controls[a]},setActive:function(a,b){var c=null;return(c=this.get(a))&&c.setActive(b),c},setDisabled:function(a,b){var c=null;return(c=this.get(a))&&c.setDisabled(b),c},add:function(a){var b=this;return a&&(b.controls[a.id]=a,b.onAdd.dispatch(a,b)),a},createControl:function(a){var b,c=this,e=c.editor;d(e.plugins,function(d){if(d.createControl){b=d.createControl(a,c);if(b)return!1}});switch(a){case"|":case"separator":return c.createSeparator()}return!b&&e.buttons&&(b=e.buttons[a])?c.createButton(a,b):c.add(b)},createDropMenu:function(b,c,d){var f=this,g=f.editor,h,i,j,k;c=e({"class":"mceDropDown",constrain:g.settings.constrain_menus},c),c["class"]=c["class"]+" "+g.getParam("skin")+"Skin";if(j=g.getParam("skin_variant"))c["class"]+=" "+g.getParam("skin")+"Skin"+j.substring(0,1).toUpperCase()+j.substring(1);return b=f.prefix+b,k=d||f._cls.dropmenu||a.ui.DropMenu,h=f.controls[b]=new k(b,c),h.onAddItem.add(function(a,b){var c=b.settings;c.title=g.getLang(c.title,c.title),c.onclick||(c.onclick=function(a){c.cmd&&g.execCommand(c.cmd,c.ui||!1,c.value)})}),g.onRemove.add(function(){h.destroy()}),a.isIE&&(h.onShowMenu.add(function(){g.focus(),i=g.selection.getBookmark(1)}),h.onHideMenu.add(function(){i&&(g.selection.moveToBookmark(i),i=0)})),f.add(h)},createListBox:function(b,d,f){var g=this,h=g.editor,i,j,k;return g.get(b)?null:(d.title=h.translate(d.title),d.scope=d.scope||h,d.onselect||(d.onselect=function(a){h.execCommand(d.cmd,d.ui||!1,a||d.value)}),d=e({title:d.title,"class":"mce_"+b,scope:d.scope,control_manager:g},d),b=g.prefix+b,h.settings.use_native_selects?j=new a.ui.NativeListBox(b,d):(k=f||g._cls.listbox||a.ui.ListBox,j=new k(b,d)),g.controls[b]=j,a.isWebKit&&j.onPostRender.add(function(a,b){c.add(b,"mousedown",function(){h.bookmark=h.selection.getBookmark(1)}),c.add(b,"focus",function(){h.selection.moveToBookmark(h.bookmark),h.bookmark=null})}),j.hideMenu&&h.onMouseDown.add(j.hideMenu,j),g.add(j))},createButton:function(b,c,d){var f=this,g=f.editor,h,i,j;return f.get(b)?null:(c.title=g.translate(c.title),c.label=g.translate(c.label),c.scope=c.scope||g,!c.onclick&&!c.menu_button&&(c.onclick=function(){g.execCommand(c.cmd,c.ui||!1,c.value)}),c=e({title:c.title,"class":"mce_"+b,unavailable_prefix:g.getLang("unavailable",""),scope:c.scope,control_manager:f},c),b=f.prefix+b,c.menu_button?(j=d||f._cls.menubutton||a.ui.MenuButton,i=new j(b,c),g.onMouseDown.add(i.hideMenu,i)):(j=f._cls.button||a.ui.Button,i=new j(b,c)),f.add(i))},createMenuButton:function(a,b,c){return b=b||{},b.menu_button=1,this.createButton(a,b,c)},createSplitButton:function(b,c,d){var f=this,g=f.editor,h,i,j;return f.get(b)?null:(c.title=g.translate(c.title),c.scope=c.scope||g,c.onclick||(c.onclick=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c.onselect||(c.onselect=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=e({title:c.title,"class":"mce_"+b,scope:c.scope,control_manager:f},c),b=f.prefix+b,j=d||f._cls.splitbutton||a.ui.SplitButton,i=f.add(new j(b,c)),g.onMouseDown.add(i.hideMenu,i),i)},createColorSplitButton:function(b,c,d){var f=this,g=f.editor,h,i,j,k;return f.get(b)?null:(c.title=g.translate(c.title),c.scope=c.scope||g,c.onclick||(c.onclick=function(b){a.isIE&&(k=g.selection.getBookmark(1)),g.execCommand(c.cmd,c.ui||!1,b||c.value)}),c.onselect||(c.onselect=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=e({title:c.title,"class":"mce_"+b,menu_class:g.getParam("skin")+"Skin",scope:c.scope,more_colors_title:g.getLang("more_colors")},c),b=f.prefix+b,j=d||f._cls.colorsplitbutton||a.ui.ColorSplitButton,i=new j(b,c),g.onMouseDown.add(i.hideMenu,i),g.onRemove.add(function(){i.destroy()}),a.isIE&&(i.onShowMenu.add(function(){g.focus(),k=g.selection.getBookmark(1)}),i.onHideMenu.add(function(){k&&(g.selection.moveToBookmark(k),k=0)})),f.add(i))},createToolbar:function(b,c,d){var e,f=this,g;return b=f.prefix+b,g=d||f._cls.toolbar||a.ui.Toolbar,e=new g(b,c),f.get(b)?null:f.add(e)},createSeparator:function(b){var c=b||this._cls.separator||a.ui.Separator;return new c},setControlType:function(a,b){return this._cls[a.toLowerCase()]=b},destroy:function(){d(this.controls,function(a){a.destroy()}),this.controls=null}})}(tinymce),function(a){var b=a.util.Dispatcher,c=a.each,d=a.isIE,e=a.isOpera;a.create("tinymce.WindowManager",{WindowManager:function(a){var c=this;c.editor=a,c.onOpen=new b(c),c.onClose=new b(c),c.params={},c.features={}},open:function(b,f){var g=this,h="",i,j,k=g.editor.settings.dialog_type=="modal",l,m,n,o=a.DOM.getViewPort(),p;b=b||{},f=f||{},m=e?o.w:screen.width,n=e?o.h:screen.height,b.name=b.name||"mc_"+(new Date).getTime(),b.width=parseInt(b.width||320),b.height=parseInt(b.height||240),b.resizable=!0,b.left=b.left||parseInt(m/2)-b.width/2,b.top=b.top||parseInt(n/2)-b.height/2,f.inline=!1,f.mce_width=b.width,f.mce_height=b.height,f.mce_auto_focus=b.auto_focus,k&&d&&(b.center=!0,b.help=!1,b.dialogWidth=b.width+"px",b.dialogHeight=b.height+"px",b.scroll=b.scrollbars||!1),c(b,function(b,c){a.is(b,"boolean")&&(b=b?"yes":"no"),/^(name|url)$/.test(c)||(d&&k?h+=(h?";":"")+c+":"+b:h+=(h?",":"")+c+"="+b)}),g.features=b,g.params=f,g.onOpen.dispatch(g,b,f),p=b.url||b.file,p=a._addVer(p);try{d&&k?(l=1,window.showModalDialog(p,window,h)):l=window.open(p,b.name,h)}catch(q){}l||alert(g.editor.getLang("popup_blocked"))},close:function(a){a.close(),this.onClose.dispatch(this)},createInstance:function(b,c,d,e,f,g){var h=a.resolve(b);return new h(c,d,e,f,g)},confirm:function(a,b,c,d){d=d||window,b.call(c||this,d.confirm(this._decode(this.editor.getLang(a,a))))},alert:function(a,b,c,d){var e=this;d=d||window,d.alert(e._decode(e.editor.getLang(a,a))),b&&b.call(c||e)},resizeBy:function(a,b,c){c.resizeBy(a,b)},_decode:function(b){return a.DOM.decode(b).replace(/\\n/g,"\n")}})}(tinymce),function(a){function b(){function e(b,c,d,e){typeof c=="string"&&(c=[c]),a.each(c,function(a){b[a.toLowerCase()]={func:d,scope:e}})}var b={},c={},d={};a.extend(this,{add:function(a,c,d){e(b,a,c,d)},addQueryStateHandler:function(a,b,d){e(c,a,b,d)},addQueryValueHandler:function(a,b,c){e(d,a,b,c)},execCommand:function(a,c,d,e,f){if(c=b[c.toLowerCase()])if(c.func.call(a||c.scope,d,e,f)!==!1)return!0},queryCommandValue:function(){if(cmd=d[cmd.toLowerCase()])return cmd.func.call(scope||cmd.scope,ui,value,args)},queryCommandState:function(){if(cmd=c[cmd.toLowerCase()])return cmd.func.call(scope||cmd.scope,ui,value,args)}})}a.GlobalCommands=new b}(tinymce),function(a){a.Formatter=function(b){function s(a){return a instanceof Array}function t(a,b){return e.getParents(a,b,e.getRoot())}function u(a){return a.nodeType===1&&(a.face==="mceinline"||a.style.fontFamily==="mceinline")}function v(a){return a?c[a]:c}function w(a,b){a&&(typeof a!="string"?d(a,function(a,b){w(b,a)}):(b=b.length?b:[b],d(b,function(a){a.deep===q&&(a.deep=!a.selector),a.split===q&&(a.split=!a.selector||a.inline),a.remove===q&&a.selector&&!a.inline&&(a.remove="none"),a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0),typeof a.classes=="string"&&(a.classes=a.classes.split(/\s+/))}),c[a]=b))}function x(c,j,k){function s(a){var b=a.startContainer,c=a.startOffset,d,e;if(b.nodeType==1||b.nodeValue===""){b=b.nodeType==1?b.childNodes[c]:b;if(b){d=new g(b,b.parentNode);for(e=d.current();e;e=d.next())if(e.nodeType==3&&!I(e)){a.setStart(e,0);break}}}return a}function t(a,b){b=b||m,a&&(d(b.styles,function(b,c){e.setStyle(a,c,H(b,j))}),d(b.attributes,function(b,c){e.setAttrib(a,c,H(b,j))}),d(b.classes,function(b){b=H(b,j),e.hasClass(a,b)||e.addClass(a,b)}))}function w(b){var f=[],g,k;g=m.inline||m.block,k=e.create(g),t(k),h.walk(b,function(b){function n(b){var p=b.nodeName.toLowerCase(),q=b.parentNode.nodeName.toLowerCase(),r;if(F(p,"br")){h=0,m.block&&e.remove(b);return}if(m.wrapper&&A(b,c,j)){h=0;return}if(m.block&&!m.wrapper&&Q(p)){b=e.rename(b,g),t(b),f.push(b),h=0;return}if(m.selector){d(l,function(a){e.is(b,a.selector)&&!u(b)&&(t(b,a),r=!0)});if(!m.inline||r){h=0;return}}i(g,p)&&i(q,g)?(h||(h=k.cloneNode(o),b.parentNode.insertBefore(h,b),f.push(h)),h.appendChild(b)):(h=0,d(a.grep(b.childNodes),n),h=0)}var h;d(b,n)}),d(f,function(a){function f(a){var b=0;return d(a.childNodes,function(a){!I(a)&&!O(a)&&b++}),b}function g(a){var b,c;return d(a.childNodes,function(a){if(a.nodeType==1&&!O(a)&&!u(a))return b=a,o}),b&&E(b,m)&&(c=b.cloneNode(o),t(c),e.replace(c,a,p),e.remove(b,1)),c||a}var b;b=f(a);if(b===0){e.remove(a,1);return}if(m.inline||m.wrapper){!m.exact&&b===1&&(a=g(a)),d(l,function(b){d(e.select(b.inline,a),function(a){L(b,j,a,b.exact?a:null)})});if(A(a.parentNode,c,j))return e.remove(a,1),a=0,p;m.merge_with_parents&&e.getParent(a.parentNode,function(b){if(A(b,c,j))return e.remove(a,1),a=0,p}),a&&(a=P(N(a),a),a=P(a,N(a,p)))}})}var l=v(c),m=l[0],n,q,r;m&&(k?(q=e.createRng(),q.setStartBefore(k),q.setEndAfter(k),w(K(q,l))):!f.isCollapsed()||!m.inline?(n=f.getBookmark(),w(K(f.getRng(p),l)),f.moveToBookmark(n),f.setRng(s(f.getRng(p))),b.nodeChanged()):S("apply",c,j))}function y(c,i,k){function w(a){var b=a.startContainer,c=a.startOffset,d,h,i,j;b.nodeType==3&&c>=b.nodeValue.length-1&&(b=b.parentNode,c=l(b)+1);if(b.nodeType==1){i=b.childNodes,b=i[Math.min(c,i.length-1)],d=new g(b),c>i.length-1&&d.next();for(h=d.current();h;h=d.next())if(h.nodeType==3&&!I(h)){j=e.create("a",null,m),h.parentNode.insertBefore(j,h),a.setStart(h,0),f.setRng(a),e.remove(j);return}}}function x(b){var c,d,e;c=a.grep(b.childNodes);for(d=0,e=n.length;d<e;d++)if(L(n[d],i,b,b))break;if(q.deep)for(d=0,e=c.length;d<e;d++)x(c[d])}function y(a){var b;return d(t(a.parentNode).reverse(),function(a){var d;!b&&a.id!="_start"&&a.id!="_end"&&(d=A(a,c,i),d&&d.split!==!1&&(b=a))}),b}function z(a,b,c,d){var f,g,h,k,l,m;if(a){m=a.parentNode;for(f=b.parentNode;f&&f!=m;f=f.parentNode){g=f.cloneNode(o);for(l=0;l<n.length;l++)if(L(n[l],i,g,g)){g=0;break}g&&(h&&g.appendChild(h),k||(k=g),h=g)}d&&(!q.mixed||!j(a))&&(b=e.split(a,b)),h&&(c.parentNode.insertBefore(h,c),k.appendChild(c))}return b}function C(a){return z(y(a),a,a,!0)}function D(a){var b=e.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return O(c)&&(c=c[a?"firstChild":"lastChild"]),e.remove(b,!0),c}function E(a){var b,c;a=K(a,n,p),q.split&&(b=R(a,p),c=R(a),b!=c?(b=J(b,"span",{id:"_start",_mce_type:"bookmark"}),c=J(c,"span",{id:"_end",_mce_type:"bookmark"}),C(b),C(c),b=D(p),c=D()):b=c=C(b),a.startContainer=b.parentNode,a.startOffset=l(b),a.endContainer=c.parentNode,a.endOffset=l(c)+1),h.walk(a,function(a){d(a,function(a){x(a)})})}var n=v(c),q=n[0],r,s,u;if(k){u=e.createRng(),u.setStartBefore(k),u.setEndAfter(k),E(u);return}!f.isCollapsed()||!q.inline?(r=f.getBookmark(),E(f.getRng(p)),f.moveToBookmark(r),B(c,i,f.getStart())&&w(f.getRng(!0)),b.nodeChanged()):S("remove",c,i)}function z(a,b,c){B(a,b,c)?y(a,b,c):x(a,b,c)}function A(a,b,c,d){function j(a,b,f){var g,h,i=b[f],j;if(i)if(i.length===q){for(g in i)if(i.hasOwnProperty(g)){f==="attributes"?h=e.getAttrib(a,g):h=G(a,g);if(d&&!h&&!b.exact)return;if((!d||b.exact)&&!F(h,H(i[g],c)))return}}else for(j=0;j<i.length;j++)if(f==="attributes"?e.getAttrib(a,i[j]):G(a,i[j]))return b;return b}var f=v(b),g,h,i;if(f&&a)for(h=0;h<f.length;h++){g=f[h];if(E(a,g)&&j(a,g,"attributes")&&j(a,g,"styles")){if(i=g.classes)for(h=0;h<i.length;h++)if(!e.hasClass(a,i[h]))return;return g}}}function B(a,b,c){function h(c){return c=e.getParent(c,function(c){return!!A(c,a,b,!0)}),A(c,a,b)}var d,g;if(c)return h(c);if(f.isCollapsed()){for(g=r.apply.length-1;g>=0;g--)if(r.apply[g].name==a)return!0;for(g=r.remove.length-1;g>=0;g--)if(r.remove[g].name==a)return!1;return h(f.getNode())}return c=f.getNode(),h(c)?p:(d=f.getStart(),d!=c&&h(d)?p:o)}function C(a,b){var c,d=[],g={},h,i,j;if(f.isCollapsed()){for(i=0;i<a.length;i++)for(h=r.remove.length-1;h>=0;h--){j=a[i];if(r.remove[h].name==j){g[j]=!0;break}}for(h=r.apply.length-1;h>=0;h--)for(i=0;i<a.length;i++)j=a[i],!g[j]&&r.apply[h].name==j&&(g[j]=!0,d.push(j))}return c=f.getStart(),e.getParent(c,function(c){var e,f;for(e=0;e<a.length;e++)f=a[e],!g[f]&&A(c,f,b)&&(g[f]=!0,d.push(f))}),d}function D(a){var b=v(a),c,d,g,h,i;if(b){c=f.getStart(),d=t(c);for(h=b.length-1;h>=0;h--){i=b[h].selector;if(!i)return p;for(g=d.length-1;g>=0;g--)if(e.is(d[g],i))return p}}return o}function E(a,b){if(F(a,b.inline))return p;if(F(a,b.block))return p;if(b.selector)return e.is(a,b.selector)}function F(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()==b.toLowerCase()}function G(a,b){var c=e.getStyle(a,b);if(b=="color"||b=="backgroundColor")c=e.toHex(c);return b=="fontWeight"&&c==700&&(c="bold"),""+c}function H(a,b){return typeof a!="string"?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a}function I(a){return a&&a.nodeType===3&&/^([\s\r\n]+|)$/.test(a.nodeValue)}function J(a,b,c){var d=e.create(b,c);return a.parentNode.insertBefore(d,a),d.appendChild(a),d}function K(a,b,c){function m(a,c,d,f){var g,h;f=f||e.getRoot();for(;;){g=a.parentNode;if(g==f||!b[0].block_expand&&j(g))return a;for(i=g[c];i&&i!=a;i=i[d]){if(i.nodeType==1&&!O(i))return a;if(i.nodeType==3&&!I(i))return a}a=a.parentNode}return a}var d=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,i,k;d.nodeType==1&&d.hasChildNodes()&&(k=d.childNodes.length-1,d=d.childNodes[f>k?k:f],d.nodeType==3&&(f=0)),g.nodeType==1&&g.hasChildNodes()&&(k=g.childNodes.length-1,g=g.childNodes[h>k?k:h-1],g.nodeType==3&&(h=g.nodeValue.length)),O(d.parentNode)&&(d=d.parentNode),O(d)&&(d=d.nextSibling||d),O(g.parentNode)&&(g=g.parentNode),O(g)&&(g=g.previousSibling||g);if(b[0].inline||b[0].block_expand)d=m(d,"firstChild","nextSibling"),g=m(g,"lastChild","previousSibling");if(b[0].selector&&b[0].expand!==o&&!b[0].inline){function n(a,c){var d,f,g;a.nodeType==3&&a.nodeValue.length==0&&a[c]&&(a=a[c]),d=t(a);for(f=0;f<d.length;f++)for(g=0;g<b.length;g++)if(e.is(d[f],b[g].selector))return d[f];return a}d=n(d,"previousSibling"),g=n(g,"nextSibling")}if(b[0].block||b[0].selector){function p(a,c,d){var f;b[0].wrapper||(f=e.getParent(a,b[0].block)),f||(f=e.getParent(a.nodeType==3?a.parentNode:a,j)),f&&b[0].wrapper&&(f=t(f,"ul,ol").reverse()[0]||f);if(!f){f=a;while(f[c]&&!j(f[c])){f=f[c];if(F(f,"br"))break}}return f||a}d=p(d,"previousSibling"),g=p(g,"nextSibling"),b[0].block&&(j(d)||(d=m(d,"firstChild","nextSibling")),j(g)||(g=m(g,"lastChild","previousSibling")))}return d.nodeType==1&&(f=l(d),d=d.parentNode),g.nodeType==1&&(h=l(g)+1,g=g.parentNode),{startContainer:d,startOffset:f,endContainer:g,endOffset:h}}function L(a,b,c,f){var g,h,i;if(!E(c,a))return o;if(a.remove!="all"){d(a.styles,function(a,d){a=H(a,b),typeof d=="number"&&(d=a,f=0),(!f||F(G(f,d),a))&&e.setStyle(c,d,""),i=1}),i&&e.getAttrib(c,"style")==""&&(c.removeAttribute("style"),c.removeAttribute("_mce_style")),d(a.attributes,function(a,g){var h;a=H(a,b),typeof g=="number"&&(g=a,f=0);if(!f||F(e.getAttrib(f,g),a)){if(g=="class"){a=e.getAttrib(c,g);if(a){h="",d(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(h+=(h?" ":"")+a)});if(h){e.setAttrib(c,g,h);return}}}g=="class"&&c.removeAttribute("className"),n.test(g)&&c.removeAttribute("_mce_"+g),c.removeAttribute(g)}}),d(a.classes,function(a){a=H(a,b),(!f||e.hasClass(f,a))&&e.removeClass(c,a)}),h=e.getAttribs(c);for(g=0;g<h.length;g++)if(h[g].nodeName.indexOf("_")!==0)return o}if(a.remove!="none")return M(c,a),p}function M(b,c){var f=b.parentNode,g;if(c.block)if(!k){function h(a,b,c){return a=N(a,b,c),!a||a.nodeName=="BR"||j(a)}j(b)&&!j(f)&&(!h(b,o)&&!h(b.firstChild,p,1)&&b.insertBefore(e.create("br"),b.firstChild),!h(b,p)&&!h(b.lastChild,o,1)&&b.appendChild(e.create("br")))}else f==e.getRoot()&&(!c.list_block||!F(b,c.list_block))&&d(a.grep(b.childNodes),function(a){i(k,a.nodeName.toLowerCase())?g?g.appendChild(a):g=J(a,k):g=0});if(c.selector&&c.inline&&!F(c.inline,b))return;e.remove(b,1)}function N(a,b,c){if(a){b=b?"nextSibling":"previousSibling";for(a=c?a:a[b];a;a=a[b])if(a.nodeType==1||!I(a))return a}}function O(a){return a&&a.nodeType==1&&a.getAttribute("_mce_type")=="bookmark"}function P(b,c){function i(a,b){function c(a){var b={};return d(e.getAttribs(a),function(c){var d=c.nodeName.toLowerCase();d.indexOf("_")!==0&&d!=="style"&&(b[d]=e.getAttrib(a,d))}),b}function f(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if(c===q)return o;if(a[d]!=c)return o;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return o;return p}return a.nodeName!=b.nodeName?o:f(c(a),c(b))?f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(b,"style")))?p:o:o}var f,g,h;if(b&&c){function j(a,b){for(g=a;g;g=g[b]){if(g.nodeType==3&&!I(g))return a;if(g.nodeType==1&&!O(g))return g}return a}b=j(b,"previousSibling"),c=j(c,"nextSibling");if(i(b,c)){for(g=b.nextSibling;g&&g!=c;)h=g,g=g.nextSibling,b.appendChild(h);return e.remove(c),d(a.grep(c.childNodes),function(a){b.appendChild(a)}),b}}return c}function Q(a){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(a)}function R(a,b){var c,d,e;return c=a[b?"startContainer":"endContainer"],d=a[b?"startOffset":"endOffset"],c.nodeType==1&&(e=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>e?e:d]),c}function S(c,g,h){function l(){return r.apply.length||r.remove.length}function m(){r.apply=[],r.remove=[]}function n(a){d(r.apply.reverse(),function(b){x(b.name,b.vars,a)}),d(r.remove.reverse(),function(b){y(b.name,b.vars,a)}),e.remove(a,1),m()}var i,j=r[c],k=r[c=="apply"?"remove":"apply"];for(i=j.length-1;i>=0;i--)if(j[i].name==g)return;j.push({name:g,vars:h});for(i=k.length-1;i>=0;i--)k[i].name==g&&k.splice(i,1);l()&&(b.getDoc().execCommand("FontName",!1,"mceinline"),r.lastRng=f.getRng(),d(e.select("font,span"),function(a){var c;u(a)&&(c=f.getBookmark(),n(a),f.moveToBookmark(c),b.nodeChanged())}),!r.isListening&&l()&&(r.isListening=!0,d("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(c){b[c].addToTop(function(b,c){l()&&!a.dom.RangeUtils.compareRanges(r.lastRng,f.getRng())&&(d(e.select("font,span"),function(a){var c,d;u(a)&&(c=a.firstChild,c?(n(a),d=e.createRng(),d.setStart(c,c.nodeValue.length),d.setEnd(c,c.nodeValue.length),f.setRng(d),b.nodeChanged()):e.remove(a))}),(c.type=="keyup"||c.type=="mouseup")&&m())})})))}var c={},d=a.each,e=b.dom,f=b.selection,g=a.dom.TreeWalker,h=new a.dom.RangeUtils(e),i=b.schema.isValid,j=e.isBlock,k=b.settings.forced_root_block,l=e.nodeIndex,m="ï»¿",n=/^(src|href|style)$/,o=!1,p=!0,q,r={apply:[],remove:[]};a.extend(this,{get:v,register:w,apply:x,remove:y,toggle:z,match:B,matchAll:C,matchNode:A,canApply:D})}}(tinymce),tinymce.onAddEditor.add(function(a,b){var c,d,e,f=b.settings;if(f.inline_styles){d=a.explode(f.font_size_style_values);function g(a,b){e.replace(e.create("span",{style:b}),a,1)}c={font:function(a,b){g(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:d[parseInt(b.size)-1]})},u:function(a,b){g(b,{textDecoration:"underline"})},strike:function(a,b){g(b,{textDecoration:"line-through"})}};function h(d,g){e=d.dom,f.convert_fonts_to_spans&&a.each(e.select("font,u,strike",g.node),function(a){c[a.nodeName.toLowerCase()](b.dom,a)})}b.onPreProcess.add(h),b.onInit.add(function(){b.selection.onSetContent.add(h)})}});var tinymce=null,tinyMCEPopup,tinyMCE;tinyMCEPopup={init:function(){var a=this,b,c;b=a.getWin(),tinymce=b.tinymce,tinyMCE=b.tinyMCE,a.editor=tinymce.EditorManager.activeEditor,a.params=a.editor.windowManager.params,a.features=a.editor.windowManager.features,a.dom=a.editor.windowManager.createInstance("tinymce.dom.DOMUtils",document),a.features.popup_css!==!1&&a.dom.loadCSS(a.features.popup_css||a.editor.settings.popup_css),a.listeners=[],a.onInit={add:function(b,c){a.listeners.push({func:b,scope:c})}},a.isWindow=!a.getWindowArg("mce_inline"),a.id=a.getWindowArg("mce_window_id"),a.editor.windowManager.onOpen.dispatch(a.editor.windowManager,window)},getWin:function(){return!window.frameElement&&window.dialogArguments||opener||parent||top},getWindowArg:function(a,b){var c=this.params[a];return tinymce.is(c)?c:b},getParam:function(a,b){return this.editor.getParam(a,b)},getLang:function(a,b){return this.editor.getLang(a,b)},execCommand:function(a,b,c,d){return d=d||{},d.skip_focus=1,this.restoreSelection(),this.editor.execCommand(a,b,c,d)},resizeToInnerSize:function(){var a=this;setTimeout(function(){var b=a.dom.getViewPort(window);a.editor.windowManager.resizeBy(a.getWindowArg("mce_width")-b.w,a.getWindowArg("mce_height")-b.h,a.id||window)},0)},executeOnLoad:function(s){this.onInit.add(function(){eval(s)})},storeSelection:function(){this.editor.windowManager.bookmark=tinyMCEPopup.editor.selection.getBookmark(1)},restoreSelection:function(){var a=tinyMCEPopup;!a.isWindow&&tinymce.isIE&&a.editor.selection.moveToBookmark(a.editor.windowManager.bookmark)},requireLangPack:function(){var a=this,b=a.getWindowArg("plugin_url")||a.getWindowArg("theme_url");b&&a.editor.settings.language&&a.features.translate_i18n!==!1&&(b+="/langs/"+a.editor.settings.language+"_dlg.js",tinymce.ScriptLoader.isDone(b)||(document.write('<script type="text/javascript" src="'+tinymce._addVer(b)+'"></script>'),tinymce.ScriptLoader.markDone(b)))},pickColor:function(a,b){this.execCommand("mceColorPicker",!0,{color:document.getElementById(b).value,func:function(a){document.getElementById(b).value=a;try{document.getElementById(b).onchange()}catch(c){}}})},openBrowser:function(a,b,c){tinyMCEPopup.restoreSelection(),this.editor.execCallback("file_browser_callback",a,document.getElementById(a).value,b,window)},confirm:function(a,b,c){this.editor.windowManager.confirm(a,b,c,window)},alert:function(a,b,c){this.editor.windowManager.alert(a,b,c,window)},close:function(){function b(){a.editor.windowManager.close(window),tinymce=tinyMCE=a.editor=a.params=a.dom=a.dom.doc=null}var a=this;tinymce.isOpera?a.getWin().setTimeout(b,0):b()},_restoreSelection:function(){var a=window.event.srcElement;a.nodeName=="INPUT"&&(a.type=="submit"||a.type=="button")&&tinyMCEPopup.restoreSelection()},_onDOMLoaded:function(){var a=tinyMCEPopup,b=document.title,c,d,e;if(a.domLoaded)return;a.domLoaded=1,a.features.translate_i18n!==!1&&(d=document.body.innerHTML,tinymce.isIE&&(d=d.replace(/ (value|title|alt)=([^"][^\s>]+)/gi,' $1="$2"')),document.dir=a.editor.getParam("directionality",""),(e=a.editor.translate(d))&&e!=d&&(document.body.innerHTML=e),(e=a.editor.translate(b))&&e!=b&&(document.title=b=e)),document.body.style.display="",tinymce.isIE&&(document.attachEvent("onmouseup",tinyMCEPopup._restoreSelection),a.dom.add(a.dom.select("head")[0],"base",{target:"_self"})),a.restoreSelection(),a.resizeToInnerSize(),a.isWindow?window.focus():a.editor.windowManager.setTitle(window,b),!tinymce.isIE&&!a.isWindow&&tinymce.dom.Event._add(document,"focus",function(){a.editor.windowManager.focus(a.id)}),tinymce.each(a.dom.select("select"),function(a){a.onkeydown=tinyMCEPopup._accessHandler}),tinymce.each(a.listeners,function(b){b.func.call(b.scope,a.editor)}),a.getWindowArg("mce_auto_focus",!0)&&(window.focus(),tinymce.each(document.forms,function(b){tinymce.each(b.elements,function(b){if(a.dom.hasClass(b,"mceFocus")&&!b.disabled)return b.focus(),!1})})),document.onkeyup=tinyMCEPopup._closeWinKeyHandler},_accessHandler:function(a){a=a||window.event;if(a.keyCode==13||a.keyCode==32)return a=a.target||a.srcElement,a.onchange&&a.onchange(),tinymce.dom.Event.cancel(a)},_closeWinKeyHandler:function(a){a=a||window.event,a.keyCode==27&&tinyMCEPopup.close()},_wait:function(){document.attachEvent?(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",arguments.callee),tinyMCEPopup._onDOMLoaded())}),document.documentElement.doScroll&&window==window.top&&function(){if(tinyMCEPopup.domLoaded)return;try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}tinyMCEPopup._onDOMLoaded()}(),document.attachEvent("onload",tinyMCEPopup._onDOMLoaded)):document.addEventListener&&(window.addEventListener("DOMContentLoaded",tinyMCEPopup._onDOMLoaded,!1),window.addEventListener("load",tinyMCEPopup._onDOMLoaded,!1))}},tinyMCEPopup.init(),tinyMCEPopup._wait(),function(a){var b=/^\s*|\s*$/g,c,d={majorVersion:"3",minorVersion:"3.8",releaseDate:"2010-06-30",_init:function(){function l(a){return a.src&&/tiny_mce(|_gzip|_jquery|_prototype)(_dev|_src)?.js/.test(a.src)?(/_(src|dev)\.js/g.test(a.src)&&(b.suffix="_src"),(j=a.src.indexOf("?"))!=-1&&(b.query=a.src.substring(j+1)),b.baseURL=a.src.substring(0,a.src.lastIndexOf("/")),i&&b.baseURL.indexOf("://")==-1&&b.baseURL.indexOf("/")!==0&&(b.baseURL=i+b.baseURL),b.baseURL):null}var b=this,c=document,d=navigator,e=d.userAgent,f,g,h,i,j,k;b.isOpera=a.opera&&opera.buildNumber,b.isWebKit=/WebKit/.test(e),b.isIE=!b.isWebKit&&!b.isOpera&&/MSIE/gi.test(e)&&/Explorer/gi.test(d.appName),b.isIE6=b.isIE&&/MSIE [56]/.test(e),b.isGecko=!b.isWebKit&&/Gecko/.test(e),b.isMac=e.indexOf("Mac")!=-1,b.isAir=/adobeair/i.test(e),b.isIDevice=/(iPad|iPhone)/.test(e);if(a.tinyMCEPreInit){b.suffix=tinyMCEPreInit.suffix,b.baseURL=tinyMCEPreInit.base,b.query=tinyMCEPreInit.query;return}b.suffix="",g=c.getElementsByTagName("base");for(f=0;f<g.length;f++)if(k=g[f].href)/^https?:\/\/[^\/]+$/.test(k)&&(k+="/"),i=k?k.match(/.*\//)[0]:"";g=c.getElementsByTagName("script");for(f=0;f<g.length;f++)if(l(g[f]))return;h=c.getElementsByTagName("head")[0];if(h){g=h.getElementsByTagName("script");for(f=0;f<g.length;f++)if(l(g[f]))return}return},is:function(a,b){return b?b=="array"&&a.hasOwnProperty&&a instanceof Array?!0:typeof a==b:a!==c},each:function(a,b,d){var e,f;if(!a)return 0;d=d||a;if(a.length!==c){for(e=0,f=a.length;e<f;e++)if(b.call(d,a[e],e,a)===!1)return 0}else for(e in a)if(a.hasOwnProperty(e)&&b.call(d,a[e],e,a)===!1)return 0;return 1},trim:function(a){return(a?""+a:"").replace(b,"")},create:function(a,b){var c=this,d,e,f,g,h,i=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec
(a),f=a[3].match(/(^|\.)(\w+)$/i)[2],e=c.createNS(a[3].replace(/\.\w+$/,""));if(e[f])return;if(a[2]=="static"){e[f]=b,this.onCreate&&this.onCreate(a[2],a[3],e[f]);return}b[f]||(b[f]=function(){},i=1),e[f]=b[f],c.extend(e[f].prototype,b),a[5]&&(d=c.resolve(a[5]).prototype,g=a[5].match(/\.(\w+)$/i)[1],h=e[f],i?e[f]=function(){return d[g].apply(this,arguments)}:e[f]=function(){return this.parent=d[g],h.apply(this,arguments)},e[f].prototype[f]=e[f],c.each(d,function(a,b){e[f].prototype[b]=d[b]}),c.each(b,function(a,b){d[b]?e[f].prototype[b]=function(){return this.parent=d[b],a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),c.each(b["static"],function(a,b){e[f][b]=a}),this.onCreate&&this.onCreate(a[2],a[3],e[f].prototype)},walk:function(a,b,c,e){e=e||this,a&&(c&&(a=a[c]),d.each(a,function(a,g){if(b.call(e,a,g,c)===!1)return!1;d.walk(a,b,c,e)}))},createNS:function(b,c){var d,e;c=c||a,b=b.split(".");for(d=0;d<b.length;d++)e=b[d],c[e]||(c[e]={}),c=c[e];return c},resolve:function(b,c){var d,e;c=c||a,b=b.split(".");for(d=0,e=b.length;d<e;d++){c=c[b[d]];if(!c)break}return c},addUnload:function(b,c){var d=this;b={func:b,scope:c||this};if(!d.unloads){function e(){var b=d.unloads,c,g;if(b){for(g in b)c=b[g],c&&c.func&&c.func.call(c.scope,1);a.detachEvent?(a.detachEvent("onbeforeunload",f),a.detachEvent("onunload",e)):a.removeEventListener&&a.removeEventListener("unload",e,!1),d.unloads=c=b=w=e=0,a.CollectGarbage&&CollectGarbage()}}function f(){var b=document;if(b.readyState=="interactive"){function c(){b.detachEvent("onstop",c),e&&e(),b=0}b&&b.attachEvent("onstop",c),a.setTimeout(function(){b&&b.detachEvent("onstop",c)},0)}}a.attachEvent?(a.attachEvent("onunload",e),a.attachEvent("onbeforeunload",f)):a.addEventListener&&a.addEventListener("unload",e,!1),d.unloads=[b]}else d.unloads.push(b);return b},removeUnload:function(a){var b=this.unloads,c=null;return d.each(b,function(d,e){if(d&&d.func==a)return b.splice(e,1),c=a,!1}),c},explode:function(a,b){return a?d.map(a.split(b||","),d.trim):a},_addVer:function(a){var b;return this.query?(b=(a.indexOf("?")==-1?"?":"&")+this.query,a.indexOf("#")==-1?a+b:a.replace("#",b+"#")):a}};d._init(),a.tinymce=a.tinyMCE=d}(window),function(a,b){var c=b.is,d=/^(href|src|style)$/i,e;if(!a)return alert("Load jQuery first!");b.$=a,b.adapter={patchEditor:function(b){function f(a,b){var d=this;return b&&d.removeAttr("_mce_style"),c.css.apply(d,arguments)}function g(a,f){var g=this;return d.test(a)?f!==e?(g.each(function(c,d){b.dom.setAttrib(d,a,f)}),g):g.attr("_mce_"+a):c.attr.apply(g,arguments)}function h(a){return function(c){return c&&(c=b.dom.processHTML(c)),a.call(this,c)}}function i(a){return a.css!==f&&(a.css=f,a.attr=g,a.html=h(c.html),a.append=h(c.append),a.prepend=h(c.prepend),a.after=h(c.after),a.before=h(c.before),a.replaceWith=h(c.replaceWith),a.tinymce=b,a.pushStack=function(){return i(c.pushStack.apply(this,arguments))}),a}var c=a.fn;b.$=function(c,d){var e=b.getDoc();return i(a(c||e,e||d))}}},b.extend=a.extend,b.extend(b,{map:a.map,grep:function(b,c){return a.grep(b,c||function(){return 1})},inArray:function(b,c){return a.inArray(c,b||[])}});var f={"tinymce.dom.DOMUtils":{select:function(b,c){var d=this;return a.find(b,d.get(c)||d.get(d.settings.root_element)||d.doc,[])},is:function(b,c){return a(this.get(b)).is(c)}}};b.onCreate=function(a,c,d){b.extend(d,f[c])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this,this.listeners=[]},add:function(a,b){return this.listeners.push({cb:a,scope:b||this.scope}),a},addToTop:function(a,b){return this.listeners.unshift({cb:a,scope:b||this.scope}),a},remove:function(a){var b=this.listeners,c=null;return tinymce.each(b,function(d,e){if(a==d.cb)return c=a,b.splice(e,1),!1}),c},dispatch:function(){var a,b=arguments,c,d=this.listeners,e;for(c=0;c<d.length;c++){e=d[c],a=e.cb.apply(e.scope,b);if(a===!1)break}return a}}),function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(b,c){var d=this,e,f,g;b=tinymce.trim(b),c=d.settings=c||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(b)||/^\s*#/.test(b)){d.source=b;return}b.indexOf("/")===0&&b.indexOf("//")!==0&&(b=(c.base_uri?c.base_uri.protocol||"http":"http")+"://mce_host"+b),/^\w*:?\/\//.test(b)||(b=(c.base_uri.protocol||"http")+"://mce_host"+d.toAbsPath(c.base_uri.path,b)),b=b.replace(/@@/g,"(mce_at)"),b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b),a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(a,c){var e=b[c];e&&(e=e.replace(/\(mce_at\)/g,"@@")),d[a]=e});if(g=c.base_uri){d.protocol||(d.protocol=g.protocol),d.userInfo||(d.userInfo=g.userInfo),!d.port&&d.host=="mce_host"&&(d.port=g.port);if(!d.host||d.host=="mce_host")d.host=g.host;d.source=""}},setPath:function(a){var b=this;a=/^(.*?)\/?(\w+)?$/.exec(a),b.path=a[0],b.directory=a[1],b.file=a[2],b.source="",b.getURI()},toRelative:function(a){var b=this,c;return a==="./"?a:(a=new tinymce.util.URI(a,{base_uri:b}),a.host!="mce_host"&&b.host!=a.host&&a.host||b.port!=a.port||b.protocol!=a.protocol?a.getURI():(c=b.toRelPath(b.path,a.path),a.query&&(c+="?"+a.query),a.anchor&&(c+="#"+a.anchor),c))},toAbsolute:function(a,b){var a=new tinymce.util.URI(a,{base_uri:this});return a.getURI(this.host==a.host&&this.protocol==a.protocol?b:0)},toRelPath:function(a,b){var c,d=0,e="",f,g;a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/");if(a.length>=c.length)for(f=0,g=a.length;f<g;f++)if(f>=c.length||a[f]!=c[f]){d=f+1;break}if(a.length<c.length)for(f=0,g=c.length;f<g;f++)if(f>=a.length||a[f]!=c[f]){d=f+1;break}if(d==1)return b;for(f=0,g=a.length-(d-1);f<g;f++)e+="../";for(f=d-1,g=c.length;f<g;f++)f!=d-1?e+="/"+c[f]:e+=c[f];return e},toAbsPath:function(b,c){var d,e=0,f=[],g,h;g=/\/$/.test(c)?"/":"",b=b.split("/"),c=c.split("/"),a(b,function(a){a&&f.push(a)}),b=f;for(d=c.length-1,f=[];d>=0;d--){if(c[d].length==0||c[d]==".")continue;if(c[d]==".."){e++;continue}if(e>0){e--;continue}f.push(c[d])}return d=b.length-e,d<=0?h=f.reverse().join("/"):h=b.slice(0,d).join("/")+"/"+f.reverse().join("/"),h.indexOf("/")!==0&&(h="/"+h),g&&h.lastIndexOf("/")!==h.length-1&&(h+=g),h},getURI:function(a){var b,c=this;if(!c.source||a)b="",a||(c.protocol&&(b+=c.protocol+"://"),c.userInfo&&(b+=c.userInfo+"@"),c.host&&(b+=c.host),c.port&&(b+=":"+c.port)),c.path&&(b+=c.path),c.query&&(b+="?"+c.query),c.anchor&&(b+="#"+c.anchor),c.source=b;return c.source}})}(),function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(b){var c=this.get(b),d;return c&&a(c.split("&"),function(a){a=a.split("="),d=d||{},d[unescape(a[0])]=unescape(a[1])}),d},setHash:function(b,c,d,e,f,g){var h="";a(c,function(a,b){h+=(h?"&":"")+escape(b)+"="+escape(a)}),this.set(b,h,d,e,f,g)},get:function(a){var b=document.cookie,c,d=a+"=",e;if(!b)return;e=b.indexOf("; "+d);if(e==-1){e=b.indexOf(d);if(e!=0)return null}else e+=2;return c=b.indexOf(";",e),c==-1&&(c=b.length),unescape(b.substring(e+d.length,c))},set:function(a,b,c,d,e,f){document.cookie=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+escape(d):"")+(e?"; domain="+e:"")+(f?"; secure":"")},remove:function(a,b){var c=new Date;c.setTime(c.getTime()-1e3),this.set(a,"",c,b,c)}})}(),tinymce.create("static tinymce.util.JSON",{serialize:function(a){var b,c,d=tinymce.util.JSON.serialize,e;if(a==null)return"null";e=typeof a;if(e=="string")return c="\bb\tt\nn\ff\rr\"\"''\\\\",'"'+a.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(a,d){return b=c.indexOf(d),b+1?"\\"+c.charAt(b+1):(a=d.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a)})+'"';if(e=="object"){if(a.hasOwnProperty&&a instanceof Array){for(b=0,c="[";b<a.length;b++)c+=(b>0?",":"")+d(a[b]);return c+"]"}c="{";for(b in a)c+=typeof a[b]!="function"?(c.length>1?',"':'"')+b+'":'+d(a[b]):"";return c+"}"}return""+a},parse:function(s){try{return eval("("+s+")")}catch(ex){}}}),tinymce.create("static tinymce.util.XHR",{send:function(a){function f(a){b=0;try{b=new ActiveXObject(a)}catch(c){}return b}var b,c,d=window,e=0;a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=a.async===!1?!1:!0,a.data=a.data||"",b=d.XMLHttpRequest?new XMLHttpRequest:f("Microsoft.XMLHTTP")||f("Msxml2.XMLHTTP");if(b){b.overrideMimeType&&b.overrideMimeType(a.content_type),b.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.content_type&&b.setRequestHeader("Content-Type",a.content_type),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(a.data);function g(){!a.async||b.readyState==4||e++>1e4?(a.success&&e<1e4&&b.status==200?a.success.call(a.success_scope,""+b.responseText,b,a):a.error&&a.error.call(a.error_scope,e>1e4?"TIMED_OUT":"GENERAL",b,a),b=null):d.setTimeout(g,10)}if(!a.async)return g();c=d.setTimeout(g,10)}}}),function(){var a=tinymce.extend,b=tinymce.util.JSON,c=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(b){this.settings=a({},b),this.count=0},send:function(d){var e=d.error,f=d.success;d=a(this.settings,d),d.success=function(a,c){a=b.parse(a),typeof a=="undefined"&&(a={error:"JSON Parse error."}),a.error?e.call(d.error_scope||d.scope,a.error,c):f.call(d.success_scope||d.scope,a.result)},d.error=function(a,b){e.call(d.error_scope||d.scope,a,b)},d.data=b.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params}),d.content_type="application/json",c.send(d)},"static":{sendRPC:function(a){return(new tinymce.util.JSONRequest).send(a)}}})}(),function(a){function n(a){var b={},c;a=a.split(",");for(c=a.length;c>=0;c--)b[a[c]]=1;return b}var b=a.each,c=a.is,d=a.isWebKit,e=a.isIE,f=/^(H[1-6R]|P|DIV|ADDRESS|PRE|FORM|T(ABLE|BODY|HEAD|FOOT|H|R|D)|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)$/,g=n("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),h=n("src,href,style,coords,shape"),i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},j=/[<>&\"]/g,k=/^([a-z0-9],?)+$/i,l=/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)(\s*\/?)>/g,m=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;a.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(c,d){var e=this,f;e.doc=c,e.win=window,e.files={},e.cssFlicker=!1,e.counter=0,e.boxModel=!a.isIE||c.compatMode=="CSS1Compat",e.stdMode=c.documentMode===8,e.settings=d=a.extend({keep_values:!1,hex_colors:1,process_html:1},d);if(a.isIE6)try{c.execCommand("BackgroundImageCache",!1,!0)}catch(g){e.cssFlicker=!0}d.valid_styles&&(e._styles={},b(d.valid_styles,function(b,c){e._styles[c]=a.explode(b)})),a.addUnload(e.destroy,e)},getRoot:function(){var a=this,b=a.settings;return b&&a.get(b.root_element)||a.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c=this,d;return a=c.get(a),b=c.getPos(a),d=c.getSize(a),{x:b.x,y:b.y,w:d.w,h:d.h}},getSize:function(a){var b=this,c,d;return a=b.get(a),c=b.getStyle(a,"width"),d=b.getStyle(a,"height"),c.indexOf("px")===-1&&(c=0),d.indexOf("px")===-1&&(d=0),{w:parseInt(c)||a.offsetWidth||a.clientWidth,h:parseInt(d)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,d,e){var f=this,g,h=f.settings,i=[];a=f.get(a),e=e===undefined,h.strict_root&&(d=d||f.getRoot()),c(b,"string")&&(g=b,b==="*"?b=function(a){return a.nodeType==1}:b=function(a){return f.is(a,g)});while(a){if(a==d||!a.nodeType||a.nodeType===9)break;if(!b||b(a)){if(!e)return a;i.push(a)}a=a.parentNode}return e?i:null},get:function(a){var b;if(a&&this.doc&&typeof a=="string"){b=a,a=this.doc.getElementById(a);if(a&&a.id!==b)return this.doc.getElementsByName(b)[1]}return a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},add:function(a,b,d,e,f){var g=this;return this.run(a,function(a){var h,i;return h=c(b,"string")?g.doc.createElement(b):b,g.setAttribs(h,d),e&&(e.nodeType?h.appendChild(e):g.setHTML(h,e)),f?h:a.appendChild(h)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(b,c,d){var e="",f=this,g;e+="<"+b;for(g in c)c.hasOwnProperty(g)&&(e+=" "+g+'="'+f.encode(c[g])+'"');return a.is(d)?e+">"+d+"</"+b+">":e+" />"},remove:function(b,c){return this.run(b,function(b){var d,e;d=b.parentNode;if(!d)return null;if(c)while(e=b.firstChild)!a.isIE||e.nodeType!==3||e.nodeValue?d.insertBefore(e,b):b.removeChild(e);return d.removeChild(b)})},setStyle:function(b,c,d){var f=this;return f.run(b,function(g){var h,i;h=g.style,c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),f.pixelStyles.test(c)&&(a.is(d,"number")||/^[\-0-9\.]+$/.test(d))&&(d+="px");switch(c){case"opacity":if(e){h.filter=d===""?"":"alpha(opacity="+d*100+")";if(!b.currentStyle||!b.currentStyle.hasLayout)h.display="inline-block"}h[c]=h["-moz-opacity"]=h["-khtml-opacity"]=d||"";break;case"float":e?h.styleFloat=d:h.cssFloat=d;break;default:h[c]=d||""}f.settings.update_styles&&f.setAttrib(g,"_mce_style")})},getStyle:function(a,b,c){a=this.get(a);if(!a)return!1;if(this.doc.defaultView&&c){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(d){return null}}return b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),b=="float"&&(b=e?"styleFloat":"cssFloat"),a.currentStyle&&c?a.currentStyle[b]:a.style[b]},setStyles:function(a,c){var d=this,e=d.settings,f;f=e.update_styles,e.update_styles=0,b(c,function(b,c){d.setStyle(a,c,b)}),e.update_styles=f,e.update_styles&&d.setAttrib(a,e.cssText)},setAttrib:function(a,d,e){var f=this;if(!a||!d)return;return f.settings.strict&&(d=d.toLowerCase()),this.run(a,function(a){var g=f.settings;switch(d){case"style":if(!c(e,"string")){b(e,function(b,c){f.setStyle(a,c,b)});return}g.keep_values&&(e&&!f._isRes(e)?a.setAttribute("_mce_style",e,2):a.removeAttribute("_mce_style",2)),a.style.cssText=e;break;case"class":a.className=e||"";break;case"src":case"href":g.keep_values&&(g.url_converter&&(e=g.url_converter.call(g.url_converter_scope||f,e,d,a)),f.setAttrib(a,"_mce_"+d,e,2));break;case"shape":a.setAttribute("_mce_style",e)}c(e)&&e!==null&&e.length!==0?a.setAttribute(d,""+e,2):a.removeAttribute(d,2)})},setAttribs:function(a,c){var d=this;return this.run(a,function(a){b(c,function(b,c){d.setAttrib(a,c,b)})})},getAttrib:function(a,b,f){var g,h=this;a=h.get(a);if(!a||a.nodeType!==1)return!1;c(f)||(f="");if(/^(src|href|style|coords|shape)$/.test(b)){g=a.getAttribute("_mce_"+b);if(g)return g}e&&h.props[b]&&(g=a[h.props[b]],g=g&&g.nodeValue?g.nodeValue:g),g||(g=a.getAttribute(b,2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b))return a[h.props[b]]===!0&&g===""?b:g?b:"";if(a.nodeName==="FORM"&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;b==="style"&&(g=g||a.style.cssText,g&&(g=h.serializeStyle(h.parseStyle(g),a.nodeName),h.settings.keep_values&&!h._isRes(g)&&a.setAttribute("_mce_style",g))),d&&b==="class"&&g&&(g=g.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(e)switch(b){case"rowspan":case"colspan":g===1&&(g="");break;case"size":if(g==="+0"||g===20||g===0)g="";break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":g===0&&(g="");break;case"hspace":g===-1&&(g="");break;case"maxlength":case"tabindex":if(g===32768||g===2147483647||g==="32768")g="";break;case"multiple":case"compact":case"noshade":case"nowrap":if(g===65535)return b;return f;case"shape":g=g.toLowerCase();break;default:b.indexOf("on")===0&&g&&(g=(""+g).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return g!==undefined&&g!==null&&g!==""?""+g:f},getPos:function(a,b){var c=this,d=0,f=0,g,h=c.doc,i;a=c.get(a),b=b||h.body;if(a){if(e&&!c.stdMode)return a=a.getBoundingClientRect(),g=c.boxModel?h.documentElement:h.body,d=c.getStyle(c.select("html")[0],"borderWidth"),d=(d=="medium"||c.boxModel&&!c.isIE6)&&2||d,{x:a.left+g.scrollLeft-d,y:a.top+g.scrollTop-d};i=a;while(i&&i!=b&&i.nodeType)d+=i.offsetLeft||0,f+=i.offsetTop||0,i=i.offsetParent;i=a.parentNode;while(i&&i!=b&&i.nodeType)d-=i.scrollLeft||0,f-=i.scrollTop||0,i=i.parentNode}return{x:d,y:f}},parseStyle:function(c){function h(a,b,c){var d,e,f,h;d=g[a+"-top"+b];if(!d)return;e=g[a+"-right"+b];if(d!=e)return;f=g[a+"-bottom"+b];if(e!=f)return;h=g[a+"-left"+b];if(f!=h)return;g[c]=h,delete g[a+"-top"+b],delete g[a+"-right"+b],delete g[a+"-bottom"+b],delete g[a+"-left"+b]}function i(a,b,c,d){var e;e=g[b];if(!e)return;e=g[c];if(!e)return;e=g[d];if(!e)return;g[a]=g[b]+" "+g[c]+" "+g[d],delete g[b],delete g[c],delete g[d]}var d=this,f=d.settings,g={};return c?(c=c.replace(/&(#?[a-z0-9]+);/g,"&$1_MCE_SEMI_"),b(c.split(";"),function(b){var c,e=[];b&&(b=b.replace(/_MCE_SEMI_/g,";"),b=b.replace(/url\([^\)]+\)/g,function(a){return e.push(a),"url("+e.length+")"}),b=b.split(":"),c=a.trim(b[1]),c=c.replace(/url\(([^\)]+)\)/g,function(a,b){return e[parseInt(b)-1]}),c=c.replace(/rgb\([^\)]+\)/g,function(a){return d.toHex(a)}),f.url_converter&&(c=c.replace(/url\([\'\"]?([^\)\'\"]+)[\'\"]?\)/g,function(a,b){return"url("+f.url_converter.call(f.url_converter_scope||d,d.decode(b),"style",null)+")"})),g[a.trim(b[0]).toLowerCase()]=c)}),h("border","","border"),h("border","-width","border-width"),h("border","-color","border-color"),h("border","-style","border-style"),h("padding","","padding"),h("margin","","margin"),i("border","border-width","border-style","border-color"),e&&g.border=="medium none"&&(g.border=""),g):g},serializeStyle:function(a,c){function f(a,b){if(b&&a){if(b.indexOf("-")===0)return;switch(b){case"font-weight":a==700&&(a="bold");break;case"color":case"background-color":a=a.toLowerCase()}e+=(e?" ":"")+b+": "+a+";"}}var d=this,e="";return c&&d._styles?(b(d._styles["*"],function(b){f(a[b],b)}),b(d._styles[c.toLowerCase()],function(b){f(a[b],b)})):b(a,f),e},loadCSS:function(c){var d=this,f=d.doc,g;c||(c=""),g=d.select("head")[0],b(c.split(","),function(b){var c;if(d.files[b])return;d.files[b]=!0,c=d.create("link",{rel:"stylesheet",href:a._addVer(b)}),e&&f.documentMode&&(c.onload=function(){f.recalc(),c.onload=null}),g.appendChild(c)})},addClass:function(a,b){return this.run(a,function(a){var c;return b?this.hasClass(a,b)?a.className:(c=this.removeClass(a,b),a.className=(c!=""?c+" ":"")+b):0})},removeClass:function(b,c){var d=this,e;return d.run(b,function(b){var f;return d.hasClass(b,c)?(e||(e=new RegExp("(^|\\s+)"+c+"(\\s+|$)","g")),f=b.className.replace(e," "),f=a.trim(f!=" "?f:""),b.className=f,f||(b.removeAttribute("class"),b.removeAttribute("className")),f):b.className})},hasClass:function(a,b){return a=this.get(a),!a||!b?!1:(" "+a.className+" ").indexOf(" "+b+" ")!==-1},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||a.style.display=="none"||this.getStyle(a,"display")=="none"},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,c){var d=this;return this.run(a,function(a){var f,g,h,i,j,f;c=d.processHTML(c);if(e){function k(){while(a.firstChild)a.firstChild.removeNode();try{a.innerHTML="<br />"+c,a.removeChild(a.firstChild)}catch(e){f=d.create("div"),f.innerHTML="<br />"+c,b(f.childNodes,function(b,c){c&&a.appendChild(b)})}}d.settings.fix_ie_paragraphs&&(c=c.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _mce_keep="true">&nbsp;</p>')),k();if(d.settings.fix_ie_paragraphs){h=a.getElementsByTagName("p");for(g=h.length-1,f=0;g>=0;g--){i=h[g];if(!i.hasChildNodes()){if(!i._mce_keep){f=1;break}i.removeAttribute("_mce_keep")}}}if(f){c=c.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">'),c=c.replace(/<\/p>/gi,"</div>"),k();if(d.settings.fix_ie_paragraphs){h=a.getElementsByTagName("DIV");for(g=h.length-1;g>=0;g--){i=h[g];if(i._mce_tmp){j=d.doc.createElement("p"),i.cloneNode(!1).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function(a,b){var c;b!=="_mce_tmp"&&(c=i.getAttribute(b),!c&&b==="class"&&(c=i.className),j.setAttribute(b,c))});for(f=0;f<i.childNodes.length;f++)j.appendChild(i.childNodes[f].cloneNode(!0));i.swapNode(j)}}}}}else a.innerHTML=c;return c})},processHTML:function(b){var c=this,d=c.settings,f=[];if(!d.process_html)return b;e&&(b=b.replace(/&apos;/g,"&#39;"),b=b.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,"")),b=b.replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>");if(d.keep_values){if(/<script|noscript|style/i.test(b)){function i(a){return a=a.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n"),a=a.replace(/^[\r\n]*|[\r\n]*$/g,""),a=a.replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,""),a=a.replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,""),a}b=b.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function(b,e,g){return e||(e=' type="text/javascript"'),e=e.replace(/src=\"([^\"]+)\"?/i,function(a,b){return d.url_converter&&(b=c.encode(d.url_converter.call(d.url_converter_scope||c,c.decode(b),"src","script"))),'_mce_src="'+b+'"'}),a.trim(g)&&(f.push(i(g)),g="<!--\nMCE_SCRIPT:"+(f.length-1)+"\n// -->"),"<mce:script"+e+">"+g+"</mce:script>"}),b=b.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function(a,b,c){return c&&(f.push(i(c)),c="<!--\nMCE_SCRIPT:"+(f.length-1)+"\n-->"),"<mce:style"+b+">"+c+"</mce:style><style "+b+' _mce_bogus="1">'+c+"</style>"}),b=b.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(a,b,d){return"<mce:noscript"+b+"><!--"+c.encode(d).replace(/--/g,"&#45;&#45;")+"--></mce:noscript>"})}b=b.replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<!--[CDATA[$1]]-->");function j(a){return a.replace(l,function(a,b,e,f){return"<"+b+e.replace(m,function(a,f,i,j,k){var l;f=f.toLowerCase(),i=i||j||k||"";if(g[f]){if(i==="false"||i==="0")return;return f+'="'+f+'"'}return h[f]&&e.indexOf("_mce_"+f)==-1?(l=c.decode(i),d.url_converter&&(f=="src"||f=="href")&&(l=d.url_converter.call(d.url_converter_scope||c,l,f,b)),f=="style"&&(l=c.serializeStyle(c.parseStyle(l),f)),f+'="'+i+'"'+" _mce_"+f+'="'+c.encode(l)+'"'):a})+f+">"})}b=j(b),b=b.replace(/MCE_SCRIPT:([0-9]+)/g,function(a,b){return f[b]})}return b},getOuterHTML:function(a){var b;return a=this.get(a),a?a.outerHTML!==undefined?a.outerHTML:(b=(a.ownerDocument||this.doc).createElement("body"),b.appendChild(a.cloneNode(!0)),b.innerHTML):null},setOuterHTML:function(a,b,c){function f(a,b,c){var e,f;f=c.createElement("body"),f.innerHTML=b,e=f.lastChild;while(e)d.insertAfter(e.cloneNode(!0),a),e=e.previousSibling;d.remove(a)}var d=this;return this.run(a,function(a){a=d.get(a);if(a.nodeType==1){c=c||a.ownerDocument||d.doc;if(e)try{e&&a.nodeType==1?a.outerHTML=b:f(a,b,c)}catch(g){f(a,b,c)}else f(a,b,c)}})},decode:function(a){var b,c,d;if(/&[\w#]+;/.test(a)){b=this.doc.createElement("div"),b.innerHTML=a,c=b.firstChild,d="";if(c)do d+=c.nodeValue;while(c=c.nextSibling);return d||a}return a},encode:function(a){return(""+a).replace(j,function(a){return i[a]})},insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},isBlock:function(a){return a.nodeType&&a.nodeType!==1?!1:(a=a.nodeName||a,f.test(a))},replace:function(d,e,f){var g=this;return c(e,"array")&&(d=d.cloneNode(!0)),g.run(e,function(c){return f&&b(a.grep(c.childNodes),function(a){d.appendChild(a)}),c.parentNode.replaceChild(d,c)})},rename:function(a,c){var d=this,e;return a.nodeName!=c.toUpperCase()&&(e=d.create(c),b(d.getAttribs(a),function(b){d.setAttrib(e,b.nodeName,d.getAttrib(a,b.nodeName))}),d.replace(e,a,1)),e||a},findCommonAncestor:function(a,b){var c=a,d;while(c){d=b;while(d&&c!=d)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){function c(a){return a=parseInt(a).toString(16),a.length>1?a:"0"+a}var b=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(a);return b?(a="#"+c(b[1])+c(b[2])+c(b[3]),a):a},getClasses:function(){function h(a){b(a.imports,function(a){h(a)}),b(a.cssRules||a.rules,function(a){switch(a.type||1){case 1:a.selectorText&&b(a.selectorText.split(","),function(a){a=a.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(a)||!/\.[\w\-]+$/.test(a))return;g=a,a=a.replace(/.*\.([a-z0-9_\-]+).*/i,"$1");if(f&&!(a=f(a,g)))return;e[a]||(c.push({"class":a}),e[a]=1)});break;case 3:h(a.styleSheet)}})}var a=this,c=[],d,e={},f=a.settings.class_filter,g;if(a.classes)return a.classes;try{b(a.doc.styleSheets,h)}catch(i){}return c.length>0&&(a.classes=c),c},run:function(a,c,d){var e=this,f;return e.doc&&typeof a=="string"&&(a=e.get(a)),a?(d=d||this,!a.nodeType&&(a.length||a.length===0)?(f=[],b(a,function(a,b){a&&(typeof a=="string"&&(a=e.doc.getElementById(a)),f.push(c.call(d,a,b)))}),f):c.call(d,a)):!1},getAttribs:function(a){var b;return a=this.get(a),a?e?(b=[],a.nodeName=="OBJECT"?a.attributes:(a.nodeName==="OPTION"&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"}),a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})}),b)):a.attributes:[]},destroy:function(b){var c=this;c.events&&c.events.destroy(),c.win=c.doc=c.root=c.events=null,b||a.removeUnload(c.destroy)},createRng:function(){var b=this.doc;return b.createRange?b.createRange():new a.dom.Range(this)},nodeIndex:function(a,b){var c=0,d,e,f;if(a)for(d=a.nodeType,a=a.previousSibling,e=a;a;a=a.previousSibling){f=a.nodeType;if(b&&f==3)if(f==d||!a.nodeValue.length)continue;c++,d=f}return c},split:function(a,b,c){function i(a){var b,c=a.childNodes;if(a.nodeType==1&&a.getAttribute("_mce_type")=="bookmark")return;for(b=c.length-1;b>=0;b--)i(c[b]);if(a.nodeType!=9){if(a.nodeType==3&&a.nodeValue.length>0)return;if(a.nodeType==1){c=a.childNodes,c.length==1&&c[0]&&c[0].nodeType==1&&c[0].getAttribute("_mce_type")=="bookmark"&&a.parentNode.insertBefore(c[0],a);if(c.length||/^(br|hr|input|img)$/i.test(a.nodeName))return}d.remove(a)}return a}var d=this,e=d.createRng(),f,g,h;if(a&&b)return e.setStart(a.parentNode,d.nodeIndex(a)),e.setEnd(b.parentNode,d.nodeIndex(b)),f=e.extractContents(),e=d.createRng(),e.setStart(b.parentNode,d.nodeIndex(b)+1),e.setEnd(a.parentNode,d.nodeIndex(a)+1),g=e.extractContents(),h=a.parentNode,h.insertBefore(i(f),a),c?h.replaceChild(c,b):h.insertBefore(b,a),h.insertBefore(i(g),a),d.remove(a),c||b},bind:function(b,c,d,e){var f=this;return f.events||(f.events=new a.dom.EventUtils),f.events.add(b,c,d,e||this)},unbind:function(b,c,d){var e=this;return e.events||(e.events=new a.dom.EventUtils),e.events.remove(b,c,d)},_findSib:function(a,b,d){var e=this,f=b;if(a){c(f,"string")&&(f=function(a){return e.is(a,b)});for(a=a[d];a;a=a[d])if(f(a))return a}return null},_isRes:function(a){return/^(top|left|bottom|right|width|height)/i.test(a)||/;\s*(top|left|bottom|right|width|height)/i.test(a)}}),a.DOM=new a.dom.DOMUtils(document,{process_html:0})}(tinymce),function(a){function b(a){function p(a,b){I(h,a,b)}function q(a,b){I(i,a,b)}function r(a){p(a.parentNode,o(a))}function s(a){p(a.parentNode,o(a)+1)}function t(a){q(a.parentNode,o(a))}function u(a){q(a.parentNode,o(a)+1)}function v(a){a?(c[l]=c[k],c[m]=c[j]):(c[k]=c[l],c[j]=c[m]),c.collapsed=h}function w(a){r(a),u(a)}function x(a){p(a,0),q(a,a.nodeType===1?a.childNodes.length:a.nodeValue.length)}function y(a,b){var d=c[k],e=c[j],f=c[l],g=c[m];if(a===0)return H(d,e,d,e);if(a===1)return H(d,e,f,g);if(a===2)return H(f,g,f,g);if(a===3)return H(f,g,d,e)}function z(){J(g)}function A(){return J(e)}function B(){return J(f)}function C(b){var c=this[k],d=this[j],e,f;c.nodeType!==3&&c.nodeType!==4||!c.nodeValue?(c.childNodes.length>0&&(f=c.childNodes[d]),f?c.insertBefore(b,f):c.appendChild(b)):d?d>=c.nodeValue.length?a.insertAfter(b,c):(e=c.splitText(d),c.parentNode.insertBefore(b,e)):c.parentNode.insertBefore(b,c)}function D(a){var b=c.extractContents();c.insertNode(a),a.appendChild(b),c.selectNode(a)}function E(){return n(new b(a),{startContainer:c[k],startOffset:c[j],endContainer:c[l],endOffset:c[m],collapsed:c.collapsed,commonAncestorContainer:c.commonAncestorContainer})}function F(a,b){var c;if(a.nodeType==3)return a;if(b<0)return a;c=a.firstChild;while(c&&b>0)--b,c=c.nextSibling;return c?c:a}function G(){return c[k]==c[l]&&c[j]==c[m]}function H(b,c,d,e){var f,g,h,i,j,k;if(b==d)return c==e?0:c<e?-1:1;f=d;while(f&&f.parentNode!=b)f=f.parentNode;if(f){g=0,h=b.firstChild;while(h!=f&&g<c)g++,h=h.nextSibling;return c<=g?-1:1}f=b;while(f&&f.parentNode!=d)f=f.parentNode;if(f){g=0,h=d.firstChild;while(h!=f&&g<e)g++,h=h.nextSibling;return g<e?-1:1}i=a.findCommonAncestor(b,d),j=b;while(j&&j.parentNode!=i)j=j.parentNode;j||(j=i),k=d;while(k&&k.parentNode!=i)k=k.parentNode;k||(k=i);if(j==k)return 0;h=i.firstChild;while(h){if(h==j)return-1;if(h==k)return 1;h=h.nextSibling}}function I(b,d,e){var f,g;b?(c[k]=d,c[j]=e):(c[l]=d,c[m]=e),f=c[l];while(f.parentNode)f=f.parentNode;g=c[k];while(g.parentNode)g=g.parentNode;g==f?H(c[k],c[j],c[l],c[m])>0&&c.collapse(b):c.collapse(b),c.collapsed=G(),c.commonAncestorContainer=a.findCommonAncestor(c[k],c[l])}function J(a){var b,d=0,e=0,f,g,h,i,j,m;if(c[k]==c[l])return K(a);for(b=c[l],f=b.parentNode;f;b=f,f=f.parentNode){if(f==c[k])return L(b,a);++d}for(b=c[k],f=b.parentNode;f;b=f,f=f.parentNode){if(f==c[l])return M(b,a);++e}g=e-d,h=c[k];while(g>0)h=h.parentNode,g--;i=c[l];while(g<0)i=i.parentNode,g++;for(j=h.parentNode,m=i.parentNode;j!=m;j=j.parentNode,m=m.parentNode)h=j,i=m;return N(h,i,a)}function K(a){var b,e,i,l,n,o,p;a!=g&&(b=d.createDocumentFragment());if(c[j]==c[m])return b;if(c[k].nodeType==3){e=c[k].nodeValue,i=e.substring(c[j],c[m]),a!=f&&(c[k].deleteData(c[j],c[m]-c[j]),c.collapse(h));if(a==g)return;return b.appendChild(d.createTextNode(i)),b}l=F(c[k],c[j]),n=c[m]-c[j];while(n>0)o=l.nextSibling,p=R(l,a),b&&b.appendChild(p),--n,l=o;return a!=f&&c.collapse(h),b}function L(a,b){var e,h,k,l,m,n;b!=g&&(e=d.createDocumentFragment()),h=O(a,b),e&&e.appendChild(h),k=o(a),l=k-c[j];if(l<=0)return b!=f&&(c.setEndBefore(a),c.collapse(i)),e;h=a.previousSibling;while(l>0)m=h.previousSibling,n=R(h,b),e&&e.insertBefore(n,e.firstChild),--l,h=m;return b!=f&&(c.setEndBefore(a),c.collapse(i)),e}function M(a,b){var e,i,j,k,l,n;b!=g&&(e=d.createDocumentFragment()),j=P(a,b),e&&e.appendChild(j),i=o(a),++i,k=c[m]-i,j=a.nextSibling;while(k>0)l=j.nextSibling,n=R(j,b),e&&e.appendChild(n),--k,j=l;return b!=f&&(c.setStartAfter(a),c.collapse(h)),e}function N(a,b,e){var i,j,k,l,m,n,p,q;e!=g&&(j=d.createDocumentFragment()),i=P(a,e),j&&j.appendChild(i),k=a.parentNode,l=o(a),m=o(b),++l,n=m-l,p=a.nextSibling;while(n>0)q=p.nextSibling,i=R(p,e),j&&j.appendChild(i),p=q,--n;return i=O(b,e),j&&j.appendChild(i),e!=f&&(c.setStartAfter(a),c.collapse(h)),j}function O(a,b){var d=F(c[l],c[m]-1),e,f,j,k,n,o=d!=c[l];if(d==a)return Q(d,o,i,b);e=d.parentNode,f=Q(e,i,i,b);while(e){while(d)j=d.previousSibling,k=Q(d,o,i,b),b!=g&&f.insertBefore(k,f.firstChild),o=h,d=j;if(e==a)return f;d=e.previousSibling,e=e.parentNode,n=Q(e,i,i,b),b!=g&&n.appendChild(f),f=n}}function P(a,b){var d=F(c[k],c[j]),e=d!=c[k],f,l,m,n,o;if(d==a)return Q(d,e,h,b);f=d.parentNode,l=Q(f,i,h,b);while(f){while(d)m=d.nextSibling,n=Q(d,e,h,b),b!=g&&l.appendChild(n),e=h,d=m;if(f==a)return l;d=f.nextSibling,f=f.parentNode,o=Q(f,i,h,b),b!=g&&o.appendChild(l),l=o}}function Q(a,b,d,e){var h,k,l,n,o;if(b)return R(a,e);if(a.nodeType==3){h=a.nodeValue,d?(n=c[j],k=h.substring(n),l=h.substring(0,n)):(n=c[m],k=h.substring(0,n),l=h.substring(n)),e!=f&&(a.nodeValue=l);if(e==g)return;return o=a.cloneNode(i),o.nodeValue=k,o}if(e==g)return;return a.cloneNode(i)}function R(a,b){if(b!=g)return b==f?a.cloneNode(h):a;a.parentNode.removeChild(a)}var c=this,d=a.doc,e=0,f=1,g=2,h=!0,i=!1,j="startOffset",k="startContainer",l="endContainer",m="endOffset",n=tinymce.extend,o=a.nodeIndex;n(c,{startContainer:d,startOffset:0,endContainer:d,endOffset:0,collapsed:h,commonAncestorContainer:d,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:p,setEnd:q,setStartBefore:r,setStartAfter
:s,setEndBefore:t,setEndAfter:u,collapse:v,selectNode:w,selectNodeContents:x,compareBoundaryPoints:y,deleteContents:z,extractContents:A,cloneContents:B,insertNode:C,surroundContents:D,cloneRange:E})}a.Range=b}(tinymce.dom),function(){function a(a){function i(){function g(a){var d,e,g,h,i=0,j,k,l,m,n;m=b.duplicate(),m.collapse(a),d=f.create("a"),l=m.parentElement();if(!l.hasChildNodes()){c[a?"setStart":"setEnd"](l,0);return}l.appendChild(d),m.moveToElementText(d),n=b.compareEndPoints(a?"StartToStart":"EndToEnd",m);if(n>0){c[a?"setStartAfter":"setEndAfter"](l),f.remove(d);return}h=tinymce.grep(l.childNodes),j=h.length-1;while(i<=j){k=Math.floor((i+j)/2),l.insertBefore(d,h[k]),m.moveToElementText(d),n=b.compareEndPoints(a?"StartToStart":"EndToEnd",m);if(n>0)i=k+1;else{if(!(n<0)){found=!0;break}j=k-1}}e=n>0||k==0?d.nextSibling:d.previousSibling,e.nodeType==1?(f.remove(d),g=f.nodeIndex(e),e=e.parentNode,(!a||k>0)&&g++):(n>0||k==0?(m.setEndPoint(a?"StartToStart":"EndToEnd",b),g=m.text.length):(m.setEndPoint(a?"StartToStart":"EndToEnd",b),g=e.nodeValue.length-m.text.length),f.remove(d)),c[a?"setStart":"setEnd"](e,g)}var b=a.getRng(),c=f.createRng(),d,e;return d=b.item?b.item(0):b.parentElement(),d.ownerDocument!=f.doc?c:b.item||!d.hasChildNodes()?(c.setStart(d.parentNode,f.nodeIndex(d)),c.setEnd(c.startContainer,c.startOffset+1),c):(e=a.isCollapsed(),g(!0),e||g(),c)}var b=this,c="ï»¿",d,e,f=a.dom,g=!0,h=!1;this.addRange=function(b){function n(a){var b,e,n,o,p;n=f.create("a"),b=a?h:j,e=a?i:k,o=d.duplicate(),b==l&&(b=m,e=0),b.nodeType==3?(b.parentNode.insertBefore(n,b),o.moveToElementText(n),o.moveStart("character",e),f.remove(n),d.setEndPoint(a?"StartToStart":"EndToEnd",o)):(p=b.childNodes,p.length?(e>=p.length?f.insertAfter(n,p[p.length-1]):b.insertBefore(n,p[e]),o.moveToElementText(n)):(n=l.createTextNode(c),b.appendChild(n),o.moveToElementText(n.parentNode),o.collapse(g)),d.setEndPoint(a?"StartToStart":"EndToEnd",o),f.remove(n))}var d,e,h,i,j,k,l=a.dom.doc,m=l.body;this.destroy(),h=b.startContainer,i=b.startOffset,j=b.endContainer,k=b.endOffset,d=m.createTextRange();if(h==j&&h.nodeType==1&&i==k-1&&i==k-1)try{e=m.createControlRange(),e.addElement(h.childNodes[i]),e.select(),e.scrollIntoView();return}catch(o){}n(!0),n(),d.select(),d.scrollIntoView()},this.getRangeAt=function(){if(!d||!tinymce.dom.RangeUtils.compareRanges(e,a.getRng()))d=i(),e=a.getRng();try{d.startContainer.nextSibling}catch(b){d=i(),e=null}return d},this.destroy=function(){e=d=null},a.dom.boxModel&&function(){function e(a,c){var d=b.createTextRange();try{d.moveToPoint(a,c)}catch(e){d=null}return d}function h(a){var b;a.button?(b=e(a.x,a.y),b&&(b.compareEndPoints("StartToStart",d)>0?b.setEndPoint("StartToStart",d):b.setEndPoint("EndToEnd",d),b.select())):i()}function i(){f.unbind(a,"mouseup",i),f.unbind(a,"mousemove",h),c=0}var a=f.doc,b=a.body,c,d;a.documentElement.unselectable=g,f.bind(a,"mousedown",function(b){b.target.nodeName==="HTML"&&(c&&i(),c=1,d=e(b.x,b.y),d&&(f.bind(a,"mouseup",i),f.bind(a,"mousemove",h),d.select()))})}()}tinymce.dom.TridentSelection=a}(),function(a){var b=a.each,c=a.DOM,d=a.isIE,e=a.isWebKit,f;a.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[],this.events=[]},add:function(e,f,g,h){var i,j=this,k=j.events,l;if(f instanceof Array)return l=[],b(f,function(a){l.push(j.add(e,a,g,h))}),l;if(e&&e.hasOwnProperty&&e instanceof Array)return l=[],b(e,function(a){a=c.get(a),l.push(j.add(a,f,g,h))}),l;e=c.get(e);if(!e)return;return i=function(b){if(j.disabled)return;return b=b||window.event,b&&d&&(b.target||(b.target=b.srcElement),a.extend(b,j._stoppers)),h?g.call(h,b):g(b)},f=="unload"?(a.unloads.unshift({func:i}),i):f=="init"?(j.domLoaded?i():j.inits.push(i),i):(k.push({obj:e,name:f,func:g,cfunc:i,scope:h}),j._add(e,f,i),g)},remove:function(a,d,e){var f=this,g=f.events,h=!1,i;return a&&a.hasOwnProperty&&a instanceof Array?(i=[],b(a,function(a){a=c.get(a),i.push(f.remove(a,d,e))}),i):(a=c.get(a),b(g,function(b,c){if(b.obj==a&&b.name==d&&(!e||b.func==e||b.cfunc==e))return g.splice(c,1),f._remove(a,d,b.cfunc),h=!0,!1}),h)},clear:function(a){var b=this,d=b.events,e,f;if(a){a=c.get(a);for(e=d.length-1;e>=0;e--)f=d[e],f.obj===a&&(b._remove(f.obj,f.name,f.cfunc),f.obj=f.cfunc=null,d.splice(e,1))}},cancel:function(a){return a?(this.stop(a),this.prevent(a)):!1},stop:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1},prevent:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,!1},destroy:function(){var a=this;b(a.events,function(b,c){a._remove(b.obj,b.name,b.cfunc),b.obj=b.cfunc=null}),a.events=[],a=null},_add:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!1):a["on"+b]=c},_remove:function(a,b,c){if(a)try{a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener?a.removeEventListener(b,c,!1):a["on"+b]=null}catch(d){}},_pageInit:function(a){var c=this;if(c.domLoaded)return;c.domLoaded=!0,b(c.inits,function(a){a()}),c.inits=[]},_wait:function(a){var b=this,c=a.document;if(a.tinyMCE_GZ&&tinyMCE_GZ.loaded){b.domLoaded=1;return}c.attachEvent?(c.attachEvent("onreadystatechange",function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",arguments.callee),b._pageInit(a))}),c.documentElement.doScroll&&a==a.top&&function(){if(b.domLoaded)return;try{c.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}b._pageInit(a)}()):c.addEventListener&&b._add(a,"DOMContentLoaded",function(){b._pageInit(a)}),b._add(a,"load",function(){b._pageInit(a)})},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=!0}}}),f=a.dom.Event=new a.dom.EventUtils,f._wait(window),a.addUnload(function(){f.destroy()})}(tinymce),function(a){a.dom.Element=function(b,c){var d=this,e,f;d.settings=c=c||{},d.id=b,d.dom=e=c.dom||a.DOM,a.isIE||(f=e.get(d.id)),a.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(a){d[a]=function(){var c=[b],f;for(f=0;f<arguments.length;f++)c.push(arguments[f]);return c=e[a].apply(e,c),d.update(a),c}}),a.extend(d,{on:function(b,c,e){return a.dom.Event.add(d.id,b,c,e)},getXY:function(){return{x:parseInt(d.getStyle("left")),y:parseInt(d.getStyle("top"))}},getSize:function(){var a=e.get(d.id);return{w:parseInt(d.getStyle("width")||a.clientWidth),h:parseInt(d.getStyle("height")||a.clientHeight)}},moveTo:function(a,b){d.setStyles({left:a,top:b})},moveBy:function(a,b){var c=d.getXY();d.moveTo(c.x+a,c.y+b)},resizeTo:function(a,b){d.setStyles({width:a,height:b})},resizeBy:function(a,b){var c=d.getSize();d.resizeTo(c.w+a,c.h+b)},update:function(b){var f;if(a.isIE6&&c.blocker){b=b||"";if(b.indexOf("get")===0||b.indexOf("has")===0||b.indexOf("is")===0)return;if(b=="remove"){e.remove(d.blocker);return}d.blocker?f=e.get(d.blocker):(d.blocker=e.uniqueId(),f=e.add(c.container||e.getRoot(),"iframe",{id:d.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),e.setStyle(f,"opacity",0)),e.setStyles(f,{left:d.getStyle("left",1),top:d.getStyle("top",1),width:d.getStyle("width",1),height:d.getStyle("height",1),display:d.getStyle("display",1),zIndex:parseInt(d.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(a){function b(a){return a.replace(/[\n\r]+/g,"")}var c=a.is,d=a.isIE,e=a.each;a.create("tinymce.dom.Selection",{Selection:function(b,c,d){var f=this;f.dom=b,f.win=c,f.serializer=d,e(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(b){f[b]=new a.util.Dispatcher(f)}),f.win.getSelection||(f.tridentSel=new a.dom.TridentSelection(f)),a.addUnload(f.destroy,f)},getContent:function(a){var b=this,d=b.getRng(),e=b.dom.create("body"),f=b.getSel(),g,h,i;return a=a||{},g=h="",a.get=!0,a.format=a.format||"html",b.onBeforeGetContent.dispatch(b,a),a.format=="text"?b.isCollapsed()?"":d.text||(f.toString?f.toString():""):(d.cloneContents?(i=d.cloneContents(),i&&e.appendChild(i)):c(d.item)||c(d.htmlText)?e.innerHTML=d.item?d.item(0).outerHTML:d.htmlText:e.innerHTML=d.toString(),/^\s/.test(e.innerHTML)&&(g=" "),/\s+$/.test(e.innerHTML)&&(h=" "),a.getInner=!0,a.content=b.isCollapsed()?"":g+b.serializer.serialize(e,a)+h,b.onGetContent.dispatch(b,a),a.content)},setContent:function(a,b){var c=this,d=c.getRng(),e,f=c.win.document;b=b||{format:"html"},b.set=!0,a=b.content=c.dom.processHTML(a),c.onBeforeSetContent.dispatch(c,b),a=b.content,d.insertNode?(a+='<span id="__caret">_</span>',d.startContainer==f&&d.endContainer==f?f.body.innerHTML=a:(d.deleteContents(),f.body.childNodes.length==0?f.body.innerHTML=a:d.insertNode(d.createContextualFragment(a))),e=c.dom.get("__caret"),d=f.createRange(),d.setStartBefore(e),d.setEndBefore(e),c.setRng(d),c.dom.remove("__caret")):(d.item&&(f.execCommand("Delete",!1,null),d=c.getRng()),d.pasteHTML(a)),c.onSetContent.dispatch(c,b)},getStart:function(){var a=this.getRng(),b,c,d,e;if(a.duplicate||a.item){if(a.item)return a.item(0);d=a.duplicate(),d.collapse(1),b=d.parentElement(),c=e=a.parentElement();while(e=e.parentNode)if(e==b){b=c;break}return b&&b.nodeName=="BODY"?b.firstChild||b:b}return b=a.startContainer,b.nodeType==1&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]),b&&b.nodeType==3?b.parentNode:b},getEnd:function(){var a=this,b=a.getRng(),c,d;return b.duplicate||b.item?b.item?b.item(0):(b=b.duplicate(),b.collapse(0),c=b.parentElement(),c&&c.nodeName=="BODY"?c.lastChild||c:c):(c=b.endContainer,d=b.endOffset,c.nodeType==1&&c.hasChildNodes()&&(c=c.childNodes[d>0?d-1:d]),c&&c.nodeType==3?c.parentNode:c)},getBookmark:function(a,b){function o(a,b){var c=0;return e(d.select(a),function(a,d){a==b&&(c=d)}),c}var c=this,d=c.dom,f,g,h,i,j,k,l,m="ï»¿",n;if(a==2){function p(){function g(a,d){var f=a[d?"startContainer":"endContainer"],g=a[d?"startOffset":"endOffset"],h=[],i,j,k=0;if(f.nodeType==3){if(b)for(i=f.previousSibling;i&&i.nodeType==3;i=i.previousSibling)g+=i.nodeValue.length;h.push(g)}else j=f.childNodes,g>=j.length&&j.length&&(k=1,g=Math.max(0,j.length-1)),h.push(c.dom.nodeIndex(j[g],b)+k);for(;f&&f!=e;f=f.parentNode)h.push(c.dom.nodeIndex(f,b));return h}var a=c.getRng(!0),e=d.getRoot(),f={};return f.start=g(a,!0),c.isCollapsed()||(f.end=g(a)),f}return p()}if(a)return{rng:c.getRng()};f=c.getRng(),h=d.uniqueId(),i=tinyMCE.activeEditor.selection.isCollapsed(),n="overflow:hidden;line-height:0px";if(f.duplicate||f.item){if(!!f.item)return k=f.item(0),j=k.nodeName,{name:j,index:o(j,k)};g=f.duplicate(),f.collapse(),f.pasteHTML('<span _mce_type="bookmark" id="'+h+'_start" style="'+n+'">'+m+"</span>"),i||(g.collapse(!1),g.pasteHTML('<span _mce_type="bookmark" id="'+h+'_end" style="'+n+'">'+m+"</span>"))}else{k=c.getNode(),j=k.nodeName;if(j=="IMG")return{name:j,index:o(j,k)};g=f.cloneRange(),i||(g.collapse(!1),g.insertNode(d.create("span",{_mce_type:"bookmark",id:h+"_end",style:n},m))),f.collapse(!0),f.insertNode(d.create("span",{_mce_type:"bookmark",id:h+"_start",style:n},m))}return c.moveToBookmark({id:h,keep:1}),{id:h}},moveToBookmark:function(b){var c=this,f=c.dom,g,h,i,j,k,l,m,n;c.tridentSel&&c.tridentSel.destroy();if(b)if(b.start){i=f.createRng(),j=f.getRoot();function o(a){var c=b[a?"start":"end"],d,e,f,g;if(c){for(e=j,d=c.length-1;d>=1;d--)g=e.childNodes,g.length&&(e=g[c[d]]);a?i.setStart(e,c[0]):i.setEnd(e,c[0])}}o(!0),o(),c.setRng(i)}else if(b.id){function p(c){var d=f.get(b.id+"_"+c),g,h,i,j,o=b.keep;if(d){g=d.parentNode,c=="start"?(o?(g=d.firstChild,h=1):h=f.nodeIndex(d),k=l=g,m=n=h):(o?(g=d.firstChild,h=1):h=f.nodeIndex(d),l=g,n=h);if(!o){j=d.previousSibling,i=d.nextSibling,e(a.grep(d.childNodes),function(a){a.nodeType==3&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});while(d=f.get(b.id+"_"+c))f.remove(d,1);j&&i&&j.nodeType==i.nodeType&&j.nodeType==3&&(h=j.nodeValue.length,j.appendData(i.nodeValue),f.remove(i),c=="start"?(k=l=j,m=n=h):(l=j,n=h))}}}function q(a){return!d&&f.isBlock(a)&&!a.innerHTML&&(a.innerHTML='<br _mce_bogus="1" />'),a}p("start"),p("end"),i=f.createRng(),i.setStart(q(k),m),i.setEnd(q(l),n),c.setRng(i)}else b.name?c.select(f.select(b.name)[b.index]):b.rng&&c.setRng(b.rng)},select:function(b,c){var d=this,e=d.dom,f=e.createRng(),g;g=e.nodeIndex(b),f.setStart(b.parentNode,g),f.setEnd(b.parentNode,g+1);if(c){function h(b,c){var d=new a.dom.TreeWalker(b,b);do{if(b.nodeType==3&&a.trim(b.nodeValue).length!=0){c?f.setStart(b,0):f.setEnd(b,b.nodeValue.length);return}if(b.nodeName=="BR"){c?f.setStartBefore(b):f.setEndBefore(b);return}}while(b=c?d.next():d.prev())}h(b,1),h(b)}return d.setRng(f),b},isCollapsed:function(){var a=this,b=a.getRng(),c=a.getSel();return!b||b.item?!1:b.compareEndPoints?b.compareEndPoints("StartToEnd",b)===0:!c||b.collapsed},collapse:function(a){var b=this,c=b.getRng(),d;c.item&&(d=c.item(0),c=this.win.document.body.createTextRange(),c.moveToElementText(d)),c.collapse(!!a),b.setRng(c)},getSel:function(){var a=this,b=this.win;return b.getSelection?b.getSelection():b.document.selection},getRng:function(a){var b=this,c,d;if(a&&b.tridentSel)return b.tridentSel.getRangeAt(0);try{if(c=b.getSel())d=c.rangeCount>0?c.getRangeAt(0):c.createRange?c.createRange():b.win.document.createRange()}catch(e){}return d||(d=b.win.document.createRange?b.win.document.createRange():b.win.document.body.createTextRange()),b.selectedRange&&b.explicitRange&&(d.compareBoundaryPoints(d.START_TO_START,b.selectedRange)===0&&d.compareBoundaryPoints(d.END_TO_END,b.selectedRange)===0?d=b.explicitRange:(b.selectedRange=null,b.explicitRange=null)),d},setRng:function(a){var b,c=this;if(!c.tridentSel)b=c.getSel(),b&&(c.explicitRange=a,b.removeAllRanges(),b.addRange(a),c.selectedRange=b.getRangeAt(0));else{if(a.cloneRange){c.tridentSel.addRange(a);return}try{a.select()}catch(d){}}},setNode:function(a){var b=this;return b.setContent(b.dom.getOuterHTML(a)),a},getNode:function(){var b=this,c=b.getRng(),d=b.getSel(),e;if(c.setStart){if(!c)return b.dom.getRoot();e=c.commonAncestorContainer;if(!c.collapsed){c.startContainer==c.endContainer&&c.startOffset-c.endOffset<2&&c.startContainer.hasChildNodes()&&(e=c.startContainer.childNodes[c.startOffset]);if(a.isWebKit&&d.anchorNode&&d.anchorNode.nodeType==1)return d.anchorNode.childNodes[d.anchorOffset]}return e&&e.nodeType==3?e.parentNode:e}return c.item?c.item(0):c.parentElement()},getSelectedBlocks:function(a,b){var c=this,d=c.dom,e,f,g,h=[];e=d.getParent(a||c.getStart(),d.isBlock),f=d.getParent(b||c.getEnd(),d.isBlock),e&&h.push(e);if(e&&f&&e!=f){g=e;while((g=g.nextSibling)&&g!=f)d.isBlock(g)&&h.push(g)}return f&&e!=f&&h.push(f),h},destroy:function(b){var c=this;c.win=null,c.tridentSel&&c.tridentSel.destroy(),b||a.removeUnload(c.destroy)}})}(tinymce),function(a){a.create("tinymce.dom.XMLWriter",{node:null,XMLWriter:function(b){function c(){var a=document.implementation;if(!!a&&!!a.createDocument)return a.createDocument("","",null);try{return new ActiveXObject("MSXML2.DOMDocument")}catch(b){}try{return new ActiveXObject("Microsoft.XmlDom")}catch(b){}}this.doc=c(),this.valid=a.isOpera||a.isWebKit,this.reset()},reset:function(){var a=this,b=a.doc;b.firstChild&&b.removeChild(b.firstChild),a.node=b.appendChild(b.createElement("html"))},writeStartElement:function(a){var b=this;b.node=b.node.appendChild(b.doc.createElement(a))},writeAttribute:function(a,b){this.valid&&(b=b.replace(/>/g,"%MCGT%")),this.node.setAttribute(a,b)},writeEndElement:function(){this.node=this.node.parentNode},writeFullEndElement:function(){var a=this,b=a.node;b.appendChild(a.doc.createTextNode("")),a.node=b.parentNode},writeText:function(a){this.valid&&(a=a.replace(/>/g,"%MCGT%")),this.node.appendChild(this.doc.createTextNode(a))},writeCDATA:function(a){this.node.appendChild(this.doc.createCDATASection(a))},writeComment:function(b){a.isIE&&(b=b.replace(/^\-|\-$/g," ")),this.node.appendChild(this.doc.createComment(b.replace(/\-\-/g," ")))},getContent:function(){var a;return a=this.doc.xml||(new XMLSerializer).serializeToString(this.doc),a=a.replace(/<\?[^?]+\?>|<html>|<\/html>|<html\/>|<!DOCTYPE[^>]+>/g,""),a=a.replace(/ ?\/>/g," />"),this.valid&&(a=a.replace(/\%MCGT%/g,"&gt;")),a}})}(tinymce),function(a){a.create("tinymce.dom.StringWriter",{str:null,tags:null,count:0,settings:null,indent:null,StringWriter:function(b){this.settings=a.extend({indent_char:" ",indentation:0},b),this.reset()},reset:function(){this.indent="",this.str="",this.tags=[],this.count=0},writeStartElement:function(a){this._writeAttributesEnd(),this.writeRaw("<"+a),this.tags.push(a),this.inAttr=!0,this.count++,this.elementCount=this.count},writeAttribute:function(a,b){var c=this;c.writeRaw(" "+c.encode(a)+'="'+c.encode(b)+'"')},writeEndElement:function(){var a;this.tags.length>0&&(a=this.tags.pop(),this._writeAttributesEnd(1)&&this.writeRaw("</"+a+">"),this.settings.indentation>0&&this.writeRaw("\n"))},writeFullEndElement:function(){this.tags.length>0&&(this._writeAttributesEnd(),this.writeRaw("</"+this.tags.pop()+">"),this.settings.indentation>0&&this.writeRaw("\n"))},writeText:function(a){this._writeAttributesEnd(),this.writeRaw(this.encode(a)),this.count++},writeCDATA:function(a){this._writeAttributesEnd(),this.writeRaw("<![CDATA["+a+"]]>"),this.count++},writeComment:function(a){this._writeAttributesEnd(),this.writeRaw("<!-- "+a+"-->"),this.count++},writeRaw:function(a){this.str+=a},encode:function(a){return a.replace(/[<>&"]/g,function(a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;"}return a})},getContent:function(){return this.str},_writeAttributesEnd:function(a){if(!this.inAttr)return;return this.inAttr=!1,a&&this.elementCount==this.count?(this.writeRaw(" />"),!1):(this.writeRaw(">"),!0)}})}(tinymce),function(a){function g(a){return a.replace(/([?+*])/g,".$1")}var b=a.extend,c=a.each,d=a.util.Dispatcher,e=a.isIE,f=a.isGecko;a.create("tinymce.dom.Serializer",{Serializer:function(e){var f=this;f.key=0,f.onPreProcess=new d(f),f.onPostProcess=new d(f);try{f.writer=new a.dom.XMLWriter}catch(g){f.writer=new a.dom.StringWriter}f.settings=e=b({dom:a.DOM,valid_nodes:0,node_filter:0,attr_filter:0,invalid_attrs:/^(_mce_|_moz_|sizset|sizcache)/,closed:/^(br|hr|input|meta|img|link|param|area)$/,entity_encoding:"named",entities:"160,nbsp,161,iexcl,162,cent,163,pound,164,curren,165,yen,166,brvbar,167,sect,168,uml,169,copy,170,ordf,171,laquo,172,not,173,shy,174,reg,175,macr,176,deg,177,plusmn,178,sup2,179,sup3,180,acute,181,micro,182,para,183,middot,184,cedil,185,sup1,186,ordm,187,raquo,188,frac14,189,frac12,190,frac34,191,iquest,192,Agrave,193,Aacute,194,Acirc,195,Atilde,196,Auml,197,Aring,198,AElig,199,Ccedil,200,Egrave,201,Eacute,202,Ecirc,203,Euml,204,Igrave,205,Iacute,206,Icirc,207,Iuml,208,ETH,209,Ntilde,210,Ograve,211,Oacute,212,Ocirc,213,Otilde,214,Ouml,215,times,216,Oslash,217,Ugrave,218,Uacute,219,Ucirc,220,Uuml,221,Yacute,222,THORN,223,szlig,224,agrave,225,aacute,226,acirc,227,atilde,228,auml,229,aring,230,aelig,231,ccedil,232,egrave,233,eacute,234,ecirc,235,euml,236,igrave,237,iacute,238,icirc,239,iuml,240,eth,241,ntilde,242,ograve,243,oacute,244,ocirc,245,otilde,246,ouml,247,divide,248,oslash,249,ugrave,250,uacute,251,ucirc,252,uuml,253,yacute,254,thorn,255,yuml,402,fnof,913,Alpha,914,Beta,915,Gamma,916,Delta,917,Epsilon,918,Zeta,919,Eta,920,Theta,921,Iota,922,Kappa,923,Lambda,924,Mu,925,Nu,926,Xi,927,Omicron,928,Pi,929,Rho,931,Sigma,932,Tau,933,Upsilon,934,Phi,935,Chi,936,Psi,937,Omega,945,alpha,946,beta,947,gamma,948,delta,949,epsilon,950,zeta,951,eta,952,theta,953,iota,954,kappa,955,lambda,956,mu,957,nu,958,xi,959,omicron,960,pi,961,rho,962,sigmaf,963,sigma,964,tau,965,upsilon,966,phi,967,chi,968,psi,969,omega,977,thetasym,978,upsih,982,piv,8226,bull,8230,hellip,8242,prime,8243,Prime,8254,oline,8260,frasl,8472,weierp,8465,image,8476,real,8482,trade,8501,alefsym,8592,larr,8593,uarr,8594,rarr,8595,darr,8596,harr,8629,crarr,8656,lArr,8657,uArr,8658,rArr,8659,dArr,8660,hArr,8704,forall,8706,part,8707,exist,8709,empty,8711,nabla,8712,isin,8713,notin,8715,ni,8719,prod,8721,sum,8722,minus,8727,lowast,8730,radic,8733,prop,8734,infin,8736,ang,8743,and,8744,or,8745,cap,8746,cup,8747,int,8756,there4,8764,sim,8773,cong,8776,asymp,8800,ne,8801,equiv,8804,le,8805,ge,8834,sub,8835,sup,8836,nsub,8838,sube,8839,supe,8853,oplus,8855,otimes,8869,perp,8901,sdot,8968,lceil,8969,rceil,8970,lfloor,8971,rfloor,9001,lang,9002,rang,9674,loz,9824,spades,9827,clubs,9829,hearts,9830,diams,338,OElig,339,oelig,352,Scaron,353,scaron,376,Yuml,710,circ,732,tilde,8194,ensp,8195,emsp,8201,thinsp,8204,zwnj,8205,zwj,8206,lrm,8207,rlm,8211,ndash,8212,mdash,8216,lsquo,8217,rsquo,8218,sbquo,8220,ldquo,8221,rdquo,8222,bdquo,8224,dagger,8225,Dagger,8240,permil,8249,lsaquo,8250,rsaquo,8364,euro",valid_elements:"*[*]",extended_valid_elements:0,invalid_elements:0,fix_table_elements:1,fix_list_elements:!0,fix_content_duplication:!0,convert_fonts_to_spans:!1,font_size_classes:0,apply_source_formatting:0,indent_mode:"simple",indent_char:"\t",indent_levels:1,remove_linebreaks:1,remove_redundant_brs:1,element_format:"xhtml"},e),f.dom=e.dom,f.schema=e.schema,e.entity_encoding=="named"&&!e.entities&&(e.entity_encoding="raw"),e.remove_redundant_brs&&f.onPostProcess.add(function(a,b){b.content=b.content.replace(/(<br \/>\s*)+<\/(p|h[1-6]|div|li)>/gi,function(a,b,c){return/^<br \/>\s*<\//.test(a)?"</"+c+">":a})}),e.element_format=="html"&&f.onPostProcess.add(function(a,b){b.content=b.content.replace(/<([^>]+) \/>/g,"<$1>")}),e.fix_list_elements&&f.onPreProcess.add(function(a,b){function l(a,b){var c=b.split(","),d;while((a=a.previousSibling)!=null)for(d=0;d<c.length;d++)if(a.nodeName==c[d])return a;return null}var c,d,e=["ol","ul"],g,h,i,j=/^(OL|UL)$/,k;for(d=0;d<e.length;d++){c=f.dom.select(e[d],b.node);for(g=0;g<c.length;g++)h=c[g],i=h.parentNode,j.test(i.nodeName)&&(k=l(h,"LI"),k?k.appendChild(h):(k=f.dom.create("li"),k.innerHTML="&nbsp;",k.appendChild(h),i.insertBefore(k,i.firstChild)))}}),e.fix_table_elements&&f.onPreProcess.add(function(b,d){(!a.isOpera||opera.buildNumber()>=1767)&&c(f.dom.select("p table",d.node).reverse(),function(a){var b=f.dom.getParent(a.parentNode,"table,p");if(b.nodeName!="TABLE")try{f.dom.split(b,a)}catch(c){}})})},setEntities:function(a){var b=this,c,d,e={},f;if(b.entityLookup)return;c=a.split(",");for(d=0;d<c.length;d+=2){f=c[d];if(f==34||f==38||f==60||f==62)continue;e[String.fromCharCode(c[d])]=c[d+1],f=parseInt(c[d]).toString(16)}b.entityLookup=e},setRules:function(a){var b=this;return b._setup(),b.rules={},b.wildRules=[],b.validElements={},b.addRules(a)},addRules:function(b){var d=this,e;if(!b)return;d._setup(),c(b.split(","),function(b){var f=b.split(/\[|\]/),h=f[0].split("/"),i,j,k,l=[];e&&(j=a.extend([],e.attribs)),f.length>1&&c(f[1].split("|"),function(a){var b={},c;j=j||[],a=a.replace(/::/g,"~"),a=/^([!\-])?([\w*.?~_\-]+|)([=:<])?(.+)?$/.exec(a),a[2]=a[2].replace(/~/g,":"),a[1]=="!"&&(i=i||[],i.push(a[2]));if(a[1]=="-")for(c=0;c<j.length;c++)if(j[c].name==a[2]){j.splice(c,1);return}switch(a[3]){case"=":b.defaultVal=a[4]||"";break;case":":b.forcedVal=a[4];break;case"<":b.validVals=a[4].split("?")}/[*.?]/.test(a[2])?(k=k||[],b.nameRE=new RegExp("^"+g(a[2])+"$"),k.push(b)):(b.name=a[2],j.push(b)),l.push(a[2])}),c(h,function(a,b){var f=a.charAt(0),m=1,n={};e&&(e.noEmpty&&(n.noEmpty=e.noEmpty),e.fullEnd&&(n.fullEnd=e.fullEnd),e.padd&&(n.padd=e.padd));switch(f){case"-":n.noEmpty=!0;break;case"+":n.fullEnd=!0;break;case"#":n.padd=!0;break;default:m=0}h[b]=a=a.substring(m),d.validElements[a]=1,/[*.?]/.test(h[0])?(n.nameRE=new RegExp("^"+g(h[0])+"$"),d.wildRules=d.wildRules||{},d.wildRules.push(n)):(n.name=h[0],h[0]=="@"&&(e=n),d.rules[a]=n),n.attribs=j,i&&(n.requiredAttribs=i),k&&(a="",c(l,function(b){a&&(a+="|"),a+="("+g(b)+")"}),n.validAttribsRE=new RegExp("^"+a.toLowerCase()+"$"),n.wildAttribs=k)})}),b="",c(d.validElements,function(a,c){b&&(b+="|"),c!="@"&&(b+=c)}),d.validElementsRE=new RegExp("^("+g(b.toLowerCase())+")$")},findRule:function(a){var b=this,c=b.rules,d,e;b._setup(),e=c[a];if(e)return e;c=b.wildRules;for(d=0;d<c.length;d++)if(c[d].nameRE.test(a))return c[d];return null},findAttribRule:function(a,b){var c,d=a.wildAttribs;for(c=0;c<d.length;c++)if(d[c].nameRE.test(b))return d[c];return null},serialize:function(b,d){var f,g=this,h,i,j,k;return g._setup(),d=d||{},d.format=d.format||"html",g.processObj=d,e&&(k=[],c(b.getElementsByTagName("option"),function(a){var b=g.dom.getAttrib(a,"selected");k.push(b?b:null)})),b=b.cloneNode(!0),e&&c(b.getElementsByTagName("option"),function(a,b){g.dom.setAttrib(a,"selected",k[b])}),j=b.ownerDocument.implementation,j.createHTMLDocument&&a.isOpera&&opera.buildNumber()>=1767&&(h=j.createHTMLDocument(""),c(b.nodeName=="BODY"?b.childNodes:[b],function(a){h.body.appendChild(h.importNode(a,!0))}),b.nodeName!="BODY"?b=h.body.firstChild:b=h.body,i=g.dom.doc,g.dom.doc=h),g.key=""+(parseInt(g.key)+1),d.no_events||(d.node=b,g.onPreProcess.dispatch(g,d)),g.writer.reset(),g._info=d,g._serializeNode(b,d.getInner),d.content=g.writer.getContent(),i&&(g.dom.doc=i),d.no_events||g.onPostProcess.dispatch(g,d),g._postProcess(d),d.node=null,a.trim(d.content)},_postProcess:function(a){var b=this,c=b.settings,d=a.content,e=[],f;a.format=="html"&&(f=b._protect({content:d,patterns:[{pattern:/(<script[^>]*>)(.*?)(<\/script>)/g},{pattern:/(<noscript[^>]*>)(.*?)(<\/noscript>)/g},{pattern:/(<style[^>]*>)(.*?)(<\/style>)/g},{pattern:/(<pre[^>]*>)(.*?)(<\/pre>)/g,encode:1},{pattern:/(<!--\[CDATA\[)(.*?)(\]\]-->)/g}]}),d=f.content,c.entity_encoding!=="raw"&&(d=b._encode(d)),a.set||(d=d.replace(/<p>\s+<\/p>|<p([^>]+)>\s+<\/p>/g,c.entity_encoding=="numeric"?"<p$1>&#160;</p>":"<p$1>&nbsp;</p>"),c.remove_linebreaks&&(d=d.replace(/\r?\n|\r/g," "),d=d.replace(/(<[^>]+>)\s+/g,"$1 "),d=d.replace(/\s+(<\/[^>]+>)/g," $1"),d=d.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object) ([^>]+)>\s+/g,"<$1 $2>"),d=d.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>\s+/g,"<$1>"),d=d.replace(/\s+<\/(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>/g,"</$1>")),c.apply_source_formatting&&c.indent_mode=="simple"&&(d=d.replace(/<(\/?)(ul|hr|table|meta|link|tbody|tr|object|body|head|html|map)(|[^>]+)>\s*/g,"\n<$1$2$3>\n"),d=d.replace(/\s*<(p|h[1-6]|blockquote|div|title|style|pre|script|td|li|area)(|[^>]+)>/g,"\n<$1$2>"),d=d.replace(/<\/(p|h[1-6]|blockquote|div|title|style|pre|script|td|li)>\s*/g,"</$1>\n"),d=d.replace(/\n\n/g,"\n"))),d=b._unprotect(d,f),d=d.replace(/<!--\[CDATA\[([\s\S]+)\]\]-->/g,"<![CDATA[$1]]>"),c.entity_encoding=="raw"&&(d=d.replace(/<p>&nbsp;<\/p>|<p([^>]+)>&nbsp;<\/p>/g,"<p$1>Â </p>")),d=d.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(a,c,d){return"<noscript"+c+">"+b.dom.decode(d.replace(/<!--|-->/g,""))+"</noscript>"})),a.content=d},_serializeNode:function(b,c){var d=this,g=d.settings,h=d.writer,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(!g.node_filter||g.node_filter(b))switch(b.nodeType){case 1:if(b.hasAttribute?b.hasAttribute("_mce_bogus"):b.getAttribute("_mce_bogus"))return;u=w=!1,i=b.hasChildNodes(),r=b.getAttribute("_mce_name")||b.nodeName.toLowerCase(),x=b.getAttribute("_mce_type");if(x){if(!d._info.cleanup){u=!0;return}w=1}e&&(y=b.scopeName,y&&y!=="HTML"&&y!=="html"&&(r=y+":"+r)),r.indexOf("mce:")===0&&(r=r.substring(4));if(!w)if(!d.validElementsRE||!d.validElementsRE.test(r)||d.invalidElementsRE&&d.invalidElementsRE.test(r)||c){u=!0;break}if(e){if(g.fix_content_duplication){if(b._mce_serialized==d.key)return;b._mce_serialized=d.key}r.charAt(0)=="/"&&(r=r.substring(1))}else if(f&&b.nodeName==="BR"&&b.getAttribute("type")=="_moz")return;if(g.validate_children){if(d.elementName&&!d.schema.isValid(d.elementName,r)){u=!0;break}d.elementName=r}s=d.findRule(r);if(!s){u=!0;break}r=s.name||r,v=g.closed.test(r);if(!i&&s.noEmpty||e&&!r){u=!0;break}if(s.requiredAttribs){n=s.requiredAttribs;for(l=n.length-1;l>=0;l--)if(this.dom.getAttrib(b,n[l])!=="")break;if(l==-1){u=!0;break}}h.writeStartElement(r);if(s.attribs)for(l=0,o=s.attribs,m=o.length;l<m;l++)n=o[l],q=d._getAttrib(b,n),q!==null&&h.writeAttribute(n.name,q);if(s.validAttribsRE){o=d.dom.getAttribs(b);for(l=o.length-1;l>-1;l--){p=o[l];if(p.specified){n=p.nodeName.toLowerCase();if(g.invalid_attrs.test(n)||!s.validAttribsRE.test(n))continue;t=d.findAttribRule(s,n),q=d._getAttrib(b,t,n),q!==null&&h.writeAttribute(n,q)}}}x&&w&&h.writeAttribute("_mce_type",x);if(r==="script"&&a.trim(b.innerHTML)){h.writeText("// "),h.writeCDATA(b.innerHTML.replace(/<!--|-->|<\[CDATA\[|\]\]>/g,"")),i=!1;break}s.padd&&(i&&(k=b.firstChild)&&k.nodeType===1&&b.childNodes.length===1?(k.hasAttribute?k.hasAttribute("_mce_bogus"):k.getAttribute("_mce_bogus"))&&h.writeText("Â "):i||h.writeText("Â "));break;case 3:if(g.validate_children&&d.elementName&&!d.schema.isValid(d.elementName,"#text"))return;return h.writeText(b.nodeValue);case 4:return h.writeCDATA(b.nodeValue);case 8:return h.writeComment(b.nodeValue)}else b.nodeType==1&&(i=b.hasChildNodes());if(i&&!v){k=b.firstChild;while(k)d._serializeNode(k),d.elementName=r,k=k.nextSibling}u||(v?h.writeEndElement():h.writeFullEndElement())},_protect:function(a){function d(a){return a.replace(/[\r\n\\]/g,function(a){return a==="\n"?"\\n":a==="\\"?"\\\\":"\\r"})}function e(a){return a.replace(/\\[\\rn]/g,function(a){return a==="\\n"?"\n":a==="\\\\"?"\\":"\r"})}var b=this;return a.items=a.items||[],c(a.patterns,function(c){a.content=e(d(a.content).replace(c.pattern,function(d,f,g,h){return g=e(g),c.encode&&(g=b._encode(g)),a.items.push(g),f+"<!--mce:"+(a.items.length-1)+"-->"+h}))}),a},_unprotect:function(a,b){return a=a.replace(/\<!--mce:([0-9]+)--\>/g,function(a,c){return b.items[parseInt(c)]}),b.items=[],a},_encode:function(a){var b=this,c=b.settings,d;return c.entity_encoding!=="raw"&&(c.entity_encoding.indexOf("named")!=-1&&(b.setEntities(c.entities),d=b.entityLookup,a=a.replace(/[\u007E-\uFFFF]/g,function(a){var b;if(b=d[a])a="&"+b+";";return a})),c.entity_encoding.indexOf("numeric")!=-1&&(a=a.replace(/[\u007E-\uFFFF]/g,function(a){return"&#"+a.charCodeAt(0)+";"}))),a},_setup:function(){var a=this,b=this.settings;if(a.done)return;a.done=1,a.setRules(b.valid_elements),a.addRules(b.extended_valid_elements),b.invalid_elements&&(a.invalidElementsRE=new RegExp("^("+g(b.invalid_elements.replace(/,/g,"|").toLowerCase())+")$")),b.attrib_value_filter&&(a.attribValueFilter=b.attribValueFilter)},_getAttrib:function(a,b,c){var d,e;c=c||b.name;if(b.forcedVal&&(e=b.forcedVal))return e==="{$uid}"?this.dom.uniqueId():e;e=this.dom.getAttrib(a,c);switch(c){case"rowspan":case"colspan":e=="1"&&(e="")}this.attribValueFilter&&(e=this.attribValueFilter(c,e,a));if(b.validVals){for(d=b.validVals.length-1;d>=0;d--)if(e==b.validVals[d])break;if(d==-1)return null}return e===""&&typeof b.defaultVal!="undefined"?(e=b.defaultVal,e==="{$uid}"?this.dom.uniqueId():e):(c=="class"&&this.processObj.get&&(e=e.replace(/\s?mceItem\w+\s?/g,"")),e===""?null:e)}})}(tinymce),function(a){a.dom.ScriptLoader=function(b){function l(b,c){function j(){e.remove(i),f&&(f.onreadystatechange=f.onload=f=null),c()}var d=this,e=a.DOM,f,g,h,i;i=e.uniqueId();if(a.isIE6){g=new a.util.URI(b),h=location;if(g.host==h.hostname&&g.port==h.port&&g.protocol+":"==h.protocol){a.util.XHR.send({url:a._addVer(g.getURI()),success:function(a){var b=e.create("script",{type:"text/javascript"});b.text=a,document.getElementsByTagName("head")[0].appendChild(b),e.remove(b),j()}});return}}f=e.create("script",{id:i,type:"text/javascript",src:a._addVer(b)}),f.onload=j,f.onreadystatechange=function(){var a=f.readyState;(a=="complete"||a=="loaded")&&j()},(document.getElementsByTagName("head")[0]||document.body).appendChild(f)}var c=0,d=1,e=2,f={},g=[],h={},i=[],j=0,k;this.isDone=function(a){return f[a]==e},this.markDone=function(a){f[a]=e},this.add=this.load=function(a,b,d){var e,i=f[a];i==k&&(g.push(a),f[a]=c),b&&(h[a]||(h[a]=[]),h[a].push({func:b,scope:d||this}))},this.loadQueue=function(a,b){this.loadScripts(g,a,b)},this.loadScripts=function(b,c,g){function n(b){a.each(h[b],function(a){a.func.call(a.scope)}),h[b]=k}var m;i.push({func:c,scope:g||this}),m=function(){var c=a.grep(b);b.length=0,a.each(c,function(a){if(f[a]==e){n(a);return}f[a]!=d&&(f[a]=d,j++,l(a,function(){f[a]=e,j--,n(a),m()}))}),j||(a.each(i,function(a){a.func.call(a.scope)}),i.length=0)},m()}},a.ScriptLoader=new a.dom.ScriptLoader}(tinymce),tinymce.dom.TreeWalker=function(a,b){function d(a,c,d,e){var f,g;if(a){if(!e&&a[c])return a[c];if(a!=b){f=a[d];if(f)return f;for(g=a.parentNode;g&&g!=b;g=g.parentNode){f=g[d];if(f)return f}}}}var c=a;this.current=function(){return c},this.next=function(a)
{return c=d(c,"firstChild","nextSibling",a)},this.prev=function(a){return c=d(c,"lastChild","lastSibling",a)}},function(){function b(b,c){function e(a){return a.replace(/[A-Z]+/g,function(a){return e(b[a])})}var d;for(d in b)b.hasOwnProperty(d)&&(b[d]=e(b[d]));e(c).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]/g,function(b,c,d){var e,f={};d=d.split(/\|/);for(e=d.length-1;e>=0;e--)f[d[e]]=1;a[c]=f})}var a={};b({Z:"#|H|K|N|O|P",Y:"#|X|form|R|Q",X:"p|T|div|U|W|isindex|fieldset|table",W:"pre|hr|blockquote|address|center|noframes",U:"ul|ol|dl|menu|dir",ZC:"#|p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"#|X|S|Q",S:"R|P",ZA:"#|a|G|J|M|O|P",R:"#|a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe"},"script[]style[]object[#|param|X|form|a|H|K|N|O|Q]param[]p[S]a[Z]br[]span[S]bdo[S]applet[#|param|X|form|a|H|K|N|O|Q]h1[S]img[]map[X|form|Q|area]h2[S]iframe[#|X|form|a|H|K|N|O|Q]h3[S]tt[S]i[S]b[S]u[S]s[S]strike[S]big[S]small[S]font[S]basefont[]em[S]strong[S]dfn[S]code[S]q[S]samp[S]kbd[S]var[S]cite[S]abbr[S]acronym[S]sub[S]sup[S]input[]select[optgroup|option]optgroup[option]option[]textarea[]label[S]button[#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[S]ins[#|X|form|a|H|K|N|O|Q]h5[S]del[#|X|form|a|H|K|N|O|Q]h6[S]div[#|X|form|a|H|K|N|O|Q]ul[li]li[#|X|form|a|H|K|N|O|Q]ol[li]dl[dt|dd]dt[S]dd[#|X|form|a|H|K|N|O|Q]menu[li]dir[li]pre[ZA]hr[]blockquote[#|X|form|a|H|K|N|O|Q]address[S|p]center[#|X|form|a|H|K|N|O|Q]noframes[#|X|form|a|H|K|N|O|Q]isindex[]fieldset[#|legend|X|form|a|H|K|N|O|Q]legend[S]table[caption|col|colgroup|thead|tfoot|tbody|tr]caption[S]col[]colgroup[col]thead[tr]tr[th|td]th[#|X|form|a|H|K|N|O|Q]form[#|X|a|H|K|N|O|Q]noscript[#|X|form|a|H|K|N|O|Q]td[#|X|form|a|H|K|N|O|Q]tfoot[tr]tbody[tr]area[]base[]body[#|X|form|a|H|K|N|O|Q]"),tinymce.dom.Schema=function(){var b=this,c=a;b.isValid=function(a,b){var d=c[a];return!(!d||!!b&&!d[b])}}}(),function(a){a.dom.RangeUtils=function(b){var c="ï»¿";this.walk=function(c,d){function p(a,b,c){var d=[];for(;a&&a!=c;a=a[b])d.push(a);return d}function q(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function r(a,b,c){var e=c?"nextSibling":"previousSibling";for(l=a,m=l.parentNode;l&&l!=b;l=m)m=l.parentNode,n=p(l==a?l:l[e],e),n.length&&(c||n.reverse(),d(n))}var e=c.startContainer,f=c.startOffset,g=c.endContainer,h=c.endOffset,i,j,k,l,m,n,o;o=b.select("td.mceSelected,th.mceSelected");if(o.length>0){a.each(o,function(a){d([a])});return}e.nodeType==1&&e.hasChildNodes()&&(e=e.childNodes[f]),g.nodeType==1&&g.hasChildNodes()&&(g=g.childNodes[Math.min(f==h?h:h-1,g.childNodes.length-1)]),i=b.findCommonAncestor(e,g);if(e==g)return d([e]);for(l=e;l;l=l.parentNode){if(l==g)return r(e,i,!0);if(l==i)break}for(l=g;l;l=l.parentNode){if(l==e)return r(g,i);if(l==i)break}j=q(e,i)||e,k=q(g,i)||g,r(e,j,!0),n=p(j==e?j:j.nextSibling,"nextSibling",k==g?k.nextSibling:k),n.length&&d(n),r(g,k)}},a.dom.RangeUtils.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;if(a.item&&b.item&&a.item(0)===b.item(0))return!0;if(a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1}}(tinymce),function(a){var b=a.DOM,c=a.is;a.create("tinymce.ui.Control",{Control:function(b,c){this.id=b,this.settings=c=c||{},this.rendered=!1,this.onRender=new a.util.Dispatcher(this),this.classPrefix="",this.scope=c.scope||this,this.disabled=0,this.active=0},setDisabled:function(a){var c;a!=this.disabled&&(c=b.get(this.id),c&&this.settings.unavailable_prefix&&(a?(this.prevTitle=c.title,c.title=this.settings.unavailable_prefix+": "+c.title):c.title=this.prevTitle),this.setState("Disabled",a),this.setState("Enabled",!a),this.disabled=a)},isDisabled:function(){return this.disabled},setActive:function(a){a!=this.active&&(this.setState("Active",a),this.active=a)},isActive:function(){return this.active},setState:function(a,c){var d=b.get(this.id);a=this.classPrefix+a,c?b.addClass(d,a):b.removeClass(d,a)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(a){b.setHTML(a,this.renderHTML())},postRender:function(){var a=this,b;c(a.disabled)&&(b=a.disabled,a.disabled=-1,a.setDisabled(b)),c(a.active)&&(b=a.active,a.active=-1,a.setActive(b))},remove:function(){b.remove(this.id),this.destroy()},destroy:function(){a.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(a,b){this.parent(a,b),this.controls=[],this.lookup={}},add:function(a){return this.lookup[a.id]=a,this.controls.push(a),a},get:function(a){return this.lookup[a]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(a,b){this.parent(a,b),this.classPrefix="mceSeparator"},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix})}}),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.walk;a.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(a,b){this.parent(a,b),this.classPrefix="mceMenuItem"},setSelected:function(a){this.setState("Selected",a),this.selected=a},isSelected:function(){return this.selected},postRender:function(){var a=this;a.parent(),b(a.selected)&&a.setSelected(a.selected)}})}(tinymce),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.walk;a.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(b,c){var d=this;d.parent(b,c),d.items={},d.collapsed=!1,d.menuCount=0,d.onAddItem=new a.util.Dispatcher(this)},expand:function(a){var b=this;a&&e(b,function(a){a.expand&&a.expand()},"items",b),b.collapsed=!1},collapse:function(a){var b=this;a&&e(b,function(a){a.collapse&&a.collapse()},"items",b),b.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(b){return b.settings||(b=new a.ui.MenuItem(b.id||c.uniqueId(),b)),this.onAddItem.dispatch(this,b),this.items[b.id]=b},addSeparator:function(){return this.add({separator:!0})},addMenu:function(a){return a.collapse||(a=this.createMenu(a)),this.menuCount++,this.add(a)},hasMenus:function(){return this.menuCount!==0},remove:function(a){delete this.items[a.id]},removeAll:function(){var a=this;e(a,function(a){a.removeAll?a.removeAll():a.remove(),a.destroy()},"items",a),a.items={}},createMenu:function(b){var d=new a.ui.Menu(b.id||c.uniqueId(),b);return d.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),d}})}(tinymce),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.dom.Event,f=a.dom.Element;a.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(d,e){e=e||{},e.container=e.container||c.doc.body,e.offset_x=e.offset_x||0,e.offset_y=e.offset_y||0,e.vp_offset_x=e.vp_offset_x||0,e.vp_offset_y=e.vp_offset_y||0,b(e.icons)&&!e.icons&&(e["class"]+=" mceNoIcons"),this.parent(d,e),this.onShowMenu=new a.util.Dispatcher(this),this.onHideMenu=new a.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(b){var d=this,e=d.settings,f;return b.container=b.container||e.container,b.parent=d,b.constrain=b.constrain||e.constrain,b["class"]=b["class"]||e["class"],b.vp_offset_x=b.vp_offset_x||e.vp_offset_x,b.vp_offset_y=b.vp_offset_y||e.vp_offset_y,f=new a.ui.DropMenu(b.id||c.uniqueId(),b),f.onAddItem.add(d.onAddItem.dispatch,d.onAddItem),f},update:function(){var a=this,b=a.settings,d=c.get("menu_"+a.id+"_tbl"),e=c.get("menu_"+a.id+"_co"),f,g;f=b.max_width?Math.min(d.clientWidth,b.max_width):d.clientWidth,g=b.max_height?Math.min(d.clientHeight,b.max_height):d.clientHeight,c.boxModel?a.element.setStyles({width:f,height:g}):a.element.setStyles({width:f+2,height:g+2}),b.max_width&&c.setStyle(e,"width",f),b.max_height&&(c.setStyle(e,"height",g),d.clientHeight<b.max_height&&c.setStyle(e,"overflow","hidden"))},showMenu:function(b,g,h){var i=this,j=i.settings,k,l=c.getViewPort(),m,n,o,p,q=2,r,s,t=i.classPrefix;i.collapse(1);if(i.isMenuVisible)return;i.rendered?k=c.get("menu_"+i.id):(k=c.add(i.settings.container,i.renderNode()),d(i.items,function(a){a.postRender()}),i.element=new f("menu_"+i.id,{blocker:1,container:j.container})),a.isOpera||c.setStyles(k,{left:-65535,top:-65535}),c.show(k),i.update(),b+=j.offset_x||0,g+=j.offset_y||0,l.w-=4,l.h-=4,j.constrain&&(m=k.clientWidth-q,n=k.clientHeight-q,o=l.x+l.w,p=l.y+l.h,b+j.vp_offset_x+m>o&&(b=h?h-m:Math.max(0,o-j.vp_offset_x-m)),g+j.vp_offset_y+n>p&&(g=Math.max(0,p-j.vp_offset_y-n))),c.setStyles(k,{left:b,top:g}),i.element.update(),i.isMenuVisible=1,i.mouseClickFunc=e.add(k,"click",function(a){var b;a=a.target;if(a&&(a=c.getParent(a,"tr"))&&!c.hasClass(a,t+"ItemSub")){b=i.items[a.id];if(b.isDisabled())return;r=i;while(r)r.hideMenu&&r.hideMenu(),r=r.settings.parent;return b.settings.onclick&&b.settings.onclick(a),e.cancel(a)}}),i.hasMenus()&&(i.mouseOverFunc=e.add(k,"mouseover",function(a){var b,d,e;a=a.target;if(a&&(a=c.getParent(a,"tr"))){b=i.items[a.id],i.lastMenu&&i.lastMenu.collapse(1);if(b.isDisabled())return;a&&c.hasClass(a,t+"ItemSub")&&(d=c.getRect(a),b.showMenu(d.x+d.w-q,d.y-q,d.x),i.lastMenu=b,c.addClass(c.get(b.id).firstChild,t+"ItemActive"))}})),i.onShowMenu.dispatch(i),j.keyboard_focus&&(e.add(k,"keydown",i._keyHandler,i),c.select("a","menu_"+i.id)[0].focus(),i._focusIdx=0)},hideMenu:function(a){var b=this,d=c.get("menu_"+b.id),f;if(!b.isMenuVisible)return;e.remove(d,"mouseover",b.mouseOverFunc),e.remove(d,"click",b.mouseClickFunc),e.remove(d,"keydown",b._keyHandler),c.hide(d),b.isMenuVisible=0,a||b.collapse(1),b.element&&b.element.hide(),(f=c.get(b.id))&&c.removeClass(f.firstChild,b.classPrefix+"ItemActive"),b.onHideMenu.dispatch(b)},add:function(a){var b=this,d;return a=b.parent(a),b.isRendered&&(d=c.get("menu_"+b.id))&&b._add(c.select("tbody",d)[0],a),a},collapse:function(a){this.parent(a),this.hideMenu(1)},remove:function(a){return c.remove(a.id),this.destroy(),this.parent(a)},destroy:function(){var a=this,b=c.get("menu_"+a.id);e.remove(b,"mouseover",a.mouseOverFunc),e.remove(b,"click",a.mouseClickFunc),a.element&&a.element.remove(),c.remove(b)},renderNode:function(){var a=this,b=a.settings,e,g,h,i;return i=c.create("div",{id:"menu_"+a.id,"class":b["class"],style:"position:absolute;left:0;top:0;z-index:200000"}),h=c.add(i,"div",{id:"menu_"+a.id+"_co","class":a.classPrefix+(b["class"]?" "+b["class"]:"")}),a.element=new f("menu_"+a.id,{blocker:1,container:b.container}),b.menu_line&&c.add(h,"span",{"class":a.classPrefix+"Line"}),e=c.add(h,"table",{id:"menu_"+a.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),g=c.add(e,"tbody"),d(a.items,function(b){a._add(g,b)}),a.rendered=!0,i},_keyHandler:function(a){function e(a){var d=b._focusIdx+a,e=c.select("a","menu_"+b.id)[d];e&&(b._focusIdx=d,e.focus())}var b=this,d=a.keyCode;switch(d){case 38:e(-1);return;case 40:e(1);return;case 13:return;case 27:return this.hideMenu()}},_add:function(a,b){var d,e=b.settings,f,g,h,i=this.classPrefix,j;if(e.separator){g=c.add(a,"tr",{id:b.id,"class":i+"ItemSeparator"}),c.add(g,"td",{"class":i+"ItemSeparator"}),(d=g.previousSibling)&&c.addClass(d,"mceLast");return}d=g=c.add(a,"tr",{id:b.id,"class":i+"Item "+i+"ItemEnabled"}),d=h=c.add(d,"td"),d=f=c.add(d,"a",{href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),c.addClass(h,e["class"]),j=c.add(d,"span",{"class":"mceIcon"+(e.icon?" mce_"+e.icon:"")}),e.icon_src&&c.add(j,"img",{src:e.icon_src}),d=c.add(d,e.element||"span",{"class":"mceText",title:b.settings.title},b.settings.title),b.settings.style&&c.setAttrib(d,"style",b.settings.style),a.childNodes.length==1&&c.addClass(g,"mceFirst"),(d=g.previousSibling)&&c.hasClass(d,i+"ItemSeparator")&&c.addClass(g,"mceFirst"),b.collapse&&c.addClass(g,i+"ItemSub"),(d=g.previousSibling)&&c.removeClass(d,"mceLast"),c.addClass(g,"mceLast")}})}(tinymce),function(a){var b=a.DOM;a.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(a,b){this.parent(a,b),this.classPrefix="mceButton"},renderHTML:function(){var a=this.classPrefix,c=this.settings,d,e;return e=b.encode(c.label||""),d='<a id="'+this.id+'" href="javascript:;" class="'+a+" "+a+"Enabled "+c["class"]+(e?" "+a+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" title="'+b.encode(c.title)+'">',c.image?d+='<img class="mceIcon" src="'+c.image+'" />'+e+"</a>":d+='<span class="mceIcon '+c["class"]+'"></span>'+(e?'<span class="'+a+'Label">'+e+"</span>":"")+"</a>",d},postRender:function(){var b=this,c=b.settings;a.dom.Event.add(b.id,"click",function(a){if(!b.isDisabled())return c.onclick.call(c.scope,a)})}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.util.Dispatcher;a.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(b,c){var d=this;d.parent(b,c),d.items=[],d.onChange=new e(d),d.onPostRender=new e(d),d.onAdd=new e(d),d.onRenderMenu=new a.util.Dispatcher(this),d.classPrefix="mceListBox"},select:function(a){var b=this,c,e;if(a==undefined)return b.selectByIndex(-1);a&&a.call?e=a:e=function(b){return b==a},a!=b.selectedValue&&(d(b.items,function(a,d){if(e(a.value))return c=1,b.selectByIndex(d),!1}),c||b.selectByIndex(-1))},selectByIndex:function(a){var c=this,d,e;a!=c.selectedIndex&&(d=b.get(c.id+"_text"),e=c.items[a],e?(c.selectedValue=e.value,c.selectedIndex=a,b.setHTML(d,b.encode(e.title)),b.removeClass(d,"mceTitle")):(b.setHTML(d,b.encode(c.settings.title)),b.addClass(d,"mceTitle"),c.selectedValue=c.selectedIndex=null),d=0)},add:function(b,c,d){var e=this;d=d||{},d=a.extend(d,{title:b,value:c}),e.items.push(d),e.onAdd.dispatch(e,d)},getLength:function(){return this.items.length},renderHTML:function(){var a="",c=this,d=c.settings,e=c.classPrefix;return a='<table id="'+c.id+'" cellpadding="0" cellspacing="0" class="'+e+" "+e+"Enabled"+(d["class"]?" "+d["class"]:"")+'"><tbody><tr>',a+="<td>"+b.createHTML("a",{id:c.id+"_text",href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},b.encode(c.settings.title))+"</td>",a+="<td>"+b.createHTML("a",{id:c.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},"<span></span>")+"</td>",a+="</tr></tbody></table>",a},showMenu:function(){var e=this,f,g,h=b.get(this.id),i;if(e.isDisabled()||e.items.length==0)return;if(e.menu&&e.menu.isMenuVisible)return e.hideMenu();e.isMenuRendered||(e.renderMenu(),e.isMenuRendered=!0),f=b.getPos(this.settings.menu_container),g=b.getPos(h),i=e.menu,i.settings.offset_x=g.x,i.settings.offset_y=g.y,i.settings.keyboard_focus=!a.isOpera,e.oldID&&i.items[e.oldID].setSelected(0),d(e.items,function(a){a.value===e.selectedValue&&(i.items[a.id].setSelected(1),e.oldID=a.id)}),i.showMenu(0,h.clientHeight),c.add(b.doc,"mousedown",e.hideMenu,e),b.addClass(e.id,e.classPrefix+"Selected")},hideMenu:function(a){var d=this;if(d.menu&&d.menu.isMenuVisible){if(!(!a||a.type!="mousedown"||a.target.id!=d.id+"_text"&&a.target.id!=d.id+"_open"))return;if(!a||!b.getParent(a.target,".mceMenu"))b.removeClass(d.id,d.classPrefix+"Selected"),c.remove(b.doc,"mousedown",d.hideMenu,d),d.menu.hideMenu()}},renderMenu:function(){var a=this,c;c=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":a.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150}),c.onHideMenu.add(a.hideMenu,a),c.add({title:a.settings.title,"class":"mceMenuItemTitle",onclick:function(){a.settings.onselect("")!==!1&&a.select("")}}),d(a.items,function(d){d.value===undefined?c.add({title:d.title,"class":"mceMenuItemTitle",onclick:function(){a.settings.onselect("")!==!1&&a.select("")}}):(d.id=b.uniqueId(),d.onclick=function(){a.settings.onselect(d.value)!==!1&&a.select(d.value)},c.add(d))}),a.onRenderMenu.dispatch(a,c),a.menu=c},postRender:function(){var e=this,f=e.classPrefix;c.add(e.id,"click",e.showMenu,e),c.add(e.id+"_text","focus",function(){e._focused||(e.keyDownHandler=c.add(e.id+"_text","keydown",function(a){var b=-1,f,g=a.keyCode;d(e.items,function(a,c){e.selectedValue==a.value&&(b=c)});if(g==38)f=e.items[b-1];else if(g==40)f=e.items[b+1];else if(g==13)return f=e.selectedValue,e.selectedValue=null,e.settings.onselect(f),c.cancel(a);f&&(e.hideMenu(),e.select(f.value))})),e._focused=1}),c.add(e.id+"_text","blur",function(){c.remove(e.id+"_text","keydown",e.keyDownHandler),e._focused=0});if(a.isIE6||!b.boxModel)c.add(e.id,"mouseover",function(){b.hasClass(e.id,f+"Disabled")||b.addClass(e.id,f+"Hover")}),c.add(e.id,"mouseout",function(){b.hasClass(e.id,f+"Disabled")||b.removeClass(e.id,f+"Hover")});e.onPostRender.dispatch(e,b.get(e.id))},destroy:function(){this.parent(),c.clear(this.id+"_text"),c.clear(this.id+"_open")}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.util.Dispatcher;a.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(a,b){this.parent(a,b),this.classPrefix="mceNativeListBox"},setDisabled:function(a){b.get(this.id).disabled=a},isDisabled:function(){return b.get(this.id).disabled},select:function(a){var b=this,c,e;if(a==undefined)return b.selectByIndex(-1);a&&a.call?e=a:e=function(b){return b==a},a!=b.selectedValue&&(d(b.items,function(a,d){if(e(a.value))return c=1,b.selectByIndex(d),!1}),c||b.selectByIndex(-1))},selectByIndex:function(a){b.get(this.id).selectedIndex=a+1,this.selectedValue=this.items[a]?this.items[a].value:null},add:function(a,c,d){var e,f=this;d=d||{},d.value=c,f.isRendered()&&b.add(b.get(this.id),"option",d,a),e={title:a,value:c,attribs:d},f.items.push(e),f.onAdd.dispatch(f,e)},getLength:function(){return this.items.length},renderHTML:function(){var a,c=this;return a=b.createHTML("option",{value:""},"-- "+c.settings.title+" --"),d(c.items,function(c){a+=b.createHTML("option",{value:c.value},c.title)}),a=b.createHTML("select",{id:c.id,"class":"mceNativeListBox"},a),a},postRender:function(){function e(b){var c=a.items[b.target.selectedIndex-1];c&&(c=c.value)&&(a.onChange.dispatch(a,c),a.settings.onselect&&a.settings.onselect(c))}var a=this,d;a.rendered=!0,c.add(a.id,"change",e),c.add(a.id,"keydown",function(b){var f;c.remove(a.id,"change",d),f=c.add(a.id,"blur",function(){c.add(a.id,"change",e),c.remove(a.id,"blur",f)});if(b.keyCode==13||b.keyCode==32)return e(b),c.cancel(b)}),a.onPostRender.dispatch(a,b.get(a.id))}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each;a.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(c,d){this.parent(c,d),this.onRenderMenu=new a.util.Dispatcher(this),d.menu_container=d.menu_container||b.doc.body},showMenu:function(){var a=this,d,e,f=b.get(a.id),g;if(a.isDisabled())return;a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);if(a.isMenuVisible)return a.hideMenu();d=b.getPos(a.settings.menu_container),e=b.getPos(f),g=a.menu,g.settings.offset_x=e.x,g.settings.offset_y=e.y,g.settings.vp_offset_x=e.x,g.settings.vp_offset_y=e.y,g.settings.keyboard_focus=a._focused,g.showMenu(0,f.clientHeight),c.add(b.doc,"mousedown",a.hideMenu,a),a.setState("Selected",1),a.isMenuVisible=1},renderMenu:function(){var a=this,b;b=a.settings.control_manager.createDropMenu(a.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:a.settings.icons}),b.onHideMenu.add(a.hideMenu,a),a.onRenderMenu.dispatch(a,b),a.menu=b},hideMenu:function(a){var d=this;if(a&&a.type=="mousedown"&&b.getParent(a.target,function(a){return a.id===d.id||a.id===d.id+"_open"}))return;if(!a||!b.getParent(a.target,".mceMenu"))d.setState("Selected",0),c.remove(b.doc,"mousedown",d.hideMenu,d),d.menu&&d.menu.hideMenu();d.isMenuVisible=0},postRender:function(){var a=this,b=a.settings;c.add(a.id,"click",function(){a.isDisabled()||(b.onclick&&b.onclick(a.value),a.showMenu())})}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each;a.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(a,b){this.parent(a,b),this.classPrefix="mceSplitButton"},renderHTML:function(){var a,c=this,d=c.settings,e;return a="<tbody><tr>",d.image?e=b.createHTML("img ",{src:d.image,"class":"mceAction "+d["class"]}):e=b.createHTML("span",{"class":"mceAction "+d["class"]},""),a+="<td>"+b.createHTML("a",{id:c.id+"_action",href:"javascript:;","class":"mceAction "+d["class"],onclick:"return false;",onmousedown:"return false;",title:d.title},e)+"</td>",e=b.createHTML("span",{"class":"mceOpen "+d["class"]}),a+="<td>"+b.createHTML("a",{id:c.id+"_open",href:"javascript:;","class":"mceOpen "+d["class"],onclick:"return false;",onmousedown:"return false;",title:d.title},e)+"</td>",a+="</tr></tbody>",b.createHTML("table",{id:c.id,"class":"mceSplitButton mceSplitButtonEnabled "+d["class"],cellpadding:"0",cellspacing:"0",onmousedown:"return false;",title:d.title},a)},postRender:function(){var d=this,e=d.settings;e.onclick&&c.add(d.id+"_action","click",function(){d.isDisabled()||e.onclick(d.value)}),c.add(d.id+"_open","click",d.showMenu,d),c.add(d.id+"_open","focus",function(){d._focused=1}),c.add(d.id+"_open","blur",function(){d._focused=0});if(a.isIE6||!b.boxModel)c.add(d.id,"mouseover",function(){b.hasClass(d.id,"mceSplitButtonDisabled")||b.addClass(d.id,"mceSplitButtonHover")}),c.add(d.id,"mouseout",function(){b.hasClass(d.id,"mceSplitButtonDisabled")||b.removeClass(d.id,"mceSplitButtonHover")})},destroy:function(){this.parent(),c.clear(this.id+"_action"),c.clear(this.id+"_open")}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.is,e=a.each;a.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(b,c){var d=this;d.parent(b,c),d.settings=c=a.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},d.settings),d.onShowMenu=new a.util.Dispatcher(d),d.onHideMenu=new a.util.Dispatcher(d),d.value=c.default_color},showMenu:function(){var a=this,d,e,f,g;if(a.isDisabled())return;a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0);if(a.isMenuVisible)return a.hideMenu();f=b.get(a.id),b.show(a.id+"_menu"),b.addClass(f,"mceSplitButtonSelected"),g=b.getPos(f),b.setStyles(a.id+"_menu",{left:g.x,top:g.y+f.clientHeight,zIndex:2e5}),f=0,c.add(b.doc,"mousedown",a.hideMenu,a),a.onShowMenu.dispatch(a),a._focused&&(a._keyHandler=c.add(a.id+"_menu","keydown",function(b){b.keyCode==27&&a.hideMenu()}),b.select("a",a.id+"_menu")[0].focus()),a.isMenuVisible=1},hideMenu:function(a){var d=this;if(a&&a.type=="mousedown"&&b.getParent(a.target,function(a){return a.id===d.id+"_open"}))return;if(!a||!b.getParent(a.target,".mceSplitButtonMenu"))b.removeClass(d.id,"mceSplitButtonSelected"),c.remove(b.doc,"mousedown",d.hideMenu,d),c.remove(d.id+"_menu","keydown",d._keyHandler),b.hide(d.id+"_menu");d.onHideMenu.dispatch(d),d.isMenuVisible=0},renderMenu:function(){var a=this,f,g=0,h=a.settings,i,j,k,l;return l=b.add(h.menu_container,"div",{id:a.id+"_menu","class":h.menu_class+" "+h["class"],style:"position:absolute;left:0;top:-1000px;"}),f=b.add(l,"div",{"class":h["class"]+" mceSplitButtonMenu"}),b.add(f,"span",{"class":"mceMenuLine"}),i=b.add(f,"table",{"class":"mceColorSplitMenu"}),j=b.add(i,"tbody"),g=0,e(d(h.colors,"array")?h.colors:h.colors.split(","),function(a){a=a.replace(/^#/,""),g--||(k=b.add(j,"tr"),g=h.grid_width-1),i=b.add(k,"td"),i=b.add(i,"a",{href:"javascript:;",style:{backgroundColor:"#"+a},_mce_color:"#"+a})}),h.more_colors_func&&(i=b.add(j,"tr"),i=b.add(i,"td",{colspan:h.grid_width,"class":"mceMoreColors"}),i=b.add(i,"a",{id:a.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},h.more_colors_title),c.add(i,"click",function(a){return h.more_colors_func.call(h.more_colors_scope||this),c.cancel(a)})),b.addClass(f,"mceColorSplitMenu"),c.add(a.id+"_menu","click",function(b){var d;return b=b.target,b.nodeName=="A"&&(d=b.getAttribute("_mce_color"))&&a.setColor(d),c.cancel(b)}),l},setColor:function(a){var c=this;b.setStyle(c.id+"_preview","backgroundColor",a),c.value=a,c.hideMenu(),c.settings.onselect(a)},postRender:function(){var a=this,c=a.id;a.parent(),b.add(c+"_action","div",{id:c+"_preview","class":"mceColorPreview"}),b.setStyle(a.id+"_preview","backgroundColor",a.value)},destroy:function(){this.parent(),c.clear(this.id+"_menu"),c.clear(this.id+"_more"),b.remove(this.id+"_menu")}})}(tinymce),tinymce.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var a=this,b="",c,d,e=tinymce.DOM,f=a.settings,g,h,i,j;j=a.controls;for(g=0;g<j.length;g++)d=j[g],h=j[g-1],i=j[g+1],g===0&&(c="mceToolbarStart",d.Button?c+=" mceToolbarStartButton":d.SplitButton?c+=" mceToolbarStartSplitButton":d.ListBox&&(c+=" mceToolbarStartListBox"),b+=e.createHTML("td",{"class":c},e.createHTML("span",null,"<!-- IE -->"))),h&&d.ListBox&&(h.Button||h.SplitButton)&&(b+=e.createHTML("td",{"class":"mceToolbarEnd"},e.createHTML("span",null,"<!-- IE -->"))),e.stdMode?b+='<td style="position: relative">'+d.renderHTML()+"</td>":b+="<td>"+d.renderHTML()+"</td>",i&&d.ListBox&&(i.Button||i.SplitButton)&&(b+=e.createHTML("td",{"class":"mceToolbarStart"},e.createHTML("span",null,"<!-- IE -->")));return c="mceToolbarEnd",d.Button?c+=" mceToolbarEndButton":d.SplitButton?c+=" mceToolbarEndSplitButton":d.ListBox&&(c+=" mceToolbarEndListBox"),b+=e.createHTML("td",{"class":c},e.createHTML("span",null,"<!-- IE -->")),e.createHTML("table",{id:a.id,"class":"mceToolbar"+(f["class"]?" "+f["class"]:""),cellpadding:"0",cellspacing:"0",align:a.settings.align||""},"<tbody><tr>"+b+"</tr></tbody>")}}),function(a){var b=a.util.Dispatcher,c=a.each;a.create("tinymce.AddOnManager",{items:[],urls:{},lookup:{},onAdd:new b(this),get:function(a){return this.lookup[a]},requireLangPack:function(b){var c=a.settings;c&&c.language&&a.ScriptLoader.add(this.urls[b]+"/langs/"+c.language+".js")},add:function(a,b){return this.items.push(b),this.lookup[a]=b,this.onAdd.dispatch(this,a,b),b},load:function(b,c,d,e){var f=this;if(f.urls[b])return;c.indexOf("/")!=0&&c.indexOf("://")==-1&&(c=a.baseURL+"/"+c),f.urls[b]=c.substring(0,c.lastIndexOf("/")),a.ScriptLoader.add(c,d,e)}}),a.PluginManager=new a.AddOnManager,a.ThemeManager=new a.AddOnManager}(tinymce),function(a){var b=a.each,c=a.extend,d=a.DOM,e=a.dom.Event,f=a.ThemeManager,g=a.PluginManager,h=a.explode,i=a.util.Dispatcher,j,k=0;a.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a.documentBaseURL)||(a.documentBaseURL+="/"),a.baseURL=(new a.util.URI(a.documentBaseURL)).toAbsolute(a.baseURL),a.baseURI=new a.util.URI(a.baseURL),a.onBeforeUnload=new i(a),e.add(window,"beforeunload",function(b){a.onBeforeUnload.dispatch(a,b)}),a.onAddEditor=new i(a),a.onRemoveEditor=new i(a),a.EditorManager=c(a,{editors:[],i18n:{},activeEditor:null,init:function(f){function o(b,c,d){var e=b[c];if(!e)return;return a.is(e,"string")&&(d=e.replace(/\.\w+$/,""),d=d?a.resolve(d):0,e=a.resolve(e)),e.apply(d||this,Array.prototype.slice.call(arguments,2))}var g=this,i,j=a.ScriptLoader,l,m=[],n;f=c({theme:"simple",language:"en"},f),g.settings=f,e.add(document,"init",function(){var c,e;o(f,"onpageload");switch(f.mode){case"exact":c=f.elements||"",c.length>0&&b(h(c),function(c){d.get(c)?(n=new a.Editor(c,f),m.push(n),n.render(1)):b(document.forms,function(e){b(e.elements,function(b){b.name===c&&(c="mce_editor_"+k++,d.setAttrib(b,"id",c),n=new a.Editor(c,f),m.push(n),n.render(1))})})});break;case"textareas":case"specific_textareas":function i(a,b){return b.constructor===RegExp?b.test(a.className):d.hasClass(a,b)}b(d.select("textarea"),function(b){if(f.editor_deselector&&i(b,f.editor_deselector))return;if(!f.editor_selector||i(b,f.editor_selector)){l=d.get(b.name),!b.id&&!l&&(b.id=b.name);if(!b.id||g.get(b.id))b.id=d.uniqueId();n=new a.Editor(b.id,f),m.push(n),n.render(1)}})}f.oninit&&(c=e=0,b(m,function(a){e++,a.initialized?c++:a.onInit.add(function(){c++,c==e&&o(f,"oninit")}),c==e&&o(f,"oninit")}))})},get:function(a){return a===j?this.editors:this.editors[a]},getInstanceById:function(a){return this.get(a)},add:function(b){var c=this,d=c.editors;return d[b.id]=b,d.push(b),c._setActive(b),c.onAddEditor.dispatch(c,b),a.adapter&&a.adapter.patchEditor(b),b},remove:function(a){var b=this,c,d=b.editors;if(!d[a.id])return null;delete d[a.id];for(c=0;c<d.length;c++)if(d[c]==a){d.splice(c,1);break}return b.activeEditor==a&&b._setActive(d[0]),a.destroy(),b.onRemoveEditor.dispatch(b,a),a},execCommand:function(b,c,d){var e=this,f=e.get(d),g;switch(b){case"mceFocus":return f.focus(),!0;case"mceAddEditor":case"mceAddControl":return e.get(d)||(new a.Editor(d,e.settings)).render(),!0;case"mceAddFrameControl":g=d.window,g.tinyMCE=tinyMCE,g.tinymce=a,a.DOM.doc=g.document,a.DOM.win=g,f=new a.Editor(d.element_id,d),f.render();if(a.isIE){function h(){f.destroy(),g.detachEvent("onunload",h),g=g.tinyMCE=g.tinymce=null}g.attachEvent("onunload",h)}return d.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return f&&f.remove(),!0;case"mceToggleEditor":if(!f)return e.execCommand("mceAddControl",0,d),!0;return f.isHidden()?f.show():f.hide(),!0}return e.activeEditor?e.activeEditor.execCommand(b,c,d):!1},execInstanceCommand:function(a,b,c,d){var e=this.get(a);return e?e.execCommand(b,c,d):!1},triggerSave:function(){b(this.editors,function(a){a.save()})},addI18n:function(c,d){var e,f=this.i18n;a.is(c,"string")?b(d,function(a,b){f[c+"."+b]=a}):b(c,function(a,c){b(a,function(a,d){b(a,function(a,b){d==="common"?f[c+"."+b]=a:f[c+"."+d+"."+b]=a})})})},_setActive:function(a){this.selectedInstance=this.activeEditor=a}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.extend,e=a.util.Dispatcher,f=a.each,g=a.isGecko,h=a.isIE,i=a.isWebKit,j=a.is,k=a.ThemeManager,l=a.PluginManager,m=a.inArray,n=a.grep,o=a.explode;a.create("tinymce.Editor",{Editor:function(b,c){var g=this;g.id=g.editorId=b,g.execCommands={},g.queryStateCommands={},g.queryValueCommands={},g.isNotDirty=!1,g.plugins={},f(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(a){g[a]=new e(g)}),g.settings=c=d({id:b,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:a.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:a.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",valid_elements:"@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,
force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:!0},c),g.documentBaseURI=new a.util.URI(c.document_base_url||a.documentBaseURL,{base_uri:tinyMCE.baseURI}),g.baseURI=a.baseURI,g.execCallback("setup",g)},render:function(d){function j(){g.language&&i.add(a.baseURL+"/langs/"+g.language+".js"),g.theme&&g.theme.charAt(0)!="-"&&!k.urls[g.theme]&&k.load(g.theme,"themes/"+g.theme+"/editor_template"+a.suffix+".js"),f(o(g.plugins),function(b){if(b&&b.charAt(0)!="-"&&!l.urls[b]){if(b=="safari")return;l.load(b,"plugins/"+b+"/editor_plugin"+a.suffix+".js")}}),i.loadQueue(function(){e.removed||e.init()})}var e=this,g=e.settings,h=e.id,i=a.ScriptLoader;if(!c.domLoaded){c.add(document,"init",function(){e.render()});return}tinyMCE.settings=g;if(!e.getElement())return;if(a.isIDevice)return;!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&g.hidden_input&&b.getParent(h,"form")&&b.insertAfter(b.create("input",{type:"hidden",name:h}),h),a.WindowManager&&(e.windowManager=new a.WindowManager(e)),g.encoding=="xml"&&e.onGetContent.add(function(a,c){c.save&&(c.content=b.encode(c.content))}),g.add_form_submit_trigger&&e.onSubmit.addToTop(function(){e.initialized&&(e.save(),e.isNotDirty=1)}),g.add_unload_trigger&&(e._beforeUnload=tinyMCE.onBeforeUnload.add(function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0})})),a.addUnload(e.destroy,e),g.submit_patch&&e.onBeforeRenderUI.add(function(){var b=e.getElement().form;if(!b)return;if(b._mceOldSubmit)return;!b.submit.nodeType&&!b.submit.length&&(e.formElement=b,b._mceOldSubmit=b.submit,b.submit=function(){return a.triggerSave(),e.isNotDirty=1,e.formElement._mceOldSubmit(e.formElement)}),b=null}),j()},init:function(){var c,d=this,e=d.settings,i,j,m=d.getElement(),n,p,q,r,s,t;a.add(d),e.theme&&(e.theme=e.theme.replace(/-/,""),n=k.get(e.theme),d.theme=new n,d.theme.init&&e.init_theme&&d.theme.init(d,k.urls[e.theme]||a.documentBaseURL.replace(/\/$/,""))),f(o(e.plugins.replace(/\-/g,"")),function(b){var c=l.get(b),e=l.urls[b]||a.documentBaseURL.replace(/\/$/,""),f;c&&(f=new c(d,e),d.plugins[b]=f,f.init&&f.init(d,e))}),e.popup_css!==!1&&(e.popup_css?e.popup_css=d.documentBaseURI.toAbsolute(e.popup_css):e.popup_css=d.baseURI.toAbsolute("themes/"+e.theme+"/skins/"+e.skin+"/dialog.css")),e.popup_css_add&&(e.popup_css+=","+d.documentBaseURI.toAbsolute(e.popup_css_add)),d.controlManager=new a.ControlManager(d),e.custom_undo_redo&&(d.onBeforeExecCommand.add(function(a,b,c,e,f){b!="Undo"&&b!="Redo"&&b!="mceRepaint"&&(!f||!f.skip_undo)&&(d.undoManager.hasUndo()||d.undoManager.add())}),d.onExecCommand.add(function(a,b,c,e,f){b!="Undo"&&b!="Redo"&&b!="mceRepaint"&&(!f||!f.skip_undo)&&d.undoManager.add()})),d.onExecCommand.add(function(a,b){/^(FontName|FontSize)$/.test(b)||d.nodeChanged()});if(g){function u(a,b){(!b||!b.initial)&&d.execCommand("mceRepaint")}d.onUndo.add(u),d.onRedo.add(u),d.onSetContent.add(u)}d.onBeforeRenderUI.dispatch(d,d.controlManager),e.render_ui&&(i=e.width||m.style.width||m.offsetWidth,j=e.height||m.style.height||m.offsetHeight,d.orgDisplay=m.style.display,t=/^[0-9\.]+(|px)$/i,t.test(""+i)&&(i=Math.max(parseInt(i)+(n.deltaWidth||0),100)),t.test(""+j)&&(j=Math.max(parseInt(j)+(n.deltaHeight||0),100)),n=d.theme.renderUI({targetNode:m,width:i,height:j,deltaWidth:e.delta_width,deltaHeight:e.delta_height}),d.editorContainer=n.editorContainer),document.domain&&location.hostname!=document.domain&&(a.relaxedDomain=document.domain),b.setStyles(n.sizeContainer||n.editorContainer,{width:i,height:j}),j=(n.iframeHeight||j)+(typeof j=="number"?n.deltaHeight||0:""),j<100&&(j=100),d.iframeHTML=e.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',e.document_base_url!=a.documentBaseURL&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',a.relaxedDomain&&(d.iframeHTML+='<script type="text/javascript">document.domain = "'+a.relaxedDomain+'";</script>'),r=e.body_id||"tinymce",r.indexOf("=")!=-1&&(r=d.getParam("body_id","","hash"),r=r[d.id]||r),s=e.body_class||"",s.indexOf("=")!=-1&&(s=d.getParam("body_class","","hash"),s=s[d.id]||""),d.iframeHTML+='</head><body id="'+r+'" class="mceContentBody '+s+'"></body></html>',a.relaxedDomain&&(h||a.isOpera&&parseFloat(opera.version())>=9.5?q='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()':a.isOpera&&(q='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();ed.setupIframe();})()')),c=b.add(n.iframeContainer,"iframe",{id:d.id+"_ifr",src:q||'javascript:""',frameBorder:"0",style:{width:"100%",height:j}}),d.contentAreaContainer=n.iframeContainer,b.get(n.editorContainer).style.display=d.orgDisplay,b.get(d.id).style.display="none",(!h||!a.relaxedDomain)&&d.setupIframe(),m=c=n=null},setupIframe:function(){var e=this,i=e.settings,j=b.get(e.id),k=e.getDoc(),l,m;if(!h||!a.relaxedDomain)k.open(),k.write(e.iframeHTML),k.close();if(!h)try{i.readonly||(k.designMode="On")}catch(n){}h&&(m=e.getBody(),b.hide(m),i.readonly||(m.contentEditable=!0),b.show(m)),e.dom=new a.dom.DOMUtils(e.getDoc(),{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:1,fix_ie_paragraphs:1,valid_styles:i.valid_styles}),e.schema=new a.dom.Schema,e.serializer=new a.dom.Serializer(d(i,{valid_elements:i.verify_html===!1?"*[*]":i.valid_elements,dom:e.dom,schema:e.schema})),e.selection=new a.dom.Selection(e.dom,e.getWin(),e.serializer),e.formatter=new a.Formatter(this),e.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b"}],italic:[{inline:"em"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"u"}],forecolor:{inline:"span",styles:{color:"%value"}},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"}},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),f("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(a){e.formatter.register(a,{block:a,remove:"all"})}),e.formatter.register(e.settings.formats),e.undoManager=new a.UndoManager(e),e.undoManager.onAdd.add(function(a,b){if(!b.initial)return e.onChange.dispatch(e,b,a)}),e.undoManager.onUndo.add(function(a,b){return e.onUndo.dispatch(e,b,a)}),e.undoManager.onRedo.add(function(a,b){return e.onRedo.dispatch(e,b,a)}),e.forceBlocks=new a.ForceBlocks(e,{forced_root_block:i.forced_root_block}),e.editorCommands=new a.EditorCommands(e),e.serializer.onPreProcess.add(function(a,b){return e.onPreProcess.dispatch(e,b,a)}),e.serializer.onPostProcess.add(function(a,b){return e.onPostProcess.dispatch(e,b,a)}),e.onPreInit.dispatch(e),i.gecko_spellcheck||(e.getBody().spellcheck=0),i.readonly||e._addEvents(),e.controlManager.onPostRender.dispatch(e,e.controlManager),e.onPostRender.dispatch(e),i.directionality&&(e.getBody().dir=i.directionality),i.nowrap&&(e.getBody().style.whiteSpace="nowrap");if(i.custom_elements){function p(a,b){f(o(i.custom_elements),function(a){var c;a.indexOf("~")===0?(a=a.substring(1),c="span"):c="div",b.content=b.content.replace(new RegExp("<("+a+")([^>]*)>","g"),"<"+c+' _mce_name="$1"$2>'),b.content=b.content.replace(new RegExp("</("+a+")>","g"),"</"+c+">")})}e.onBeforeSetContent.add(p),e.onPostProcess.add(function(a,b){b.set&&p(a,b)})}i.handle_node_change_callback&&e.onNodeChange.add(function(a,b,c){e.execCallback("handle_node_change_callback",e.id,c,-1,-1,!0,e.selection.isCollapsed())}),i.save_callback&&e.onSaveContent.add(function(a,b){var c=e.execCallback("save_callback",e.id,b.content,e.getBody());c&&(b.content=c)}),i.onchange_callback&&e.onChange.add(function(a,b){e.execCallback("onchange_callback",e,b)}),i.convert_newlines_to_brs&&e.onBeforeSetContent.add(function(a,b){b.initial&&(b.content=b.content.replace(/\r?\n/g,"<br />"))}),i.fix_nesting&&h&&e.onBeforeSetContent.add(function(a,b){b.content=e._fixNesting(b.content)}),i.preformatted&&e.onPostProcess.add(function(a,b){b.content=b.content.replace(/^\s*<pre.*?>/,""),b.content=b.content.replace(/<\/pre>\s*$/,""),b.set&&(b.content='<pre class="mceItemHidden">'+b.content+"</pre>")}),i.verify_css_classes&&(e.serializer.attribValueFilter=function(a,b){var c,d;return a=="class"?(e.classesRE||(d=e.dom.getClasses(),d.length>0&&(c="",f(d,function(a){c+=(c?"|":"")+a["class"]}),e.classesRE=new RegExp("("+c+")","gi"))),!e.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(b)||e.classesRE.test(b)?b:""):b}),i.cleanup_callback&&(e.onBeforeSetContent.add(function(a,b){b.content=e.execCallback("cleanup_callback","insert_to_editor",b.content,b)}),e.onPreProcess.add(function(a,b){b.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",b.node,b),b.get&&e.execCallback("cleanup_callback","get_from_editor_dom",b.node,b)}),e.onPostProcess.add(function(a,b){b.set&&(b.content=e.execCallback("cleanup_callback","insert_to_editor",b.content,b)),b.get&&(b.content=e.execCallback("cleanup_callback","get_from_editor",b.content,b))})),i.save_callback&&e.onGetContent.add(function(a,b){b.save&&(b.content=e.execCallback("save_callback",e.id,b.content,e.getBody()))}),i.handle_event_callback&&e.onEvent.add(function(a,b,d){e.execCallback("handle_event_callback",b,a,d)===!1&&c.cancel(b)}),e.onSetContent.add(function(){e.addVisual(e.getBody())}),i.padd_empty_editor&&e.onPostProcess.add(function(a,b){b.content=b.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});if(g){function q(a,b){f(a.dom.select("a"),function(b){var c=b.parentNode;a.dom.isBlock(c)&&c.lastChild===b&&a.dom.add(c,"br",{_mce_bogus:1})})}e.onExecCommand.add(function(a,b){b==="CreateLink"&&q(a)}),e.onSetContent.add(e.selection.onSetContent.add(q));if(!i.readonly)try{k.designMode="Off",k.designMode="On"}catch(n){}}setTimeout(function(){if(e.removed)return;e.load({initial:!0,format:i.cleanup_on_startup?"html":"raw"}),e.startContent=e.getContent({format:"raw"}),e.initialized=!0,e.onInit.dispatch(e),e.execCallback("setupcontent_callback",e.id,e.getBody(),e.getDoc()),e.execCallback("init_instance_callback",e),e.focus(!0),e.nodeChanged({initial:1}),i.content_css&&a.each(o(i.content_css),function(a){e.dom.loadCSS(e.documentBaseURI.toAbsolute(a))}),i.auto_focus&&setTimeout(function(){var b=a.get(i.auto_focus);b.selection.select(b.getBody(),1),b.selection.collapse(1),b.getWin().focus()},100)},1),j=null},focus:function(b){var c,d=this,e=d.settings.content_editable,f,g,h=d.getDoc();b||(f=d.selection.getRng(),f.item&&(g=f.item(0)),e||d.getWin().focus(),g&&g.ownerDocument==h&&(f=h.body.createControlRange(),f.addElement(g),f.select())),a.activeEditor!=d&&((c=a.activeEditor)!=null&&c.onDeactivate.dispatch(c,d),d.onActivate.dispatch(d,c)),a._setActive(d)},execCallback:function(b){var c=this,d=c.settings[b],e;if(!d)return;return c.callbackLookup&&(e=c.callbackLookup[b])&&(d=e.func,e=e.scope),j(d,"string")&&(e=d.replace(/\.\w+$/,""),e=e?a.resolve(e):0,d=a.resolve(d),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[b]={func:d,scope:e}),d.apply(e||c,Array.prototype.slice.call(arguments,1))},translate:function(b){var c=this.settings.language||"en",d=a.i18n;return b?d[c+"."+b]||b.replace(/{\#([^}]+)\}/g,function(a,b){return d[c+"."+b]||"{#"+b+"}"}):""},getLang:function(b,c){return a.i18n[(this.settings.language||"en")+"."+b]||(j(c)?c:"{#"+b+"}")},getParam:function(b,c,d){var e=a.trim,g=j(this.settings[b])?this.settings[b]:c,h;return d==="hash"?(h={},j(g,"string")?f(g.indexOf("=")>0?g.split(/[;,](?![^=;,]*(?:[;,]|$))/):g.split(","),function(a){a=a.split("="),a.length>1?h[e(a[0])]=e(a[1]):h[e(a[0])]=e(a)}):h=g,h):g},nodeChanged:function(a){var b=this,c=b.selection,d=(h?c.getNode():c.getStart())||b.getBody();b.initialized&&(a=a||{},d=h&&d.ownerDocument!=b.getDoc()?b.getBody():d,a.parents=[],b.dom.getParent(d,function(b){if(b.nodeName=="BODY")return!0;a.parents.push(b)}),b.onNodeChange.dispatch(b,a?a.controlManager||b.controlManager:b.controlManager,d,c.isCollapsed(),a))},addButton:function(a,b){var c=this;c.buttons=c.buttons||{},c.buttons[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,d){var e=this,g;return e.settings.custom_shortcuts?(e.shortcuts=e.shortcuts||{},j(c,"string")&&(g=c,c=function(){e.execCommand(g,!1,null)}),j(c,"object")&&(g=c,c=function(){e.execCommand(g[0],g[1],g[2])}),f(o(a),function(a){var g={func:c,scope:d||this,desc:b,alt:!1,ctrl:!1,shift:!1};f(o(a,"+"),function(a){switch(a){case"alt":case"ctrl":case"shift":g[a]=!0;break;default:g.charCode=a.charCodeAt(0),g.keyCode=a.toUpperCase().charCodeAt(0)}}),e.shortcuts[(g.ctrl?"ctrl":"")+","+(g.alt?"alt":"")+","+(g.shift?"shift":"")+","+g.keyCode]=g}),!0):!1},execCommand:function(b,c,d,e){var g=this,h=0,i,j;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(b)&&(!e||!e.skip_focus)&&g.focus(),i={},g.onBeforeExecCommand.dispatch(g,b,c,d,i);if(i.terminate)return!1;if(g.execCallback("execcommand_callback",g.id,g.selection.getNode(),b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(i=g.execCommands[b]){j=i.func.call(i.scope,c,d);if(j!==!0)return g.onExecCommand.dispatch(g,b,c,d,e),j}f(g.plugins,function(a){if(a.execCommand&&a.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),h=1,!1});if(h)return!0;if(g.theme&&g.theme.execCommand&&g.theme.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(a.GlobalCommands.execCommand(g,b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;if(g.editorCommands.execCommand(b,c,d))return g.onExecCommand.dispatch(g,b,c,d,e),!0;g.getDoc().execCommand(b,c,d),g.onExecCommand.dispatch(g,b,c,d,e)},queryCommandState:function(a){var b=this,c,d;if(b._isHidden())return;if(c=b.queryStateCommands[a]){d=c.func.call(c.scope);if(d!==!0)return d}c=b.editorCommands.queryCommandState(a);if(c!==-1)return c;try{return this.getDoc().queryCommandState(a)}catch(e){}},queryCommandValue:function(a){var b=this,c,d;if(b._isHidden())return;if(c=b.queryValueCommands[a]){d=c.func.call(c.scope);if(d!==!0)return d}c=b.editorCommands.queryCommandValue(a);if(j(c))return c;try{return this.getDoc().queryCommandValue(a)}catch(e){}},show:function(){var a=this;b.show(a.getContainer()),b.hide(a.id),a.load()},hide:function(){var a=this,c=a.getDoc();h&&c&&c.execCommand("SelectAll"),a.save(),b.hide(a.getContainer()),b.setStyle(a.id,"display",a.orgDisplay)},isHidden:function(){return!b.isHidden(this.id)},setProgressState:function(a,b,c){return this.onSetProgressState.dispatch(this,a,b,c),a},load:function(a){var b=this,c=b.getElement(),d;if(c)return a=a||{},a.load=!0,d=b.setContent(j(c.value)?c.value:c.innerHTML,a),a.element=c,a.no_events||b.onLoadContent.dispatch(b,a),a.element=c=null,d},save:function(a){var c=this,d=c.getElement(),e,g;if(!d||!c.initialized)return;return a=a||{},a.save=!0,a.no_events||(c.undoManager.typing=0,c.undoManager.add()),a.element=d,e=a.content=c.getContent(a),a.no_events||c.onSaveContent.dispatch(c,a),e=a.content,/TEXTAREA|INPUT/i.test(d.nodeName)?d.value=e:(d.innerHTML=e,(g=b.getParent(c.id,"form"))&&f(g.elements,function(a){if(a.name==c.id)return a.value=e,!1})),a.element=d=null,e},setContent:function(b,c){var d=this;return c=c||{},c.format=c.format||"html",c.set=!0,c.content=b,c.no_events||d.onBeforeSetContent.dispatch(d,c),!a.isIE&&(b.length===0||/^\s+$/.test(b))&&(c.content=d.dom.setHTML(d.getBody(),'<br _mce_bogus="1" />'),c.format="raw"),c.content=d.dom.setHTML(d.getBody(),a.trim(c.content)),c.format!="raw"&&d.settings.cleanup&&(c.getInner=!0,c.content=d.dom.setHTML(d.getBody(),d.serializer.serialize(d.getBody(),c))),c.no_events||d.onSetContent.dispatch(d,c),c.content},getContent:function(a){var b=this,c;return a=a||{},a.format=a.format||"html",a.get=!0,a.no_events||b.onBeforeGetContent.dispatch(b,a),a.format!="raw"&&b.settings.cleanup?(a.getInner=!0,c=b.serializer.serialize(b.getBody(),a)):c=b.getBody().innerHTML,c=c.replace(/^\s*|\s*$/g,""),a.content=c,a.no_events||b.onGetContent.dispatch(b,a),a.content},isDirty:function(){var b=this;return a.trim(b.startContent)!=a.trim(b.getContent({format:"raw",no_events:1}))&&!b.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=b.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return b.get(this.settings.content_element||this.id)},getWin:function(){var a=this,c;return a.contentWindow||(c=b.get(a.id+"_ifr"),c&&(a.contentWindow=c.contentWindow)),a.contentWindow},getDoc:function(){var a=this,b;return a.contentDocument||(b=a.getWin(),b&&(a.contentDocument=b.document)),a.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this,e=d.settings;return e.urlconverter_callback?d.execCallback("urlconverter_callback",a,c,!0,b):!e.convert_urls||c&&c.nodeName=="LINK"||a.indexOf("file:")===0?a:e.relative_urls?d.documentBaseURI.toRelative(a):(a=d.documentBaseURI.toAbsolute(a,e.remove_script_host),a)},addVisual:function(a){var b=this,c=b.settings;a=a||b.getBody(),j(b.hasVisual)||(b.hasVisual=c.visual),f(b.dom.select("table,a",a),function(a){var d;switch(a.nodeName){case"TABLE":d=b.dom.getAttrib(a,"border");if(!d||d=="0")b.hasVisual?b.dom.addClass(a,c.visual_table_class):b.dom.removeClass(a,c.visual_table_class);return;case"A":d=b.dom.getAttrib(a,"name"),d&&(b.hasVisual?b.dom.addClass(a,"mceItemAnchor"):b.dom.removeClass(a,"mceItemAnchor"));return}}),b.onVisualAid.dispatch(b,a,b.hasVisual)},remove:function(){var c=this,d=c.getContainer();c.removed=1,c.hide(),c.execCallback("remove_instance_callback",c),c.onRemove.dispatch(c),c.onExecCommand.listeners=[],a.remove(c),b.remove(d)},destroy:function(b){var d=this;if(d.destroyed)return;b||(a.removeUnload(d.destroy),tinyMCE.onBeforeUnload.remove(d._beforeUnload),d.theme&&d.theme.destroy&&d.theme.destroy(),d.controlManager.destroy(),d.selection.destroy(),d.dom.destroy(),d.settings.content_editable||(c.clear(d.getWin()),c.clear(d.getDoc())),c.clear(d.getBody()),c.clear(d.formElement)),d.formElement&&(d.formElement.submit=d.formElement._mceOldSubmit,d.formElement._mceOldSubmit=null),d.contentAreaContainer=d.formElement=d.container=d.settings.content_element=d.bodyElement=d.contentDocument=d.contentWindow=null,d.selection&&(d.selection=d.selection.win=d.selection.dom=d.selection.dom.doc=null),d.destroyed=1},_addEvents:function(){function k(a,b){var c=a.type;if(d.removed)return;d.onEvent.dispatch(d,a,b)!==!1&&d[j[a.fakeType||a.type]].dispatch(d,a,b)}var d=this,e,i=d.settings,j={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};f(j,function(c,e){switch(e){case"contextmenu":a.isOpera?d.dom.bind(d.getBody(),"mousedown",function(a){a.ctrlKey&&(a.fakeType="contextmenu",k(a))}):d.dom.bind(d.getBody(),e,k);break;case"paste":d.dom.bind(d.getBody(),e,function(a){k(a)});break;case"submit":case"reset":d.dom.bind(d.getElement().form||b.getParent(d.id,"form"),e,k);break;default:d.dom.bind(i.content_editable?d.getBody():d.getDoc(),e,k)}}),d.dom.bind(i.content_editable?d.getBody():g?d.getDoc():d.getWin(),"focus",function(a){d.focus(!0)}),a.isGecko&&d.dom.bind(d.getDoc(),"DOMNodeInserted",function(a){var b;a=a.target,a.nodeType===1&&a.nodeName==="IMG"&&(b=a.getAttribute("_mce_src"))&&(a.src=d.documentBaseURI.toAbsolute(b))});if(g){function l(){var a=this,b=a.getDoc(),c=a.settings;if(g&&!c.readonly){if(a._isHidden())try{c.content_editable||(b.designMode="On")}catch(d){}try{b.execCommand("styleWithCSS",0,!1)}catch(d){if(!a._isHidden())try{b.execCommand("useCSS",0,!0)}catch(d){}}if(!c.table_inline_editing)try{b.execCommand("enableInlineTableEditing",!1,!1)}catch(d){}if(!c.object_resizing)try{b.execCommand("enableObjectResizing",!1,!1)}catch(d){}}}d.onBeforeExecCommand.add(l),d.onMouseDown.add(l)}a.isWebKit&&d.onClick.add(function(a,b){b=b.target,(b.nodeName=="IMG"||b.nodeName=="A"&&d.dom.hasClass(b,"mceItemAnchor"))&&d.selection.getSel().setBaseAndExtent(b,0,b,1)}),d.onMouseUp.add(d.nodeChanged),d.onKeyUp.add(function(b,c){var e=c.keyCode;(e>=33&&e<=36||e>=37&&e<=40||e==13||e==45||e==46||e==8||a.isMac&&(e==91||e==93)||c.ctrlKey)&&d.nodeChanged()}),d.onReset.add(function(){d.setContent(d.startContent,{format:"raw"})});if(i.custom_shortcuts){i.custom_undo_redo_keyboard_shortcuts&&(d.addShortcut("ctrl+z",d.getLang("undo_desc"),"Undo"),d.addShortcut("ctrl+y",d.getLang("redo_desc"),"Redo")),d.addShortcut("ctrl+b",d.getLang("bold_desc"),"Bold"),d.addShortcut("ctrl+i",d.getLang("italic_desc"),"Italic"),d.addShortcut("ctrl+u",d.getLang("underline_desc"),"Underline");for(e=1;e<=6;e++)d.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);d.addShortcut("ctrl+7","",["FormatBlock",!1,"<p>"]),d.addShortcut("ctrl+8","",["FormatBlock",!1,"<div>"]),d.addShortcut("ctrl+9","",["FormatBlock",!1,"<address>"]);function m(b){var c=null;return!b.altKey&&!b.ctrlKey&&!b.metaKey?c:(f(d.shortcuts,function(d){if(a.isMac&&d.ctrl!=b.metaKey)return;if(!a.isMac&&d.ctrl!=b.ctrlKey)return;if(d.alt!=b.altKey)return;if(d.shift!=b.shiftKey)return;if(b.keyCode==d.keyCode||b.charCode&&b.charCode==d.charCode)return c=d,!1}),c)}d.onKeyUp.add(function(a,b){var d=m(b);if(d)return c.cancel(b)}),d.onKeyPress.add(function(a,b){var d=m(b);if(d)return c.cancel(b)}),d.onKeyDown.add(function(a,b){var d=m(b);if(d)return d.func.call(d.scope),c.cancel(b)})}a.isIE&&(d.dom.bind(d.getDoc(),"controlselect",function(a){var b=d.resizeInfo,e;a=a.target;if(a.nodeName!=="IMG")return;b&&d.dom.unbind(b.node,b.ev,b.cb),d.dom.hasClass(a,"mceItemNoResize")?(ev="resizestart",e=d.dom.bind(a,"resizestart",c.cancel,c)):(ev="resizeend",e=d.dom.bind(a,ev,function(a){var b;a=a.target;if(b=d.dom.getStyle(a,"width"))d.dom.setAttrib(a,"width",b.replace(/[^0-9%]+/g,"")),d.dom.setStyle(a,"width","");if(b=d.dom.getStyle(a,"height"))d.dom.setAttrib(a,"height",b.replace(/[^0-9%]+/g,"")),d.dom.setStyle(a,"height","")})),b=d.resizeInfo={node:a,ev:ev,cb:e}}),d.onKeyDown.add(function(a,b){switch(b.keyCode){case 8:if(d.selection.getRng().item)return a.dom.remove(d.selection.getRng().item(0)),c.cancel(b)}})),a.isOpera&&d.onClick.add(function(a,b){c.prevent(b)});if(i.custom_undo_redo){function n(){d.undoManager.typing=0,d.undoManager.add()}d.dom.bind(d.getDoc(),"focusout",function(a){!d.removed&&d.undoManager.typing&&n()}),d.onKeyUp.add(function(a,b){(b.keyCode>=33&&b.keyCode<=36||b.keyCode>=37&&b.keyCode<=40||b.keyCode==13||b.keyCode==45||b.ctrlKey)&&n()}),d.onKeyDown.add(function(a,b){var c,e,f;if(h&&b.keyCode==46){c=d.selection.getRng();if(c.parentElement){e=c.parentElement(),b.ctrlKey&&(c.moveEnd("word",1),c.select()),d.selection.getSel().clear();if(c.parentElement()==e){f=d.selection.getBookmark();try{e.innerHTML=e.innerHTML}catch(g){}d.selection.moveToBookmark(f)}b.preventDefault();return}}if(b.keyCode>=33&&b.keyCode<=36||b.keyCode>=37&&b.keyCode<=40||b.keyCode==13||b.keyCode==45){d.undoManager.typing&&n();return}d.undoManager.typing||(d.undoManager.add(),d.undoManager.typing=1)}),d.onMouseDown.add(function(){d.undoManager.typing&&n()})}},_isHidden:function(){var a;return g?(a=this.selection.getSel(),!a||!a.rangeCount||a.rangeCount==0):0},_fixNesting:function(a){var b=[],c;a=a.replace(/<(\/)?([^\s>]+)[^>]*?>/g,function(a,d,e){var f;if(d==="/"){if(!b.length)return"";if(e!==b[b.length-1].tag){for(c=b.length-1;c>=0;c--)if(b[c].tag===e){b[c].close=1;break}return""}b.pop(),b.length&&b[b.length-1].close&&(a=a+"</"+b[b.length-1].tag+">",b.pop())}else{if(/^(br|hr|input|meta|img|link|param)$/i.test(e))return a;if(/\/>$/.test(a))return a;b.push({tag:e})}return a});for(c=b.length-1;c>=0;c--)a+="</"+b[c].tag+">";return a}})}(tinymce),function(a){var b=a.each,c,d=!0,e=!1;a.EditorCommands=function(f){function l(a,b,c){var f;return a=a.toLowerCase(),(f=i.exec[a])?(f(a,b,c),d):e}function m(a){var b;return a=a.toLowerCase(),(b=i.state[a])?b(a):-1}function n(a){var b;return a=a.toLowerCase(),(b=i.value[a])?b(a):e}function o(a,c){c=c||"exec",b(a,function(a,d){b(d.toLowerCase().split(","),function(b){i[c][b]=a})})}function p(a,b,d){return b===c&&(b=e),d===c&&(d=null),f.getDoc().execCommand(a,b,d)}function q(a){return f.formatter.match(a)}function r(a,b){f.formatter.toggle(a,b?{value:b}:c)}function s(a){k=h.getBookmark(a)}function t(){h.moveToBookmark(k)}var g=f.dom,h=f.selection,i={state:{},exec:{},value:{}},j=f.settings,k;a.extend(this,{execCommand:l,queryCommandState:m,queryCommandValue:n,addCommands:o}),o({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(b){var c=f.getDoc(),e;try{p(b)}catch(g){e=d}if(e||!c.queryCommandSupported(b))a.isGecko?f.windowManager.confirm(f.getLang("clipboard_msg"),function(a){a&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):f.windowManager.alert(f.getLang("clipboard_no_support"))},unlink:function(a){h.isCollapsed()&&h.select(h.getNode()),p(a),h.collapse(e)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var c=a.substring(7);b("left,center,right,full".split(","),function(a){c!=a&&f.formatter.remove("align"+a)}),r("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){var b,c;p(a),b=g.getParent(h.getNode(),"ol,ul"),b&&(c=b.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(s(),g.split(c,b),t()))},"Bold,Italic,Underline,Strikethrough":function(a){r(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){r(a,c)},FontSize:function(b,c,d){var e,f;d>=1&&d<=7&&(f=a.explode(j.font_size_style_values),e=a.explode(j.font_size_classes),e?d=e[d-1]||d:d=f[d-1]||d),r(b,d)},RemoveFormat:function(a){f.formatter.remove(a)},mceBlockQuote:function(a){r("blockquote")},FormatBlock:function(a,b,c){return r(c||"p")},mceCleanup:function(){var a=h.getBookmark();f.setContent(f.getContent({cleanup:d}),{cleanup:d}),h.moveToBookmark(a)},mceRemoveNode:function(a,b,c){var e=c||h.getNode();e!=f.getBody()&&(s(),f.dom.remove(e,d),t())},mceSelectNodeDepth:function(a,b,c){var d=0;g.getParent(h.getNode(),function(a){if(a.nodeType==1&&d++==c)return h.select(a),e},f.getBody())},mceSelectNode:function(a,b,c){h.select(c)},mceInsertContent:function(a,b,c){h.setContent(c)},mceInsertRawHTML:function(a,b,c){h.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,c))},mceSetContent:function(a,b,c){f.setContent(c)},"Indent,Outdent":function(a){var c,d,e;c=j.indentation,d=/[a-z%]+$/i.exec(c),c=parseInt(c),!m("InsertUnorderedList")&&!m("InsertOrderedList")?b(h.getSelectedBlocks(),function(b){a=="outdent"?(e=Math.max(0,parseInt(b.style.paddingLeft||0)-c),g.setStyle(b,"paddingLeft",e?e+d:"")):g.setStyle(b,"paddingLeft",parseInt(b.style.paddingLeft||0)+c+d)}):p(a)},mceRepaint:function(){var b;if(a.isGecko)try{s(d),h.getSel()&&h.getSel().selectAllChildren(f.getBody()),h.collapse(d),t()}catch(c){}},mceToggleFormat:function(a,b,c){f.formatter.toggle(c)},InsertHorizontalRule:function(){h.setContent("<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(a,b,c){h.setContent(c.replace(/\{\$selection\}/g,h.getContent({format:"text"})))},mceInsertLink:function(c,i,j){var k=g.getParent(h.getNode(),"a");a.is(j,"string")&&(j={href:j}),k?j.href?g.setAttribs(k,j):f.dom.remove(k,d):(p("CreateLink",e,"javascript:mctmp(0);"),b(g.select("a[href=javascript:mctmp(0);]"),function(a){g.setAttribs(a,j)}))},selectAll:function(){var a=g.getRoot(),b=g.createRng();b.setStart(a,0),b.setEnd(a,a.childNodes.length),f.selection.setRng(b)}}),o({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){return q("align"+a.substring(7))},"Bold,Italic,Underline,Strikethrough":function(a){return q(a)},mceBlockQuote:function(){return q("blockquote")},Outdent:function(){var a;if(j.inline_styles){if((a=g.getParent(h.getStart(),g.isBlock))&&parseInt(a.style.paddingLeft)>0)return d;if((a=g.getParent(h.getEnd(),g.isBlock))&&parseInt(a.style.paddingLeft)>0)return d}return m("InsertUnorderedList")||m("InsertOrderedList")||!j.inline_styles&&!!g.getParent(h.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){return g.getParent(h.getNode(),a=="insertunorderedlist"?"UL":"OL")}},"state"),o({"FontSize,FontName":function(a){var b=0,c;if(c=g.getParent(h.getNode(),"span"))a=="fontsize"?b=c.style.fontSize:b=c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value"),j.custom_undo_redo&&o({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}(tinymce),function(a){var b=a.util.Dispatcher;a.UndoManager=function(c){function g(){return a.trim(c.getContent({format:"raw",no_events:1}))}var d,e=0,f=[];return d={typing:0,onAdd:new b(d),onUndo:new b(d),onRedo:new b(d),add:function(a){var b,h=c.settings,i;a=a||{},a.content=g(),i=f[e];if(i&&i.content==a.content)if(e>0||f.length==1)return null;if(h.custom_undo_redo_levels&&f.length>h.custom_undo_redo_levels){for(b=0;b<f.length-1;b++)f[b]=f[b+1];f.length--,e=f.length}return a.bookmark=c.selection.getBookmark(2,!0),e<f.length-1&&(e==0?f=[]:f.length=e+1),f.push(a),e=f.length-1,d.onAdd.dispatch(d,a),c.isNotDirty=0,a},undo:function(){var a,b;return d.typing&&(d.add(),d.typing=0),e>0&&(a=f[--e],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),d.onUndo.dispatch(d,a)),a},redo:function(){var a;return e<f.length-1&&(a=f[++e],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),d.onRedo.dispatch(d,a)),a},clear:function(){f=[],e=d.typing=0},hasUndo:function(){return e>0||d.typing},hasRedo:function(){return e<f.length-1}}}}(tinymce),function(a){function j(a){var b,c,d;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(a.nodeName)&&(b?(c=a.cloneNode(!1),c.appendChild(b),b=c):b=d=a.cloneNode(!1),b.removeAttribute("id"));while(a=a.parentNode);if(b)return{wrapper:b,inner:d}}function k(a,b){var c=b.ownerDocument.createRange();return c.setStart(a.endContainer,a.endOffset),c.setEndAfter(b),c.cloneContents().textContent.length==0}function l(a){return a=a.innerHTML,a=a.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-"),a=a.replace(/<[^>]+>/g,""),a.replace(/[ \u00a0\t\r\n]+/g,"")==""}function m(a,b,c){var d,e;return l(c)?(d=b.getParent(c,"ul,ol"),b.getParent(d.parentNode,"ul,ol")||(b.split(d,c),e=b.create("p",0,'<br _mce_bogus="1" />'),b.replace(e,c),a.select(e,1)),i):h}var b=a.dom.Event,c=a.isIE,d=a.isGecko,e=a.isOpera,f=a.each,g=a.extend,h=!0,i=!1;a.create("tinymce.ForceBlocks",{ForceBlocks:function(a){function g(a,d){e&&(d.content=d.content.replace(b.reOpera,"</"+f+">")),d.content=d.content.replace(b.rePadd,"<"+f+"$1$2$3$4$5$6>Â </"+f+">"),!c&&!e&&d.set?(d.content=d.content.replace(b.reNbsp2BR1,"<"+f+"$1$2><br /></"+f+">"),d.content=d.content.replace(b.reNbsp2BR2,"<"+f+"$1$2><br /></"+f+">")):d.content=d.content.replace(b.reBR2Nbsp,"<"+f+"$1$2>Â </"+f+">")}var b=this,d=a.settings,f;b.editor=a,b.dom=a.dom,f=(d.forced_root_block||"p").toLowerCase(),d.element=f.toUpperCase(),a.onPreInit.add(b.setup,b),b.reOpera=new RegExp("(\\u00a0|&#160;|&nbsp;)</"+f+">","gi"),b.rePadd=new RegExp("<p( )([^>]+)><\\/p>|<p( )([^>]+)\\/>|<p( )([^>]+)>\\s+<\\/p>|<p><\\/p>|<p\\/>|<p>\\s+<\\/p>"
.replace(/p/g,f),"gi"),b.reNbsp2BR1=new RegExp("<p( )([^>]+)>[\\s\\u00a0]+<\\/p>|<p>[\\s\\u00a0]+<\\/p>".replace(/p/g,f),"gi"),b.reNbsp2BR2=new RegExp("<%p()([^>]+)>(&nbsp;|&#160;)<\\/%p>|<%p>(&nbsp;|&#160;)<\\/%p>".replace(/%p/g,f),"gi"),b.reBR2Nbsp=new RegExp("<p( )([^>]+)>\\s*<br \\/>\\s*<\\/p>|<p>\\s*<br \\/>\\s*<\\/p>".replace(/p/g,f),"gi"),a.onBeforeSetContent.add(g),a.onPostProcess.add(g),d.forced_root_block&&(a.onInit.add(b.forceRoots,b),a.onSetContent.add(b.forceRoots,b),a.onBeforeGetContent.add(b.forceRoots,b))},setup:function(){var e=this,g=e.editor,k=g.settings,m=g.dom,n=g.selection;k.forced_root_block&&(g.onBeforeExecCommand.add(e.forceRoots,e),g.onKeyUp.add(e.forceRoots,e),g.onPreProcess.add(e.forceRoots,e)),k.force_br_newlines&&c&&g.onKeyPress.add(function(a,c){var d;if(c.keyCode==13&&n.getNode().nodeName!="LI")return n.setContent('<br id="__" /> ',{format:"raw"}),d=m.get("__"),d.removeAttribute("id"),n.select(d),n.collapse(),b.cancel(c)}),k.force_p_newlines&&(c?(a.addUnload(function(){e._previousFormats=0}),g.onKeyPress.add(function(a,b){e._previousFormats=0,b.keyCode==13&&!b.shiftKey&&a.selection.isCollapsed()&&k.keep_styles&&(e._previousFormats=j(a.selection.getStart()))}),g.onKeyUp.add(function(a,b){if(b.keyCode==13&&!b.shiftKey){var c=a.selection.getStart(),d=e._previousFormats;c.hasChildNodes()||(c=m.getParent(c,m.isBlock),c&&(c.innerHTML="",e._previousFormats?(c.appendChild(d.wrapper),d.inner.innerHTML="ï»¿"):c.innerHTML="ï»¿",n.select(c,1),a.getDoc().execCommand("Delete",!1,null)))}})):g.onKeyPress.add(function(a,c){c.keyCode==13&&!c.shiftKey&&!e.insertPara(c)&&b.cancel(c)}),d&&g.onKeyDown.add(function(a,b){(b.keyCode==8||b.keyCode==46)&&!b.shiftKey&&e.backspaceDelete(b,b.keyCode==8)}));if(a.isWebKit){function o(a){var b=n.getRng(),c,d=m.create("div",null," "),e,f=m.getViewPort(a.getWin()).h;b.insertNode(c=m.create("br")),b.setStartAfter(c),b.setEndAfter(c),n.setRng(b),n.getSel().focusNode==c.previousSibling&&(n.select(m.insertAfter(m.doc.createTextNode("Â "),c)),n.collapse(h)),m.insertAfter(d,c),e=m.getPos(d).y,m.remove(d),e>f&&a.getWin().scrollTo(0,e)}g.onKeyPress.add(function(a,c){c.keyCode==13&&(c.shiftKey||k.force_br_newlines&&!m.getParent(n.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))&&(o(a),b.cancel(c))})}g.onPreProcess.add(function(a,b){f(m.select("p,h1,h2,h3,h4,h5,h6,div",b.node),function(c){l(c)&&f(m.select("span,em,strong,b,i",b.node),function(b){if(!b.hasChildNodes())return b.appendChild(a.getDoc().createTextNode("Â ")),i})})}),c&&k.element!="P"&&(g.onKeyPress.add(function(a,b){e.lastElm=n.getNode().nodeName}),g.onKeyUp.add(function(a,b){var c,d=n.getNode(),f=a.getBody();f.childNodes.length===1&&d.nodeName=="P"?(d=m.rename(d,k.element),n.select(d),n.collapse(),a.nodeChanged()):b.keyCode==13&&!b.shiftKey&&e.lastElm!="P"&&(c=m.getParent(d,"p"),c&&(m.rename(c,k.element),a.nodeChanged()))}))},find:function(a,b,c){var d=this.editor,e=d.getDoc().createTreeWalker(a,4,null,i),f=-1;while(a=e.nextNode()){f++;if(b==0&&a==c)return f;if(b==1&&f==c)return a}return-1},forceRoots:function(a,b){var d=this,a=d.editor,e=a.getBody(),f=a.getDoc(),g=a.selection,h=g.getSel(),i=g.getRng(),j=-2,k,l,m,n,o=-16777215,p,q,r,s,t,u=e.childNodes,v,w,x;for(v=u.length-1;v>=0;v--){p=u[v];if(p.nodeType===1&&p.getAttribute("_mce_type")){q=null;continue}if(p.nodeType===3||!d.dom.isBlock(p)&&p.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(p.nodeName))if(!q){if(p.nodeType!=3||/[^\s]/g.test(p.nodeValue))j==-2&&i&&(c?(i.item&&(n=f.body.createTextRange(),n.moveToElementText(i.item(0)),i=n),n=f.body.createTextRange(),n.moveToElementText(e),n.collapse(1),r=n.move("character",o)*-1,n=i.duplicate(),n.collapse(1),s=n.move("character",o)*-1,n=i.duplicate(),n.collapse(0),t=n.move("character",o)*-1-s,j=s-r,k=t):i.startContainer.nodeType==1&&(w=i.startContainer.childNodes[i.startOffset])&&w.nodeType==1?(x=w.getAttribute("id"),w.setAttribute("id","__mce")):a.dom.getParent(i.startContainer,function(a){return a===e})&&(l=i.startOffset,m=i.endOffset,j=d.find(e,0,i.startContainer),k=d.find(e,0,i.endContainer))),q=a.dom.create(a.settings.forced_root_block),p.parentNode.replaceChild(q,p),q.appendChild(p)}else q.hasChildNodes()?q.insertBefore(p,q.firstChild):q.appendChild(p);else q=null}if(j!=-2)if(!c)q=e.getElementsByTagName(a.settings.element)[0],i=f.createRange(),j!=-1?i.setStart(d.find(e,1,j),l):i.setStart(q,0),k!=-1?i.setEnd(d.find(e,1,k),m):i.setEnd(q,0),h&&(h.removeAllRanges(),h.addRange(i));else try{i=h.createRange(),i.moveToElementText(e),i.collapse(1),i.moveStart("character",j),i.moveEnd("character",k),i.select()}catch(y){}else!c&&(w=a.dom.get("__mce"))&&(x?w.setAttribute("id",x):w.removeAttribute("id"),i=f.createRange(),i.setStartBefore(w),i.setEndBefore(w),g.setRng(i))},getParentBlock:function(a){var b=this.dom;return b.getParent(a,b.isBlock)},insertPara:function(a){function K(a,b){var c=[],d,g,h;a.innerHTML="";if(j.keep_styles){g=b;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(g.nodeName)&&(d=g.cloneNode(i),f.setAttrib(d,"id",""),c.push(d));while(g=g.parentNode)}if(c.length>0){for(h=c.length-1,d=a;h>=0;h--)d=d.appendChild(c[h]);return c[0].innerHTML=e?"&nbsp;":"<br />",c[0]}a.innerHTML=e?"&nbsp;":"<br />"}function L(a){return g.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,i).nextNode()||a}var b=this,c=b.editor,f=c.dom,g=c.getDoc(),j=c.settings,n=c.selection.getSel(),o=n.getRangeAt(0),p=g.body,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=f.getViewPort(c.getWin()),G,H,I;q=g.createRange(),q.setStart(n.anchorNode,n.anchorOffset),q.collapse(h),r=g.createRange(),r.setStart(n.focusNode,n.focusOffset),r.collapse(h),s=q.compareBoundaryPoints(q.START_TO_END,r)<0,t=s?n.anchorNode:n.focusNode,u=s?n.anchorOffset:n.focusOffset,v=s?n.focusNode:n.anchorNode,w=s?n.focusOffset:n.anchorOffset;if(t===v&&/^(TD|TH)$/.test(t.nodeName))return t.firstChild.nodeName=="BR"&&f.remove(t.firstChild),t.childNodes.length==0?(c.dom.add(t,j.element,null,"<br />"),B=c.dom.add(t,j.element,null,"<br />")):(E=t.innerHTML,t.innerHTML="",c.dom.add(t,j.element,null,E),B=c.dom.add(t,j.element,null,"<br />")),o=g.createRange(),o.selectNodeContents(B),o.collapse(1),c.selection.setRng(o),i;t==p&&v==p&&p.firstChild&&c.dom.isBlock(p.firstChild)&&(t=v=t.firstChild,u=w=0,q=g.createRange(),q.setStart(t,0),r=g.createRange(),r.setStart(v,0)),t=t.nodeName=="HTML"?g.body:t,t=t.nodeName=="BODY"?t.firstChild:t,v=v.nodeName=="HTML"?g.body:v,v=v.nodeName=="BODY"?v.firstChild:v,x=b.getParentBlock(t),y=b.getParentBlock(v),z=x?x.nodeName:j.element;if(E=b.dom.getParent(x,"li,pre"))return E.nodeName=="LI"?m(c.selection,b.dom,E):h;x&&(x.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(f.getStyle(x,"position",1)))&&(z=j.element,x=null),y&&(y.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(f.getStyle(x,"position",1)))&&(z=j.element,y=null);if(/(TD|TABLE|TH|CAPTION)/.test(z)||x&&z=="DIV"&&/left|right/gi.test(f.getStyle(x,"float",1)))z=j.element,x=y=null;A=x&&x.nodeName==z?x.cloneNode(0):c.dom.create(z),B=y&&y.nodeName==z?y.cloneNode(0):c.dom.create(z),B.removeAttribute("id"),/^(H[1-6])$/.test(z)&&k(o,x)&&(B=c.dom.create(j.element)),E=C=t;do{if(E==p||E.nodeType==9||b.dom.isBlock(E)||/(TD|TABLE|TH|CAPTION)/.test(E.nodeName))break;C=E}while(E=E.previousSibling?E.previousSibling:E.parentNode);E=D=v;do{if(E==p||E.nodeType==9||b.dom.isBlock(E)||/(TD|TABLE|TH|CAPTION)/.test(E.nodeName))break;D=E}while(E=E.nextSibling?E.nextSibling:E.parentNode);C.nodeName==z?q.setStart(C,0):q.setStartBefore(C),q.setEnd(t,u),A.appendChild(q.cloneContents()||g.createTextNode(""));try{r.setEndAfter(D)}catch(J){}return r.setStart(v,w),B.appendChild(r.cloneContents()||g.createTextNode("")),o=g.createRange(),!C.previousSibling&&C.parentNode.nodeName==z?o.setStartBefore(C.parentNode):q.startContainer.nodeName==z&&q.startOffset==0?o.setStartBefore(q.startContainer):o.setStart(q.startContainer,q.startOffset),!D.nextSibling&&D.parentNode.nodeName==z?o.setEndAfter(D.parentNode):o.setEnd(r.endContainer,r.endOffset),o.deleteContents(),e&&c.getWin().scrollTo(0,F.y),A.firstChild&&A.firstChild.nodeName==z&&(A.innerHTML=A.firstChild.innerHTML),B.firstChild&&B.firstChild.nodeName==z&&(B.innerHTML=B.firstChild.innerHTML),l(A)&&(A.innerHTML="<br />"),l(B)&&(I=K(B,v)),e&&parseFloat(opera.version())<9.5?(o.insertNode(A),o.insertNode(B)):(o.insertNode(B),o.insertNode(A)),B.normalize(),A.normalize(),o=g.createRange(),o.selectNodeContents(d?L(I||B):I||B),o.collapse(1),n.removeAllRanges(),n.addRange(o),G=c.dom.getPos(B).y,H=B.clientHeight,(G<F.y||G+H>F.y+F.h)&&c.getWin().scrollTo(0,G<F.y?G:G-F.h+25),i},backspaceDelete:function(c,d){var e=this,f=e.editor,g=f.getBody(),h=f.dom,j,k=f.selection,l=k.getRng(),m=l.startContainer,j,n,o,p;if(!d&&l.collapsed&&m.nodeType==1&&l.startOffset==m.childNodes.length){p=new a.dom.TreeWalker(m.lastChild,m);for(j=m.lastChild;j;j=p.prev())if(j.nodeType==3){l.setStart(j,j.nodeValue.length),l.collapse(!0),k.setRng(l);return}}if(m&&f.dom.isBlock(m)&&!/^(TD|TH)$/.test(m.nodeName)&&d)if(m.childNodes.length==0||m.childNodes.length==1&&m.firstChild.nodeName=="BR"){j=m;while((j=j.previousSibling)&&!f.dom.isBlock(j));if(j){if(m!=g.firstChild){n=f.dom.doc.createTreeWalker(j,NodeFilter.SHOW_TEXT,null,i);while(o=n.nextNode())j=o;l=f.getDoc().createRange(),l.setStart(j,j.nodeValue?j.nodeValue.length:0),l.setEnd(j,j.nodeValue?j.nodeValue.length:0),k.setRng(l),f.dom.remove(m)}return b.cancel(c)}}}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.each,e=a.extend;a.create("tinymce.ControlManager",{ControlManager:function(b,c){var e=this,f;c=c||{},e.editor=b,e.controls={},e.onAdd=new a.util.Dispatcher(e),e.onPostRender=new a.util.Dispatcher(e),e.prefix=c.prefix||b.id+"_",e._cls={},e.onPostRender.add(function(){d(e.controls,function(a){a.postRender()})})},get:function(a){return this.controls[this.prefix+a]||this.controls[a]},setActive:function(a,b){var c=null;return(c=this.get(a))&&c.setActive(b),c},setDisabled:function(a,b){var c=null;return(c=this.get(a))&&c.setDisabled(b),c},add:function(a){var b=this;return a&&(b.controls[a.id]=a,b.onAdd.dispatch(a,b)),a},createControl:function(a){var b,c=this,e=c.editor;d(e.plugins,function(d){if(d.createControl){b=d.createControl(a,c);if(b)return!1}});switch(a){case"|":case"separator":return c.createSeparator()}return!b&&e.buttons&&(b=e.buttons[a])?c.createButton(a,b):c.add(b)},createDropMenu:function(b,c,d){var f=this,g=f.editor,h,i,j,k;c=e({"class":"mceDropDown",constrain:g.settings.constrain_menus},c),c["class"]=c["class"]+" "+g.getParam("skin")+"Skin";if(j=g.getParam("skin_variant"))c["class"]+=" "+g.getParam("skin")+"Skin"+j.substring(0,1).toUpperCase()+j.substring(1);return b=f.prefix+b,k=d||f._cls.dropmenu||a.ui.DropMenu,h=f.controls[b]=new k(b,c),h.onAddItem.add(function(a,b){var c=b.settings;c.title=g.getLang(c.title,c.title),c.onclick||(c.onclick=function(a){c.cmd&&g.execCommand(c.cmd,c.ui||!1,c.value)})}),g.onRemove.add(function(){h.destroy()}),a.isIE&&(h.onShowMenu.add(function(){g.focus(),i=g.selection.getBookmark(1)}),h.onHideMenu.add(function(){i&&(g.selection.moveToBookmark(i),i=0)})),f.add(h)},createListBox:function(b,d,f){var g=this,h=g.editor,i,j,k;return g.get(b)?null:(d.title=h.translate(d.title),d.scope=d.scope||h,d.onselect||(d.onselect=function(a){h.execCommand(d.cmd,d.ui||!1,a||d.value)}),d=e({title:d.title,"class":"mce_"+b,scope:d.scope,control_manager:g},d),b=g.prefix+b,h.settings.use_native_selects?j=new a.ui.NativeListBox(b,d):(k=f||g._cls.listbox||a.ui.ListBox,j=new k(b,d)),g.controls[b]=j,a.isWebKit&&j.onPostRender.add(function(a,b){c.add(b,"mousedown",function(){h.bookmark=h.selection.getBookmark(1)}),c.add(b,"focus",function(){h.selection.moveToBookmark(h.bookmark),h.bookmark=null})}),j.hideMenu&&h.onMouseDown.add(j.hideMenu,j),g.add(j))},createButton:function(b,c,d){var f=this,g=f.editor,h,i,j;return f.get(b)?null:(c.title=g.translate(c.title),c.label=g.translate(c.label),c.scope=c.scope||g,!c.onclick&&!c.menu_button&&(c.onclick=function(){g.execCommand(c.cmd,c.ui||!1,c.value)}),c=e({title:c.title,"class":"mce_"+b,unavailable_prefix:g.getLang("unavailable",""),scope:c.scope,control_manager:f},c),b=f.prefix+b,c.menu_button?(j=d||f._cls.menubutton||a.ui.MenuButton,i=new j(b,c),g.onMouseDown.add(i.hideMenu,i)):(j=f._cls.button||a.ui.Button,i=new j(b,c)),f.add(i))},createMenuButton:function(a,b,c){return b=b||{},b.menu_button=1,this.createButton(a,b,c)},createSplitButton:function(b,c,d){var f=this,g=f.editor,h,i,j;return f.get(b)?null:(c.title=g.translate(c.title),c.scope=c.scope||g,c.onclick||(c.onclick=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c.onselect||(c.onselect=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=e({title:c.title,"class":"mce_"+b,scope:c.scope,control_manager:f},c),b=f.prefix+b,j=d||f._cls.splitbutton||a.ui.SplitButton,i=f.add(new j(b,c)),g.onMouseDown.add(i.hideMenu,i),i)},createColorSplitButton:function(b,c,d){var f=this,g=f.editor,h,i,j,k;return f.get(b)?null:(c.title=g.translate(c.title),c.scope=c.scope||g,c.onclick||(c.onclick=function(b){a.isIE&&(k=g.selection.getBookmark(1)),g.execCommand(c.cmd,c.ui||!1,b||c.value)}),c.onselect||(c.onselect=function(a){g.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=e({title:c.title,"class":"mce_"+b,menu_class:g.getParam("skin")+"Skin",scope:c.scope,more_colors_title:g.getLang("more_colors")},c),b=f.prefix+b,j=d||f._cls.colorsplitbutton||a.ui.ColorSplitButton,i=new j(b,c),g.onMouseDown.add(i.hideMenu,i),g.onRemove.add(function(){i.destroy()}),a.isIE&&(i.onShowMenu.add(function(){g.focus(),k=g.selection.getBookmark(1)}),i.onHideMenu.add(function(){k&&(g.selection.moveToBookmark(k),k=0)})),f.add(i))},createToolbar:function(b,c,d){var e,f=this,g;return b=f.prefix+b,g=d||f._cls.toolbar||a.ui.Toolbar,e=new g(b,c),f.get(b)?null:f.add(e)},createSeparator:function(b){var c=b||this._cls.separator||a.ui.Separator;return new c},setControlType:function(a,b){return this._cls[a.toLowerCase()]=b},destroy:function(){d(this.controls,function(a){a.destroy()}),this.controls=null}})}(tinymce),function(a){var b=a.util.Dispatcher,c=a.each,d=a.isIE,e=a.isOpera;a.create("tinymce.WindowManager",{WindowManager:function(a){var c=this;c.editor=a,c.onOpen=new b(c),c.onClose=new b(c),c.params={},c.features={}},open:function(b,f){var g=this,h="",i,j,k=g.editor.settings.dialog_type=="modal",l,m,n,o=a.DOM.getViewPort(),p;b=b||{},f=f||{},m=e?o.w:screen.width,n=e?o.h:screen.height,b.name=b.name||"mc_"+(new Date).getTime(),b.width=parseInt(b.width||320),b.height=parseInt(b.height||240),b.resizable=!0,b.left=b.left||parseInt(m/2)-b.width/2,b.top=b.top||parseInt(n/2)-b.height/2,f.inline=!1,f.mce_width=b.width,f.mce_height=b.height,f.mce_auto_focus=b.auto_focus,k&&d&&(b.center=!0,b.help=!1,b.dialogWidth=b.width+"px",b.dialogHeight=b.height+"px",b.scroll=b.scrollbars||!1),c(b,function(b,c){a.is(b,"boolean")&&(b=b?"yes":"no"),/^(name|url)$/.test(c)||(d&&k?h+=(h?";":"")+c+":"+b:h+=(h?",":"")+c+"="+b)}),g.features=b,g.params=f,g.onOpen.dispatch(g,b,f),p=b.url||b.file,p=a._addVer(p);try{d&&k?(l=1,window.showModalDialog(p,window,h)):l=window.open(p,b.name,h)}catch(q){}l||alert(g.editor.getLang("popup_blocked"))},close:function(a){a.close(),this.onClose.dispatch(this)},createInstance:function(b,c,d,e,f,g){var h=a.resolve(b);return new h(c,d,e,f,g)},confirm:function(a,b,c,d){d=d||window,b.call(c||this,d.confirm(this._decode(this.editor.getLang(a,a))))},alert:function(a,b,c,d){var e=this;d=d||window,d.alert(e._decode(e.editor.getLang(a,a))),b&&b.call(c||e)},resizeBy:function(a,b,c){c.resizeBy(a,b)},_decode:function(b){return a.DOM.decode(b).replace(/\\n/g,"\n")}})}(tinymce),function(a){function b(){function e(b,c,d,e){typeof c=="string"&&(c=[c]),a.each(c,function(a){b[a.toLowerCase()]={func:d,scope:e}})}var b={},c={},d={};a.extend(this,{add:function(a,c,d){e(b,a,c,d)},addQueryStateHandler:function(a,b,d){e(c,a,b,d)},addQueryValueHandler:function(a,b,c){e(d,a,b,c)},execCommand:function(a,c,d,e,f){if(c=b[c.toLowerCase()])if(c.func.call(a||c.scope,d,e,f)!==!1)return!0},queryCommandValue:function(){if(cmd=d[cmd.toLowerCase()])return cmd.func.call(scope||cmd.scope,ui,value,args)},queryCommandState:function(){if(cmd=c[cmd.toLowerCase()])return cmd.func.call(scope||cmd.scope,ui,value,args)}})}a.GlobalCommands=new b}(tinymce),function(a){a.Formatter=function(b){function s(a){return a instanceof Array}function t(a,b){return e.getParents(a,b,e.getRoot())}function u(a){return a.nodeType===1&&(a.face==="mceinline"||a.style.fontFamily==="mceinline")}function v(a){return a?c[a]:c}function w(a,b){a&&(typeof a!="string"?d(a,function(a,b){w(b,a)}):(b=b.length?b:[b],d(b,function(a){a.deep===q&&(a.deep=!a.selector),a.split===q&&(a.split=!a.selector||a.inline),a.remove===q&&a.selector&&!a.inline&&(a.remove="none"),a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0),typeof a.classes=="string"&&(a.classes=a.classes.split(/\s+/))}),c[a]=b))}function x(c,j,k){function s(a){var b=a.startContainer,c=a.startOffset,d,e;if(b.nodeType==1||b.nodeValue===""){b=b.nodeType==1?b.childNodes[c]:b;if(b){d=new g(b,b.parentNode);for(e=d.current();e;e=d.next())if(e.nodeType==3&&!I(e)){a.setStart(e,0);break}}}return a}function t(a,b){b=b||m,a&&(d(b.styles,function(b,c){e.setStyle(a,c,H(b,j))}),d(b.attributes,function(b,c){e.setAttrib(a,c,H(b,j))}),d(b.classes,function(b){b=H(b,j),e.hasClass(a,b)||e.addClass(a,b)}))}function w(b){var f=[],g,k;g=m.inline||m.block,k=e.create(g),t(k),h.walk(b,function(b){function n(b){var p=b.nodeName.toLowerCase(),q=b.parentNode.nodeName.toLowerCase(),r;if(F(p,"br")){h=0,m.block&&e.remove(b);return}if(m.wrapper&&A(b,c,j)){h=0;return}if(m.block&&!m.wrapper&&Q(p)){b=e.rename(b,g),t(b),f.push(b),h=0;return}if(m.selector){d(l,function(a){e.is(b,a.selector)&&!u(b)&&(t(b,a),r=!0)});if(!m.inline||r){h=0;return}}i(g,p)&&i(q,g)?(h||(h=k.cloneNode(o),b.parentNode.insertBefore(h,b),f.push(h)),h.appendChild(b)):(h=0,d(a.grep(b.childNodes),n),h=0)}var h;d(b,n)}),d(f,function(a){function f(a){var b=0;return d(a.childNodes,function(a){!I(a)&&!O(a)&&b++}),b}function g(a){var b,c;return d(a.childNodes,function(a){if(a.nodeType==1&&!O(a)&&!u(a))return b=a,o}),b&&E(b,m)&&(c=b.cloneNode(o),t(c),e.replace(c,a,p),e.remove(b,1)),c||a}var b;b=f(a);if(b===0){e.remove(a,1);return}if(m.inline||m.wrapper){!m.exact&&b===1&&(a=g(a)),d(l,function(b){d(e.select(b.inline,a),function(a){L(b,j,a,b.exact?a:null)})});if(A(a.parentNode,c,j))return e.remove(a,1),a=0,p;m.merge_with_parents&&e.getParent(a.parentNode,function(b){if(A(b,c,j))return e.remove(a,1),a=0,p}),a&&(a=P(N(a),a),a=P(a,N(a,p)))}})}var l=v(c),m=l[0],n,q,r;m&&(k?(q=e.createRng(),q.setStartBefore(k),q.setEndAfter(k),w(K(q,l))):!f.isCollapsed()||!m.inline?(n=f.getBookmark(),w(K(f.getRng(p),l)),f.moveToBookmark(n),f.setRng(s(f.getRng(p))),b.nodeChanged()):S("apply",c,j))}function y(c,i,k){function w(a){var b=a.startContainer,c=a.startOffset,d,h,i,j;b.nodeType==3&&c>=b.nodeValue.length-1&&(b=b.parentNode,c=l(b)+1);if(b.nodeType==1){i=b.childNodes,b=i[Math.min(c,i.length-1)],d=new g(b),c>i.length-1&&d.next();for(h=d.current();h;h=d.next())if(h.nodeType==3&&!I(h)){j=e.create("a",null,m),h.parentNode.insertBefore(j,h),a.setStart(h,0),f.setRng(a),e.remove(j);return}}}function x(b){var c,d,e;c=a.grep(b.childNodes);for(d=0,e=n.length;d<e;d++)if(L(n[d],i,b,b))break;if(q.deep)for(d=0,e=c.length;d<e;d++)x(c[d])}function y(a){var b;return d(t(a.parentNode).reverse(),function(a){var d;!b&&a.id!="_start"&&a.id!="_end"&&(d=A(a,c,i),d&&d.split!==!1&&(b=a))}),b}function z(a,b,c,d){var f,g,h,k,l,m;if(a){m=a.parentNode;for(f=b.parentNode;f&&f!=m;f=f.parentNode){g=f.cloneNode(o);for(l=0;l<n.length;l++)if(L(n[l],i,g,g)){g=0;break}g&&(h&&g.appendChild(h),k||(k=g),h=g)}d&&(!q.mixed||!j(a))&&(b=e.split(a,b)),h&&(c.parentNode.insertBefore(h,c),k.appendChild(c))}return b}function C(a){return z(y(a),a,a,!0)}function D(a){var b=e.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return O(c)&&(c=c[a?"firstChild":"lastChild"]),e.remove(b,!0),c}function E(a){var b,c;a=K(a,n,p),q.split&&(b=R(a,p),c=R(a),b!=c?(b=J(b,"span",{id:"_start",_mce_type:"bookmark"}),c=J(c,"span",{id:"_end",_mce_type:"bookmark"}),C(b),C(c),b=D(p),c=D()):b=c=C(b),a.startContainer=b.parentNode,a.startOffset=l(b),a.endContainer=c.parentNode,a.endOffset=l(c)+1),h.walk(a,function(a){d(a,function(a){x(a)})})}var n=v(c),q=n[0],r,s,u;if(k){u=e.createRng(),u.setStartBefore(k),u.setEndAfter(k),E(u);return}!f.isCollapsed()||!q.inline?(r=f.getBookmark(),E(f.getRng(p)),f.moveToBookmark(r),B(c,i,f.getStart())&&w(f.getRng(!0)),b.nodeChanged()):S("remove",c,i)}function z(a,b,c){B(a,b,c)?y(a,b,c):x(a,b,c)}function A(a,b,c,d){function j(a,b,f){var g,h,i=b[f],j;if(i)if(i.length===q){for(g in i)if(i.hasOwnProperty(g)){f==="attributes"?h=e.getAttrib(a,g):h=G(a,g);if(d&&!h&&!b.exact)return;if((!d||b.exact)&&!F(h,H(i[g],c)))return}}else for(j=0;j<i.length;j++)if(f==="attributes"?e.getAttrib(a,i[j]):G(a,i[j]))return b;return b}var f=v(b),g,h,i;if(f&&a)for(h=0;h<f.length;h++){g=f[h];if(E(a,g)&&j(a,g,"attributes")&&j(a,g,"styles")){if(i=g.classes)for(h=0;h<i.length;h++)if(!e.hasClass(a,i[h]))return;return g}}}function B(a,b,c){function h(c){return c=e.getParent(c,function(c){return!!A(c,a,b,!0)}),A(c,a,b)}var d,g;if(c)return h(c);if(f.isCollapsed()){for(g=r.apply.length-1;g>=0;g--)if(r.apply[g].name==a)return!0;for(g=r.remove.length-1;g>=0;g--)if(r.remove[g].name==a)return!1;return h(f.getNode())}return c=f.getNode(),h(c)?p:(d=f.getStart(),d!=c&&h(d)?p:o)}function C(a,b){var c,d=[],g={},h,i,j;if(f.isCollapsed()){for(i=0;i<a.length;i++)for(h=r.remove.length-1;h>=0;h--){j=a[i];if(r.remove[h].name==j){g[j]=!0;break}}for(h=r.apply.length-1;h>=0;h--)for(i=0;i<a.length;i++)j=a[i],!g[j]&&r.apply[h].name==j&&(g[j]=!0,d.push(j))}return c=f.getStart(),e.getParent(c,function(c){var e,f;for(e=0;e<a.length;e++)f=a[e],!g[f]&&A(c,f,b)&&(g[f]=!0,d.push(f))}),d}function D(a){var b=v(a),c,d,g,h,i;if(b){c=f.getStart(),d=t(c);for(h=b.length-1;h>=0;h--){i=b[h].selector;if(!i)return p;for(g=d.length-1;g>=0;g--)if(e.is(d[g],i))return p}}return o}function E(a,b){if(F(a,b.inline))return p;if(F(a,b.block))return p;if(b.selector)return e.is(a,b.selector)}function F(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()==b.toLowerCase()}function G(a,b){var c=e.getStyle(a,b);if(b=="color"||b=="backgroundColor")c=e.toHex(c);return b=="fontWeight"&&c==700&&(c="bold"),""+c}function H(a,b){return typeof a!="string"?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a}function I(a){return a&&a.nodeType===3&&/^([\s\r\n]+|)$/.test(a.nodeValue)}function J(a,b,c){var d=e.create(b,c);return a.parentNode.insertBefore(d,a),d.appendChild(a),d}function K(a,b,c){function m(a,c,d,f){var g,h;f=f||e.getRoot();for(;;){g=a.parentNode;if(g==f||!b[0].block_expand&&j(g))return a;for(i=g[c];i&&i!=a;i=i[d]){if(i.nodeType==1&&!O(i))return a;if(i.nodeType==3&&!I(i))return a}a=a.parentNode}return a}var d=a.startContainer,f=a.startOffset,g=a.endContainer,h=a.endOffset,i,k;d.nodeType==1&&d.hasChildNodes()&&(k=d.childNodes.length-1,d=d.childNodes[f>k?k:f],d.nodeType==3&&(f=0)),g.nodeType==1&&g.hasChildNodes()&&(k=g.childNodes.length-1,g=g.childNodes[h>k?k:h-1],g.nodeType==3&&(h=g.nodeValue.length)),O(d.parentNode)&&(d=d.parentNode),O(d)&&(d=d.nextSibling||d),O(g.parentNode)&&(g=g.parentNode),O(g)&&(g=g.previousSibling||g);if(b[0].inline||b[0].block_expand)d=m(d,"firstChild","nextSibling"),g=m(g,"lastChild","previousSibling");if(b[0].selector&&b[0].expand!==o&&!b[0].inline){function n(a,c){var d,f,g;a.nodeType==3&&a.nodeValue.length==0&&a[c]&&(a=a[c]),d=t(a);for(f=0;f<d.length;f++)for(g=0;g<b.length;g++)if(e.is(d[f],b[g].selector))return d[f];return a}d=n(d,"previousSibling"),g=n(g,"nextSibling")}if(b[0].block||b[0].selector){function p(a,c,d){var f;b[0].wrapper||(f=e.getParent(a,b[0].block)),f||(f=e.getParent(a.nodeType==3?a.parentNode:a,j)),f&&b[0].wrapper&&(f=t(f,"ul,ol").reverse()[0]||f);if(!f){f=a;while(f[c]&&!j(f[c])){f=f[c];if(F(f,"br"))break}}return f||a}d=p(d,"previousSibling"),g=p(g,"nextSibling"),b[0].block&&(j(d)||(d=m(d,"firstChild","nextSibling")),j(g)||(g=m(g,"lastChild","previousSibling")))}return d.nodeType==1&&(f=l(d),d=d.parentNode),g.nodeType==1&&(h=l(g)+1,g=g.parentNode),{startContainer:d,startOffset:f,endContainer:g,endOffset:h}}function L(a,b,c,f){var g,h,i;if(!E(c,a))return o;if(a.remove!="all"){d(a.styles,function(a,d){a=H(a,b),typeof d=="number"&&(d=a,f=0),(!f||F(G(f,d),a))&&e.setStyle(c,d,""),i=1}),i&&e.getAttrib(c,"style")==""&&(c.removeAttribute("style"),c.removeAttribute("_mce_style")),d(a.attributes,function(a,g){var h;a=H(a,b),typeof g=="number"&&(g=a,f=0);if(!f||F(e.getAttrib(f,g),a)){if(g=="class"){a=e.getAttrib(c,g);if(a){h="",d(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(h+=(h?" ":"")+a)});if(h){e.setAttrib(c,g,h);return}}}g=="class"&&c.removeAttribute("className"),n.test(g)&&c.removeAttribute("_mce_"+g),c.removeAttribute(g)}}),d(a.classes,function(a){a=H(a,b),(!f||e.hasClass(f,a))&&e.removeClass(c,a)}),h=e.getAttribs(c);for(g=0;g<h.length;g++)if(h[g].nodeName.indexOf("_")!==0)return o}if(a.remove!="none")return M(c,a),p}function M(b,c){var f=b.parentNode,g;if(c.block)if(!k){function h(a,b,c){return a=N(a,b,c),!a||a.nodeName=="BR"||j(a)}j(b)&&!j(f)&&(!h(b,o)&&!h(b.firstChild,p,1)&&b.insertBefore(e.create("br"),b.firstChild),!h(b,p)&&!h(b.lastChild,o,1)&&b.appendChild(e.create("br")))}else f==e.getRoot()&&(!c.list_block||!F(b,c.list_block))&&d(a.grep(b.childNodes),function(a){i(k,a.nodeName.toLowerCase())?g?g.appendChild(a):g=J(a,k):g=0});if(c.selector&&c.inline&&!F(c.inline,b))return;e.remove(b,1)}function N(a,b,c){if(a){b=b?"nextSibling":"previousSibling";for(a=c?a:a[b];a;a=a[b])if(a.nodeType==1||!I(a))return a}}function O(a){return a&&a.nodeType==1&&a.getAttribute("_mce_type")=="bookmark"}function P(b,c){function i(a,b){function c(a){var b={};return d(e.getAttribs(a),function(c){var d=c.nodeName.toLowerCase();d.indexOf("_")!==0&&d!=="style"&&(b[d]=e.getAttrib(a,d))}),b}function f(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if(c===q)return o;if(a[d]!=c)return o;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return o;return p}return a.nodeName!=b.nodeName?o:f(c(a),c(b))?f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(b,"style")))?p:o:o}var f,g,h;if(b&&c){function j(a,b){for(g=a;g;g=g[b]){if(g.nodeType==3&&!I(g))return a;if(g.nodeType==1&&!O(g))return g}return a}b=j(b,"previousSibling"),c=j(c,"nextSibling");if(i(b,c)){for(g=b.nextSibling;g&&g!=c;)h=g,g=g.nextSibling,b.appendChild(h);return e.remove(c),d(a.grep(c.childNodes),function(a){b.appendChild(a)}),b}}return c}function Q(a){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(a)}function R(a,b){var c,d,e;return c=a[b?"startContainer":"endContainer"],d=a[b?"startOffset":"endOffset"],c.nodeType==1&&(e=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>e?e:d]),c}function S(c,g,h){function l(){return r.apply.length||r.remove.length}function m(){r.apply=[],r.remove=[]}function n(a){d(r.apply.reverse(),function(b){x(b.name,b.vars,a)}),d(r.remove.reverse(),function(b){y(b.name,b.vars,a)}),e.remove(a,1),m()}var i,j=r[c],k=r[c=="apply"?"remove":"apply"];for(i=j.length-1;i>=0;i--)if(j[i].name==g)return;j.push({name:g,vars:h});for(i=k.length-1;i>=0;i--)k[i].name==g&&k.splice(i,1);l()&&(b.getDoc().execCommand("FontName",!1,"mceinline"),r.lastRng=f.getRng(),d(e.select("font,span"),function(a){var c;u(a)&&(c=f.getBookmark(),n(a),f.moveToBookmark(c),b.nodeChanged())}),!r.isListening&&l()&&(r.isListening=!0,d("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(c){b[c].addToTop(function(b,c){l()&&!a.dom.RangeUtils.compareRanges(r.lastRng,f.getRng())&&(d(e.select("font,span"),function(a){var c,d;u(a)&&(c=a.firstChild,c?(n(a),d=e.createRng(),d.setStart(c,c.nodeValue.length),d.setEnd(c,c.nodeValue.length),f.setRng(d),b.nodeChanged()):e.remove(a))}),(c.type=="keyup"||c.type=="mouseup")&&m())})})))}var c={},d=a.each,e=b.dom,f=b.selection,g=a.dom.TreeWalker,h=new a.dom.RangeUtils(e),i=b.schema.isValid,j=e.isBlock,k=b.settings.forced_root_block,l=e.nodeIndex,m="ï»¿",n=/^(src|href|style)$/,o=!1,p=!0,q,r={apply:[],remove:[]};a.extend(this,{get:v,register:w,apply:x,remove:y,toggle:z,match:B,matchAll:C,matchNode:A,canApply:D})}}(tinymce),tinymce.onAddEditor.add(function(a,b){var c,d,e,f=b.settings;if(f.inline_styles){d=a.explode(f.font_size_style_values);function g(a,b){e.replace(e.create("span",{style:b}),a,1)}c={font:function(a,b){g(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:d[parseInt(b.size)-1]})},u:function(a,b){g(b,{textDecoration:"underline"})},strike:function(a,b){g(b,{textDecoration:"line-through"})}};function h(d,g){e=d.dom,f.convert_fonts_to_spans&&a.each(e.select("font,u,strike",g.node),function(a){c[a.nodeName.toLowerCase()](b.dom,a)})}b.onPreProcess.add(h),b.onInit.add(function(){b.selection.onSetContent.add(h)})}});var TinyMCE_EditableSelects={editSelectElm:null,init:function(){var a=document.getElementsByTagName("select"),b,c=document,d;for(b=0;b<a.length;b++)a[b].className.indexOf("mceEditableSelect")!=-1&&(d=new Option("(value)","__mce_add_custom__"),d.className="mceAddSelectValue",a[b].options[a[b].options.length]=d,a[b].onchange=TinyMCE_EditableSelects.onChangeEditableSelect)},onChangeEditableSelect:function(a){var b=document,c,d=window.event?window.event.srcElement:a.target;d.options[d.selectedIndex].value=="__mce_add_custom__"&&(c=b.createElement("input"),c.id=d.id+"_custom",c.name=d.name+"_custom",c.type="text",c.style.width=d.offsetWidth+"px",d.parentNode.insertBefore(c,d),d.style.display="none",c.focus(),c.onblur=TinyMCE_EditableSelects.onBlurEditableSelectInput,c.onkeydown=TinyMCE_EditableSelects.onKeyDown,TinyMCE_EditableSelects.editSelectElm=d)},onBlurEditableSelectInput:function(){var a=TinyMCE_EditableSelects.editSelectElm;a&&(a.previousSibling.value!=""?(addSelectValue(document.forms[0],a.id,a.previousSibling.value,a.previousSibling.value),selectByValue(document.forms[0],a.id,a.previousSibling.value)):selectByValue(document.forms[0],a.id,""),a.style.display="inline",a.parentNode.removeChild(a.previousSibling),TinyMCE_EditableSelects.editSelectElm=null)},onKeyDown:function(a){a=a||window.event,a.keyCode==13&&TinyMCE_EditableSelects.onBlurEditableSelectInput()}},themeBaseURL=tinyMCEPopup.editor.baseURI.toAbsolute("themes/"+tinyMCEPopup.getParam("theme"));MCTabs.prototype.init=function(a){this.settings=a},MCTabs.prototype.getParam=function(a,b){var c=null;return c=typeof this.settings[a]=="undefined"?b:this.settings[a],c=="true"||c=="false"?c=="true":c},MCTabs.prototype.displayTab=function(a,b){var c,d,e,f,g,h,i;c=document.getElementById(b),d=c?c.parentNode:null,e=document.getElementById(a),f=e?e.parentNode:null,g=this.getParam("selection_class","current");if(e&&f){h=f.childNodes;for(i=0;i<h.length;i++)h[i].nodeName=="LI"&&(h[i].className="");e.className="current"}if(c&&d){h=d.childNodes;for(i=0;i<h.length;i++)h[i].nodeName=="DIV"&&(h[i].className="panel");c.className="current"}},MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;return(a=b.lastIndexOf("#"))!=-1?b.substring(a+1):""};var mcTabs=new MCTabs,Validator={isEmail:function(a){return this.test(a,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},isAbsUrl:function(a){return this.test(a,"^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\.]+\\/?.*$")},isSize:function(a){return this.test(a,"^[0-9]+(%|in|cm|mm|em|ex|pt|pc|px)?$")},isId:function(a){return this.test(a,"^[A-Za-z_]([A-Za-z0-9_])*$")},isEmpty:function(a){var b,c;if(a.nodeName=="SELECT"&&a.selectedIndex<1)return!0;if(a.type=="checkbox"&&!a.checked)return!0;if(a.type=="radio"){for(c=0,b=a.form.elements;c<b.length;c++)if(b[c].type=="radio"&&b[c].name==a.name&&b[c].checked)return!1;return!0}return(new RegExp("^\\s*$")).test(a.nodeType==1?a.value:a)},isNumber:function(a,b){return!isNaN(a.nodeType==1?a.value:a)&&(!b||!this.test(a,"^-?[0-9]*\\.[0-9]*$"))},test:function(a,b){return a=a.nodeType==1?a.value:a,a==""||(new RegExp(b)).test(a)}},AutoValidator={settings:{id_cls:"id",int_cls:"int",url_cls:"url",number_cls:"number",email_cls:"email",size_cls:"size",required_cls:"required",invalid_cls:"invalid",min_cls:"min",max_cls:"max"},init:function(a){var b;for(b in a)this.settings[b]=a[b]},validate:function(a){var b,c,d=this.settings,e=0;c=this.tags(a,"label");for(b=0;b<c.length;b++)this.removeClass(c[b],d.invalid_cls);return e+=this.validateElms(a,"input"),e+=this.validateElms(a,"select"),e+=this.validateElms(a,"textarea"),e==3},invalidate:function(a){this.mark(a.form,a)},reset:function(a){var b=["label","input","select","textarea"],c,d,e,f=this.settings;if(a==null)return;for(c=0;c<b.length;c++){e=this.tags(a.form?a.form:a,b[c]);for(d=0;d<e.length;d++)this.removeClass(e[d],f
.invalid_cls)}},validateElms:function(a,b){var c,d,e,f=this.settings,g=!0,h=Validator,i;c=this.tags(a,b);for(d=0;d<c.length;d++){e=c[d],this.removeClass(e,f.invalid_cls),this.hasClass(e,f.required_cls)&&h.isEmpty(e)&&(g=this.mark(a,e)),this.hasClass(e,f.number_cls)&&!h.isNumber(e)&&(g=this.mark(a,e)),this.hasClass(e,f.int_cls)&&!h.isNumber(e,!0)&&(g=this.mark(a,e)),this.hasClass(e,f.url_cls)&&!h.isAbsUrl(e)&&(g=this.mark(a,e)),this.hasClass(e,f.email_cls)&&!h.isEmail(e)&&(g=this.mark(a,e)),this.hasClass(e,f.size_cls)&&!h.isSize(e)&&(g=this.mark(a,e)),this.hasClass(e,f.id_cls)&&!h.isId(e)&&(g=this.mark(a,e));if(this.hasClass(e,f.min_cls,!0)){i=this.getNum(e,f.min_cls);if(isNaN(i)||parseInt(e.value)<parseInt(i))g=this.mark(a,e)}if(this.hasClass(e,f.max_cls,!0)){i=this.getNum(e,f.max_cls);if(isNaN(i)||parseInt(e.value)>parseInt(i))g=this.mark(a,e)}}return g},hasClass:function(a,b,c){return(new RegExp("\\b"+b+(c?"[0-9]+":"")+"\\b","g")).test(a.className)},getNum:function(a,b){return b=a.className.match(new RegExp("\\b"+b+"([0-9]+)\\b","g"))[0],b=b.replace(/[^0-9]/g,""),b},addClass:function(a,b,c){var d=this.removeClass(a,b);a.className=c?b+(d!=""?" "+d:""):(d!=""?d+" ":"")+b},removeClass:function(a,b){return b=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," "),a.className=b!=" "?b:""},tags:function(a,b){return a.getElementsByTagName(b)},mark:function(a,b){var c=this.settings;return this.addClass(b,c.invalid_cls),this.markLabels(a,b,c.invalid_cls),!1},markLabels:function(a,b,c){var d,e;d=this.tags(a,"label");for(e=0;e<d.length;e++)(d[e].getAttribute("for")==b.id||d[e].htmlFor==b.id)&&this.addClass(d[e],c);return null}},Upload={files_queued:0,file_dialog_complete:function(a,b){b>0&&(Upload.files_queued+=b,$("#upload").removeClass("disabled").attr("disabled","").text("Upload "+Upload.files_queued+" Files"))},file_queued:function(a){div=$("<div></div>").attr({id:a.id,"class":"track"}),div.append($("<div></div>").attr("class","name").html(a.name.substring(0,10)+"...")),div.append($("<div></div>").attr("class","status").html("pending")),div.append($("<div></div>").attr("class","progress").append($("<div></div>"))),$("#tracks").prepend(div)},upload_start:function(a){$("#"+a.id+" div.status").html("Uploading...")},upload_progress:function(a,b,c){percent=Math.ceil(b/c*100),$("#"+a.id+" div.progress div").width(percent+"%")},upload_error:function(a,b,c){},upload_success:function(a,b){$("#"+a.id).html($(b).html())},upload_complete:function(a){Upload.files_queued-=1,Upload.files_queued==0&&$("#upload").addClass("disabled").attr("disabled","true").text("Upload 0 Files"),swfu.startUpload()},flash_ready:function(){},swf_upload_loaded:function(){},file_dialog_start:function(){},file_queue_error:function(a,b,c){},debug:function(a){}};;
TI"_version;
F"%881f1f5e03199bb080c601429e61e2d9